function contactController(){}function landingController(e,t,o){function r(){}var l=this;l.navButtonClicked=function(t){var r="/"+t;e.info("redirecting to: "+r),o.path(r)},r()}function locationsController(e,t){e.info("params are: ",t)}function shoppingController(e,t,o){var r=this;r.currentlyFilling={packaging:void 0,flavors:{noOfFlavors:0,selected:{SRPecans:!1,DRPecans:!1,CNPecans:!1,SRAlmond:!1,CNAlmond:!1,SRCashew:!1,SRPeanut:!1},proportions:{SRPecans:0,DRPecans:0,CNPecans:0,SRAlmond:0,CNAlmond:0,SRCashew:0,SRPeanut:0}}},r.cart=t,r.priceList=o}function emailHelper(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/emailHelper.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsChronoView(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsChronoView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsMapView(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsMapView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsThisWeek(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsThisWeek.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsTimeFilter(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsTimeFilter.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsToday(){function e(e,t,o,r){}function t(e,t,o){var r=this,l=o;r.todaysMarkets=l.get(),console.log(r.todaysMarkets)}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsToday.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","backendComFactory"],o}function packagingFiller(){function e(e,t,o,r){}function t(e,t){function o(e){return 1/e}function r(e){Object.keys(a.currentlyFilling.flavors.selected).forEach(function(t){a.currentlyFilling.flavors.selected[t]?a.currentlyFilling.flavors.proportions[t]=e:a.currentlyFilling.flavors.proportions[t]=0})}function l(e){var t={};return Object.keys(e).forEach(function(o){e[o]>0&&(t[o]=e[o])}),t}function n(e,t){var o=void 0;return o="platter"==e?t.SRPeanut>0:t.SRPeanut>=.5}function i(e,t){var o=0,r="withoutPeanuts",l=0,i=n(e,t);return i&&(r="withPeanuts",l=4*t.SRPeanut),o="platter"==e?a.pricing[r][e][l]:a.pricing[r][e]}function c(e,t,o){var r=i(e,t);return r*o}var a=this;a.qty=1,a.pickAFlavor=function(e){a.currentlyFilling.flavors.selected[e]=!a.currentlyFilling.flavors.selected[e],a.currentlyFilling.flavors.selected[e]?a.currentlyFilling.flavors.noOfFlavors++:a.currentlyFilling.flavors.noOfFlavors--;var l=o(a.currentlyFilling.flavors.noOfFlavors);r(l),t.info("# of Flavors",a.currentlyFilling.flavors.noOfFlavors,"split",l,"propritions",a.currentlyFilling.flavors.proportions)},a.addToCart=function(){var e=a.currentlyFilling.packaging,t=l(a.currentlyFilling.flavors.proportions),o=a.qty,r={selectedPackaging:e,mixture:t,qty:o,subtotatl:c(e,t,o)};a.addFilledPackage()(r)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/packagingFiller.directive.htm",replace:!0,scope:{pricing:"=",currentlyFilling:"=",addFilledPackage:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeEmpties(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeEmpties.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeFulls(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeFulls.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectFlavors(){function e(e,t,o,r){}function t(e,t){var o=this;o.fillAPackage=function(e){o.currentlyFilling.packaging=e},o.sizeBtnClicked=function(e){t.info("clikced",e,o.packagingSelected[e]),o.packagingSelected[e]=o.removeASize()(o.packagingSelected[e])}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectFlavors.directive.htm",replace:!0,scope:{packagingSelected:"=",removeASize:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectPackaging(){function e(e,t,o,r){}function t(e,t){var o=this;o.sizeBtnClicked=function(e){o.currentlyFilling.packaging=e,t.info("got this size, ",e)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectPackaging.directive.htm",replace:!0,scope:{currentlyFilling:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function toolBar(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function backendComFactory(e){function t(){return new Promise(function(e,t){e("it worked")})}var o={get:t};return o}function priceListFactory(e){var t={withPeanuts:{small:500,medium:800,large:1100,platter:{1:2e3,2:1800,3:1600,4:1400}},withoutPeanuts:{small:700,medium:1300,large:1800,platter:{0:2200}}};return t}function shoppingCartsFactory(e){function t(t){return e.info("got this",t," returning this ",t+1),t+1}function o(t){return t>0?(e.info("got this",t," returning this ",t-1),t-1):0}function r(t){e.info("adding a new package now",t)}function l(e,t){}var n={selectedPackaging:{smalls:0,mediums:0,larges:0,platters:0},filledPackaging:{smalls:{qty:0,mixes:[],subtotal:0},mediums:{qty:0,mixes:[],subtotal:0},larges:{qty:0,mixes:[],subtotal:0},platters:{qty:0,mixes:[],subtotal:0}},cost:{subtotal:0,taxes:0,discounts:0},addASize:t,removeASize:o,addFilledPackage:r,removeAPackage:l};return n}function config(e){e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/shop",{templateUrl:"views/shopping.htm",controller:"shoppingController",controllerAs:"vm"}).when("/locations",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state/:region",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/contact",{templateUrl:"views/contact.htm",controller:"contactController",controllerAs:"vm"})}config.$inject=["$routeProvider"];var ahNutsWebApp=angular.module("ahNutsWebApp",["ngRoute"]);angular.module("ahNutsWebApp").controller("contactController",contactController),contactController.$inject=[],angular.module("ahNutsWebApp").controller("landingController",landingController),landingController.$inject=["$log","$routeParams","$location"],angular.module("ahNutsWebApp").controller("locationsController",locationsController),locationsController.$inject=["$log","$routeParams"],angular.module("ahNutsWebApp").controller("shoppingController",shoppingController),shoppingController.$inject=["$log","shoppingCartsFactory","priceListFactory"],angular.module("ahNutsWebApp").directive("emailHelper",emailHelper),angular.module("ahNutsWebApp").directive("locationsChronoView",locationsChronoView),angular.module("ahNutsWebApp").directive("locationsMapView",locationsMapView),angular.module("ahNutsWebApp").directive("locationsThisWeek",locationsThisWeek),angular.module("ahNutsWebApp").directive("locationsTimeFilter",locationsTimeFilter),angular.module("ahNutsWebApp").directive("locationsToday",locationsToday),angular.module("ahNutsWebApp").directive("packagingFiller",packagingFiller),angular.module("ahNutsWebApp").directive("seeEmpties",seeEmpties),angular.module("ahNutsWebApp").directive("seeFulls",seeFulls),angular.module("ahNutsWebApp").directive("selectFlavors",selectFlavors),angular.module("ahNutsWebApp").directive("selectPackaging",selectPackaging),angular.module("ahNutsWebApp").directive("toolBar",toolBar),angular.module("ahNutsWebApp").factory("backendComFactory",backendComFactory),backendComFactory.$inject=["$log","$http"],angular.module("ahNutsWebApp").factory("priceListFactory",priceListFactory),priceListFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("shoppingCartsFactory",shoppingCartsFactory),shoppingCartsFactory.$inject=["$log"],angular.module("ahNutsWebApp").config(config);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvY29udGFjdC5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sYW5kaW5nLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xvY2F0aW9ucy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZy5jb250cm9sbGVyLmpzIiwiYnVuZGxlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsSGVscGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNDaHJvbm9WaWV3LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNNYXBWaWV3LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaGlzV2Vlay5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGltZUZpbHRlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRW1wdGllcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRnVsbHMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdFBhY2thZ2luZy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvdG9vbGJhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9iYWNrZW5kQ29tLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9wcmljZUxpc3RzLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9zaG9wcGluZ0NhcnRzLmZhY3RvcnkuanMiLCJzY3JpcHRzL3JvdXRlcy9yb3V0ZS1jb25maWcuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJjb250YWN0Q29udHJvbGxlciIsImxhbmRpbmdDb250cm9sbGVyIiwiJGxvZyIsIiRyb3V0ZVBhcmFtcyIsIiRsb2NhdGlvbiIsImluaXQiLCJ2bSIsInRoaXMiLCJuYXZCdXR0b25DbGlja2VkIiwicGFyYW0iLCJmdWxsUGF0aCIsImluZm8iLCJwYXRoIiwibG9jYXRpb25zQ29udHJvbGxlciIsInNob3BwaW5nQ29udHJvbGxlciIsInNob3BwaW5nQ2FydHNGYWN0b3J5IiwicHJpY2VMaXN0RmFjdG9yeSIsImN1cnJlbnRseUZpbGxpbmciLCJwYWNrYWdpbmciLCJ1bmRlZmluZWQiLCJmbGF2b3JzIiwibm9PZkZsYXZvcnMiLCJzZWxlY3RlZCIsIlNSUGVjYW5zIiwiRFJQZWNhbnMiLCJDTlBlY2FucyIsIlNSQWxtb25kIiwiQ05BbG1vbmQiLCJTUkNhc2hldyIsIlNSUGVhbnV0IiwicHJvcG9ydGlvbnMiLCJjYXJ0IiwicHJpY2VMaXN0IiwiZW1haWxIZWxwZXIiLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsImVtYWlsSGVscGVyQ29udHJvbGxlciIsIiRzY29wZSIsIiRpbmplY3QiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwicmVwbGFjZSIsImxpbmsiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYmluZFRvQ29udHJvbGxlciIsImxvY2F0aW9uc0Nocm9ub1ZpZXciLCJsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlciIsImxvY2F0aW9uc01hcFZpZXciLCJsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlciIsImxvY2F0aW9uc1RoaXNXZWVrIiwibG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyIiwibG9jYXRpb25zVGltZUZpbHRlciIsImxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyIiwibG9jYXRpb25zVG9kYXkiLCJsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIiLCJiYWNrZW5kQ29tRmFjdG9yeSIsImJhY2tlbmQiLCJ0b2RheXNNYXJrZXRzIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsInBhY2thZ2luZ0ZpbGxlciIsInBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIiLCJlcXVhbFNwbGl0IiwiZGl2aXNpb25zIiwiYXNzaWduRXF1YWxTcGxpdCIsImVxdWFsUG9ydGlvbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiZmxhdm9yIiwic3VwcGx5TWl4dHVyZU9iamVjdCIsImZsYXZvclByb3BvcnRpb25zIiwicmV0dXJuT2JqZWN0IiwiY2hlY2tGb3JQZWFudXRzIiwibWl4dHVyZSIsImhhc1BlYW51dHMiLCJjYWxjdWxhdGVQdXJjaGFzZVByaWNlIiwic2FsZVByaWNlIiwicGVhbnV0U3RhdHVzIiwicGVhbnV0U2VjdGlvbnMiLCJwZWFudXRzQXJlUHJlc2VudCIsInByaWNpbmciLCJjYWxjdWxhdGVJdGVtU3VidG90YWwiLCJxdHkiLCJwdXJjaGFzZVByaWNlIiwicGlja0FGbGF2b3IiLCJlcXVhbFBvcnRpb25zIiwiYWRkVG9DYXJ0IiwidGhpc1BhY2thZ2luZyIsInRoaXNNaXh0dXJlIiwidGhpc1F1YW50aXR5IiwibmV3UGFja2FnZSIsInNlbGVjdGVkUGFja2FnaW5nIiwic3VidG90YXRsIiwiYWRkRmlsbGVkUGFja2FnZSIsInNlZUVtcHRpZXMiLCJzZWVFbXB0aWVzQ29udHJvbGxlciIsInNlZUZ1bGxzIiwic2VlRnVsbHNDb250cm9sbGVyIiwic2VsZWN0Rmxhdm9ycyIsInNlbGVjdEZsYXZvcnNDb250cm9sbGVyIiwiZmlsbEFQYWNrYWdlIiwic2l6ZUJ0bkNsaWNrZWQiLCJwYWNrYWdpbmdTZWxlY3RlZCIsInJlbW92ZUFTaXplIiwic2VsZWN0UGFja2FnaW5nIiwic2VsZWN0UGFja2FnaW5nQ29udHJvbGxlciIsInNpemUiLCJ0b29sQmFyIiwiVG9vbEJhckNvbnRyb2xsZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJhY2tlbmRDb21FbGVtZW50cyIsImFsbFByaWNlcyIsIndpdGhQZWFudXRzIiwic21hbGwiLCJtZWRpdW0iLCJsYXJnZSIsInBsYXR0ZXIiLCIxIiwiMiIsIjMiLCI0Iiwid2l0aG91dFBlYW51dHMiLCIwIiwiYWRkQVNpemUiLCJzdGFydGluZ1ZhbHVlIiwicmVtb3ZlQVBhY2thZ2UiLCJpZCIsImFsbENhcnRFbGVtZW50cyIsInNtYWxscyIsIm1lZGl1bXMiLCJsYXJnZXMiLCJwbGF0dGVycyIsImZpbGxlZFBhY2thZ2luZyIsIm1peGVzIiwic3VidG90YWwiLCJjb3N0IiwidGF4ZXMiLCJkaXNjb3VudHMiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJhaE51dHNXZWJBcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBT0EsUUFBQUEsc0JDQUEsUUFBQUMsbUJBQUFDLEVBQUFDLEVBQUFDLEdBTUEsUUFBQUMsTUFIQSxHQUFBQyxHQUFBQyxJQVdBRCxHQUFBRSxpQkFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUEsSUFBQUQsQ0FFQVAsR0FBQVMsS0FBQSxtQkFBQUQsR0FDQU4sRUFBQVEsS0FBQUYsSUFJQUwsSUN0QkEsUUFBQVEscUJBQUFYLEVBQUFDLEdBTUFELEVBQUFTLEtBQUEsZUFBQVIsR0NOQSxRQUFBVyxvQkFBQVosRUFBQWEsRUFBQUMsR0FHQSxHQUFBVixHQUFBQyxJQUdBRCxHQUFBVyxrQkFDQUMsVUFBQUMsT0FDQUMsU0FDQUMsWUFBQSxFQUNBQyxVQUNBQyxVQUFBLEVBQ0FDLFVBQUEsRUFDQUMsVUFBQSxFQUNBQyxVQUFBLEVBQ0FDLFVBQUEsRUFDQUMsVUFBQSxFQUNBQyxVQUFBLEdBRUFDLGFBQ0FQLFNBQUEsRUFDQUMsU0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFNBQUEsRUFDQUMsU0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFNBQUEsS0FNQXZCLEVBQUF5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QVQsYUNGQXNILFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLHNCQUFBUSxxQkNGQXFHLFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLG1CQUFBVSxrQkNGQW1HLFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLG9CQUFBWSxtQkNGQWlHLFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLHNCQUFBYyxxQkNGQStGLFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLGlCQUFBZ0IsZ0JDRkE2RixRQUNBQyxPQUFBLGdCQUNBOUcsVUFBQSxrQkFBQXdCLGlCQ0ZBcUYsUUFDQUMsT0FBQSxnQkFDQTlHLFVBQUEsYUFBQTJELFlDRkFrRCxRQUNBQyxPQUFBLGdCQUNBOUcsVUFBQSxXQUFBNkQsVUNGQWdELFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLGdCQUFBK0QsZUNGQThDLFFBQ0FDLE9BQUEsZ0JBQ0E5RyxVQUFBLGtCQUFBcUUsaUJDRkF3QyxRQUNBQyxPQUFBLGdCQUNBOUcsVUFBQSxVQUFBd0UsU0NUQXFDLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsb0JBQUE3RixtQkFFQUEsa0JBQUFuQixTQUFBLE9BQUEsU0NKQThHLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsbUJBQUF6SSxrQkFFQUEsaUJBQUF5QixTQUFBLFFDSkE4RyxRQUNBQyxPQUFBLGdCQUNBQyxRQUFBLHVCQUFBMUksc0JBRUFBLHFCQUFBMEIsU0FBQSxRQ0pBOEcsUUFDQUMsT0FBQSxnQkFDQUwsT0FBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3RDb250cm9sbGVyJywgY29udGFjdENvbnRyb2xsZXIpO1xuXG5jb250YWN0Q29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdENvbnRyb2xsZXIoKSB7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbG9jYWwgbWV0aG9kc1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBzdGF0ZSBvZiB0aGlzIHBhZ2Vcblx0XHRcblx0XHRcblxuXHR9O1xuXG5cdC8vdmlldyBtZXRob2RzXG5cdHZtLm5hdkJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbihwYXJhbSkge1xuXHRcdHZhciBmdWxsUGF0aCA9ICcvJyArIHBhcmFtO1xuXHRcdC8vcmVkaXJlY3Rcblx0XHQkbG9nLmluZm8oJ3JlZGlyZWN0aW5nIHRvOiAnICsgZnVsbFBhdGgpO1xuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxuXG5cdC8vcnVuIGluaXQgZnVuY3Rpb25cblx0aW5pdCgpO1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsb2NhdGlvbnNDb250cm9sbGVyJywgbG9jYXRpb25zQ29udHJvbGxlcik7XG5cbmxvY2F0aW9uc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL25vdGlmeSB0aGUgcGFyYW1zIGZvciB0aGUgdGltZSBiZWluZ1x0VE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXHQkbG9nLmluZm8oJ3BhcmFtcyBhcmU6ICcsICRyb3V0ZVBhcmFtcyk7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cblx0Ly92aWV3IG1ldGhvZHNcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdDb250cm9sbGVyJywgc2hvcHBpbmdDb250cm9sbGVyKTtcblxuc2hvcHBpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCAncHJpY2VMaXN0RmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ29udHJvbGxlcigkbG9nLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSwgcHJpY2VMaXN0RmFjdG9yeSkge1xuXG5cdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZXNcbiAgICB2bS5jdXJyZW50bHlGaWxsaW5nID0ge1xuICAgIFx0cGFja2FnaW5nOiB1bmRlZmluZWQsXG4gICAgXHRmbGF2b3JzOiB7XG4gICAgXHRcdG5vT2ZGbGF2b3JzOiAwLFxuICAgIFx0XHRzZWxlY3RlZDoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHREUlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0Q05QZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdFNSQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRDTkFsbW9uZDogZmFsc2UsXG5cdCAgICBcdFx0U1JDYXNoZXc6IGZhbHNlLFxuXHQgICAgXHRcdFNSUGVhbnV0OiBmYWxzZVxuICAgIFx0XHR9LFxuICAgIFx0XHRwcm9wb3J0aW9uczoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdERSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdENOUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdFNSQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdENOQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdFNSQ2FzaGV3OiAwLjAwLFxuXHQgICAgXHRcdFNSUGVhbnV0OiAwLjAwXG4gICAgXHRcdH1cbiAgICBcdH1cbiAgICB9O1xuXG5cdC8vYWRkIHRoZSBzaG9wcGluZyBjYXJ0IHRvIHRoaXMgY29udHJvbGxlciwgZm9yIGFjY2VzcyBmcm9tIGRpcmVjdGl2ZXNcblx0dm0uY2FydCA9IHNob3BwaW5nQ2FydHNGYWN0b3J5O1xuXHR2bS5wcmljZUxpc3QgPSBwcmljZUxpc3RGYWN0b3J5O1xuXG59IiwiLy8gTU9EVUxFXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCJdO1xudmFyIGFoTnV0c1dlYkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhaE51dHNXZWJBcHAnLCBbJ25nUm91dGUnXSk7XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3RDb250cm9sbGVyJywgY29udGFjdENvbnRyb2xsZXIpO1xuXG5jb250YWN0Q29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdENvbnRyb2xsZXIoKSB7XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24pIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIHN0YXRlIG9mIHRoaXMgcGFnZVxuXHRcdFxuXHRcdFxuXG5cdH07XG5cblx0Ly92aWV3IG1ldGhvZHNcblx0dm0ubmF2QnV0dG9uQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhcmFtKSB7XG5cdFx0dmFyIGZ1bGxQYXRoID0gJy8nICsgcGFyYW07XG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2cuaW5mbygncmVkaXJlY3RpbmcgdG86ICcgKyBmdWxsUGF0aCk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG5cblx0Ly9ydW4gaW5pdCBmdW5jdGlvblxuXHRpbml0KCk7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbG9jYXRpb25zQ29udHJvbGxlcicsIGxvY2F0aW9uc0NvbnRyb2xsZXIpO1xuXG5sb2NhdGlvbnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zQ29udHJvbGxlcigkbG9nLCAkcm91dGVQYXJhbXMpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9ub3RpZnkgdGhlIHBhcmFtcyBmb3IgdGhlIHRpbWUgYmVpbmdcdFRPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0JGxvZy5pbmZvKCdwYXJhbXMgYXJlOiAnLCAkcm91dGVQYXJhbXMpO1xuXG5cdC8vbG9jYWwgbWV0aG9kc1xuXG5cdC8vdmlldyBtZXRob2RzXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdDb250cm9sbGVyJywgc2hvcHBpbmdDb250cm9sbGVyKTtcblxuc2hvcHBpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCAncHJpY2VMaXN0RmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ29udHJvbGxlcigkbG9nLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSwgcHJpY2VMaXN0RmFjdG9yeSkge1xuXG5cdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZXNcbiAgICB2bS5jdXJyZW50bHlGaWxsaW5nID0ge1xuICAgIFx0cGFja2FnaW5nOiB1bmRlZmluZWQsXG4gICAgXHRmbGF2b3JzOiB7XG4gICAgXHRcdG5vT2ZGbGF2b3JzOiAwLFxuICAgIFx0XHRzZWxlY3RlZDoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHREUlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0Q05QZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdFNSQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRDTkFsbW9uZDogZmFsc2UsXG5cdCAgICBcdFx0U1JDYXNoZXc6IGZhbHNlLFxuXHQgICAgXHRcdFNSUGVhbnV0OiBmYWxzZVxuICAgIFx0XHR9LFxuICAgIFx0XHRwcm9wb3J0aW9uczoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdERSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdENOUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdFNSQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdENOQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdFNSQ2FzaGV3OiAwLjAwLFxuXHQgICAgXHRcdFNSUGVhbnV0OiAwLjAwXG4gICAgXHRcdH1cbiAgICBcdH1cbiAgICB9O1xuXG5cdC8vYWRkIHRoZSBzaG9wcGluZyBjYXJ0IHRvIHRoaXMgY29udHJvbGxlciwgZm9yIGFjY2VzcyBmcm9tIGRpcmVjdGl2ZXNcblx0dm0uY2FydCA9IHNob3BwaW5nQ2FydHNGYWN0b3J5O1xuXHR2bS5wcmljZUxpc3QgPSBwcmljZUxpc3RGYWN0b3J5O1xuXG59XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEhlbHBlcicsIGVtYWlsSGVscGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEhlbHBlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2VtYWlsSGVscGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsSGVscGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGVtYWlsSGVscGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGVtYWlsSGVscGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc0Nocm9ub1ZpZXcnLCBsb2NhdGlvbnNDaHJvbm9WaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDaHJvbm9WaWV3KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zQ2hyb25vVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNNYXBWaWV3JywgbG9jYXRpb25zTWFwVmlldyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zTWFwVmlldygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc01hcFZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLypmdW5jdGlvbiBpbml0TWFwKCkge1xuXHQgICAgICAgIHZhciB1bHVydSA9IHtsYXQ6IC0yNS4zNjMsIGxuZzogMTMxLjA0NH07XG5cdCAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG5cdCAgICAgICAgICB6b29tOiA0LFxuXHQgICAgICAgICAgY2VudGVyOiB1bHVydVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0ICAgICAgICAgIHBvc2l0aW9uOiB1bHVydSxcblx0ICAgICAgICAgIG1hcDogbWFwXG5cdCAgICAgICAgfSk7XG5cdCAgICB9Ki9cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGhpc1dlZWsnLCBsb2NhdGlvbnNUaGlzV2Vlayk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWsoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaGlzV2Vlay5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUaW1lRmlsdGVyJywgbG9jYXRpb25zVGltZUZpbHRlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGltZUZpbHRlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RpbWVGaWx0ZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVG9kYXknLCBsb2NhdGlvbnNUb2RheSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVG9kYXkoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUb2RheS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnYmFja2VuZENvbUZhY3RvcnknXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBiYWNrZW5kQ29tRmFjdG9yeSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZhciBiYWNrZW5kID0gYmFja2VuZENvbUZhY3Rvcnk7XG5cblx0ICAgIHZtLnRvZGF5c01hcmtldHMgPSBiYWNrZW5kLmdldCgpO1xuXG5cdCAgICBjb25zb2xlLmxvZyh2bS50b2RheXNNYXJrZXRzKTtcblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3BhY2thZ2luZ0ZpbGxlcicsIHBhY2thZ2luZ0ZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcGFja2FnaW5nRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHByaWNpbmc6IFwiPVwiLFxuXHRcdFx0Y3VycmVudGx5RmlsbGluZzogXCI9XCIsXG5cdFx0XHRhZGRGaWxsZWRQYWNrYWdlOiBcIiZcIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIHZhcmlhYmxlc1xuXHQgICAgdm0ucXR5ID0gMTtcblxuXHQgICAgZnVuY3Rpb24gZXF1YWxTcGxpdChkaXZpc2lvbnMpIHtcblx0ICAgIFx0cmV0dXJuIDEgLyBkaXZpc2lvbnM7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGFzc2lnbkVxdWFsU3BsaXQoZXF1YWxQb3J0aW9uKSB7XG5cblx0ICAgIFx0T2JqZWN0LmtleXModm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkKS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHQgICAgXHRcdFxuXHQgICAgXHRcdGlmKHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5zZWxlY3RlZFtmbGF2b3JdKVxuXHQgICAgXHRcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnByb3BvcnRpb25zW2ZsYXZvcl0gPSBlcXVhbFBvcnRpb247XG5cdCAgICBcdFx0ZWxzZVxuXHQgICAgXHRcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnByb3BvcnRpb25zW2ZsYXZvcl0gPSAwLjAwXG5cblx0ICAgIFx0fSlcblxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBzdXBwbHlNaXh0dXJlT2JqZWN0KGZsYXZvclByb3BvcnRpb25zKSB7XHRcdC8vcmVjZWl2ZSBhbGwgdGhlIHByb3BydGlvbnNcblx0ICAgIFx0Ly9pbml0aWFsaXplIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdHZhciByZXR1cm5PYmplY3QgPSB7fTtcblxuXHQgICAgXHQvL2N5Y2xlIHRocm91Z2ggYWxsIHRoZSBmbGF2b3JzLCBpZiBwcm9wb3J0aW9uIGlzIGdyZWF0IHRoYW4gXG5cdCAgICBcdE9iamVjdC5rZXlzKGZsYXZvclByb3BvcnRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXG5cdCAgICBcdFx0aWYoZmxhdm9yUHJvcG9ydGlvbnNbZmxhdm9yXSA+IDApXG5cdCAgICBcdFx0XHRyZXR1cm5PYmplY3RbZmxhdm9yXSA9IGZsYXZvclByb3BvcnRpb25zW2ZsYXZvcl1cblxuXHQgICAgXHR9KTtcblxuXHQgICAgXHRyZXR1cm4gcmV0dXJuT2JqZWN0XHRcdC8vcmV0dXJuIGEgZGlzdGlsbGVkIGxpc3Qgb2YgcHJvcG9ydGlvbnNcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2hlY2tGb3JQZWFudXRzKHBhY2thZ2luZywgbWl4dHVyZSkge1xuXG5cdCAgICBcdHZhciBoYXNQZWFudXRzID0gdW5kZWZpbmVkO1xuXG5cdCAgICBcdC8vaXMgdGhpcyBhIG1peHR1cmUgb3IgYSBwbGF0dGVyP1xuXHQgICAgXHRpZihwYWNrYWdpbmc9PSdwbGF0dGVyJykge1xuXHQgICAgXHRcdC8vYSBwbGF0dGVyIHdpdGggYXQgbGVhc3Qgb25lIHNlY3Rpb24gb2YgcGVhbnV0cyBoYXMgcGVhbnV0c1xuXHQgICAgXHRcdGlmKG1peHR1cmUuU1JQZWFudXQgPiAwKSBoYXNQZWFudXRzID0gdHJ1ZTtcblx0ICAgIFx0XHRlbHNlIGhhc1BlYW51dHMgPSBmYWxzZTtcblxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdC8vYSBtaXh0dXJlIG11c3QgaGF2ZSBhdCBsZWFzdCA1MCUgcGVhbnV0cyB0byBiZSBjb25zaWRlcmVkIHBlYW51dFxuXHQgICAgXHRcdGlmKG1peHR1cmUuU1JQZWFudXQgPj0gMC41KSBoYXNQZWFudXRzID0gdHJ1ZTtcblx0ICAgIFx0XHRlbHNlIGhhc1BlYW51dHMgPSBmYWxzZTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdHJldHVybiBoYXNQZWFudXRzO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjYWxjdWxhdGVQdXJjaGFzZVByaWNlKHBhY2thZ2luZywgbWl4dHVyZSkge1xuXHQgICAgXHRcblx0ICAgIFx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdHZhciBzYWxlUHJpY2UgPSAwO1xuXHQgICAgXHR2YXIgcGVhbnV0U3RhdHVzID0gJ3dpdGhvdXRQZWFudXRzJztcblx0ICAgIFx0dmFyIHBlYW51dFNlY3Rpb25zID0gMDtcblxuXHQgICAgXHQvL2RldGVybWluZSBwZWFudXRzIHByZXNlbmNlIGFuZCBxdHlcblx0ICAgIFx0dmFyIHBlYW51dHNBcmVQcmVzZW50ID0gY2hlY2tGb3JQZWFudXRzKHBhY2thZ2luZywgbWl4dHVyZSk7XG5cblx0ICAgIFx0aWYocGVhbnV0c0FyZVByZXNlbnQpIHtcblx0ICAgIFx0XHQvL3NldCB0aGUgb2JqZWN0IHZhbHVlXG5cdCAgICBcdFx0cGVhbnV0U3RhdHVzID0gJ3dpdGhQZWFudXRzJztcblx0ICAgIFx0XHQvL2NhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHBlYW51dCBzZWN0aW9uc1xuXHQgICAgXHRcdHBlYW51dFNlY3Rpb25zID0gbWl4dHVyZS5TUlBlYW51dCAqIDQ7XG5cdCAgICBcdH1cblxuXHQgICAgXHQvL3BhY2thZ2luZyBkaWZmZXJzIGZvciBwbGF0dGVycyBhbmQgYmFnc1xuXHQgICAgXHRpZihwYWNrYWdpbmc9PSdwbGF0dGVyJykge1xuXHQgICAgXHRcdHNhbGVQcmljZSA9IHZtLnByaWNpbmdbcGVhbnV0U3RhdHVzXVtwYWNrYWdpbmddW3BlYW51dFNlY3Rpb25zXTtcblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHRzYWxlUHJpY2UgPSB2bS5wcmljaW5nW3BlYW51dFN0YXR1c11bcGFja2FnaW5nXTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdHJldHVybiBzYWxlUHJpY2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbChwYWNrYWdpbmcsIG1peHR1cmUsIHF0eSkge1xuXG5cdCAgICBcdHZhciBwdXJjaGFzZVByaWNlID0gY2FsY3VsYXRlUHVyY2hhc2VQcmljZShwYWNrYWdpbmcsIG1peHR1cmUpO1xuXG5cdCAgICBcdHJldHVybiBwdXJjaGFzZVByaWNlICogcXR5O1xuXHQgICAgfVxuXG5cdCAgICAvL3ZpZXdtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5waWNrQUZsYXZvciA9IGZ1bmN0aW9uKGZsYXZvcikge1xuXG5cdCAgICBcdC8vZmlyc3QgZmxpcCB0aGUgY2hlY2tib3hcblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl0gPSAhdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl07XG5cblx0ICAgIFx0Ly9pbmNyZWFzZSBvciBkZWNyZWFzZSB0aGUgbnVtYmVyIG9mIGZsYXZvcnMgYmFzZWQgb24gdGhlIHNpZ25cblx0ICAgIFx0aWYodm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl0pXG5cdCAgICBcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLm5vT2ZGbGF2b3JzKys7XG5cdCAgICBcdGVsc2Vcblx0ICAgIFx0XHR2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMubm9PZkZsYXZvcnMtLTtcblxuXHQgICAgXHQvL3RoZW4gZm9yIGVxdWFsIHNwbGl0IGNhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSwgYmFzZWQgb24gdGhlIG51bWJlciBvZiBmbGF2b3JzXG5cdCAgICBcdHZhciBlcXVhbFBvcnRpb25zID0gZXF1YWxTcGxpdCh2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMubm9PZkZsYXZvcnMpO1xuXHQgICAgXHRhc3NpZ25FcXVhbFNwbGl0KGVxdWFsUG9ydGlvbnMpO1xuXG5cdCAgICBcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdCAgICBcdCRsb2cuaW5mbygnIyBvZiBGbGF2b3JzJywgdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLm5vT2ZGbGF2b3JzLCBcInNwbGl0XCIsIGVxdWFsUG9ydGlvbnMsICdwcm9wcml0aW9ucycsIHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5wcm9wb3J0aW9ucyk7XG5cdCAgICB9XG5cblx0ICAgIHZtLmFkZFRvQ2FydCA9IGZ1bmN0aW9uKCkge1x0XHQvL2FkZCB0aGUgY3VycmVudCBpdGVtIHRvIHRoZSBjYXJ0XG5cdCAgICBcdFxuXHQgICAgXHQvL2Rpc3RpbGwgdGhlIG1peHR1cmVcblx0ICAgIFx0dmFyIHRoaXNQYWNrYWdpbmcgPSB2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZztcblx0ICAgIFx0dmFyIHRoaXNNaXh0dXJlID0gc3VwcGx5TWl4dHVyZU9iamVjdCh2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMucHJvcG9ydGlvbnMpO1xuXHQgICAgXHR2YXIgdGhpc1F1YW50aXR5ID0gdm0ucXR5O1xuXG5cdCAgICBcdC8vZm9ybWF0IHRoZSBvYmplY3QgdG8gYmUgYWRkZWQgdG8gdGhlIGNhcnRcblx0ICAgIFx0dmFyIG5ld1BhY2thZ2UgPSB7XG5cdCAgICBcdFx0c2VsZWN0ZWRQYWNrYWdpbmc6IHRoaXNQYWNrYWdpbmcsXG5cdCAgICBcdFx0bWl4dHVyZTogdGhpc01peHR1cmUsXG5cdCAgICBcdFx0cXR5OiB0aGlzUXVhbnRpdHksXG5cdCAgICBcdFx0c3VidG90YXRsOiBjYWxjdWxhdGVJdGVtU3VidG90YWwodGhpc1BhY2thZ2luZywgdGhpc01peHR1cmUsIHRoaXNRdWFudGl0eSlcblx0ICAgIFx0fTtcblxuXHQgICAgXHQvL3Bhc3MgaXQgdG8gdGhlIGNhcnRcblx0ICAgIFx0dm0uYWRkRmlsbGVkUGFja2FnZSgpKG5ld1BhY2thZ2UpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWVFbXB0aWVzJywgc2VlRW1wdGllcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRW1wdGllcygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VlRnVsbHMnLCBzZWVGdWxscyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRnVsbHMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWVGdWxscy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWVGdWxsc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVGdWxsc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWVGdWxsc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cGFja2FnaW5nU2VsZWN0ZWQ6ICc9Jyxcblx0XHRcdHJlbW92ZUFTaXplOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblxuXHQgICAgLy9hc3NpZ24gYSBiYWcgdG8gYmUgZmlsbGVkXG5cdCAgICB2bS5maWxsQVBhY2thZ2UgPSBmdW5jdGlvbihwYWNrYWdpbmcpIHtcblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmcgPSBwYWNrYWdpbmc7XG5cdCAgICB9XG5cblx0ICAgIHZtLnNpemVCdG5DbGlja2VkID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdCRsb2cuaW5mbygnY2xpa2NlZCcsIHBhY2thZ2luZywgdm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICBcdC8vZGVjcmVtZW50IHRoZSBjb3VudCBvZiB0aGlzIHBhY2thZ2UgdGhhdCB3YXMgY2xpY2tlZFxuXHQgICAgXHR2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddID0gdm0ucmVtb3ZlQVNpemUoKSh2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0UGFja2FnaW5nJywgc2VsZWN0UGFja2FnaW5nKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmcoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y3VycmVudGx5RmlsbGluZzogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHNpemUpIHtcblxuXHQgICAgXHR2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZyA9IHNpemU7XG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgc2l6ZSwgJywgc2l6ZSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZENvbUZhY3RvcnknLCBiYWNrZW5kQ29tRmFjdG9yeSk7XG5cbmJhY2tlbmRDb21GYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kQ29tRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRyZXNvbHZlKCdpdCB3b3JrZWQnKTtcblxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRDb21FbGVtZW50cztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3ByaWNlTGlzdEZhY3RvcnknLCBwcmljZUxpc3RGYWN0b3J5KTtcblxucHJpY2VMaXN0RmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJpY2VMaXN0RmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxQcmljZXMgPSB7XG5cdFx0d2l0aFBlYW51dHM6IHtcblx0XHRcdHNtYWxsOiA1MDAsXG5cdFx0XHRtZWRpdW06IDgwMCxcblx0XHRcdGxhcmdlOiAxMTAwLFxuXHRcdFx0cGxhdHRlcjoge1xuXHRcdFx0XHQxOiAyMDAwLFxuXHRcdFx0XHQyOiAxODAwLFxuXHRcdFx0XHQzOiAxNjAwLFxuXHRcdFx0XHQ0OiAxNDAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR3aXRob3V0UGVhbnV0czoge1xuXHRcdFx0c21hbGw6IDcwMCxcblx0XHRcdG1lZGl1bTogMTMwMCxcblx0XHRcdGxhcmdlOiAxODAwLFxuXHRcdFx0cGxhdHRlcjoge1xuXHRcdFx0XHQwOiAyMjAwXG5cdFx0XHR9XHRcdFx0XG5cdFx0fVxuXHR9O1xuXHRcblx0cmV0dXJuIGFsbFByaWNlcztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3Nob3BwaW5nQ2FydHNGYWN0b3J5Jywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnkpO1xuXG5zaG9wcGluZ0NhcnRzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdDYXJ0c0ZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsQ2FydEVsZW1lbnRzID0ge1xuXHRcdHNlbGVjdGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IDAsXG5cdFx0XHRtZWRpdW1zOiAwLFxuXHRcdFx0bGFyZ2VzOiAwLFxuXHRcdFx0cGxhdHRlcnM6IDBcblx0XHR9LFxuXHRcdGZpbGxlZFBhY2thZ2luZzoge1xuXHRcdFx0c21hbGxzOiB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdG1lZGl1bXM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdGxhcmdlczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0cGxhdHRlcnM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y29zdDoge1xuXHRcdFx0c3VidG90YWw6IDAsXG5cdFx0XHR0YXhlczogMCxcblx0XHRcdGRpc2NvdW50czogMFxuXHRcdH0sXG5cdFx0YWRkQVNpemU6IGFkZEFTaXplLFxuXHRcdHJlbW92ZUFTaXplOiByZW1vdmVBU2l6ZSxcblx0XHRhZGRGaWxsZWRQYWNrYWdlOiBhZGRGaWxsZWRQYWNrYWdlLFxuXHRcdHJlbW92ZUFQYWNrYWdlOiByZW1vdmVBUGFja2FnZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGFkZEFTaXplKHN0YXJ0aW5nVmFsdWUpIHtcblx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXIgd2hhdCBpcyBjb21pbmcgaW4gYW5kIHdoYXQgaXMgZ29pbmcgb3V0XG5cdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSArIDEpO1xuXG5cdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdHJldHVybiBzdGFydGluZ1ZhbHVlICsgMTtcblx0fVxuXHRmdW5jdGlvbiByZW1vdmVBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0XG5cdFx0aWYoc3RhcnRpbmdWYWx1ZSA+IDApIHtcblx0XHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSAtIDEpO1xuXG5cdFx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSAtIDE7XG5cdFx0fSBlbHNlIHJldHVybiAwO1x0XHRcblx0fVxuXHRmdW5jdGlvbiBhZGRGaWxsZWRQYWNrYWdlKG5ld1BhY2thZ2UpIHtcblx0XHQkbG9nLmluZm8oJ2FkZGluZyBhIG5ldyBwYWNrYWdlIG5vdycsIG5ld1BhY2thZ2UpO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUFQYWNrYWdlKHNpemUsIGlkKSB7fVxuXG5cdFxuXHRyZXR1cm4gYWxsQ2FydEVsZW1lbnRzO1xuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikgeyAgIFxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgLy9kZWZpbmUgdGhlIGxhbmRpbmcgcGFnZVxuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xhbmRpbmdQYWdlLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIHNob3BwaW5nIHJvdXRlc1xuICAgIC53aGVuKCcvc2hvcCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zaG9wcGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnc2hvcHBpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgbG9jYXRpb25zIHJvdXRlc1xuICAgIC53aGVuKCcvbG9jYXRpb25zJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pICAgIFxuICAgIC53aGVuKCcvbG9jYXRpb25zLzpzdGF0ZScsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvbG9jYXRpb25zLzpzdGF0ZS86cmVnaW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGNvbnRhY3Qgcm91dGVzXG4gICAgLndoZW4oJy9jb250YWN0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbnRhY3QuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3RDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG59XG4iLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEhlbHBlcicsIGVtYWlsSGVscGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEhlbHBlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lbWFpbEhlbHBlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBlbWFpbEhlbHBlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEhlbHBlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlbWFpbEhlbHBlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zQ2hyb25vVmlldycsIGxvY2F0aW9uc0Nocm9ub1ZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXcoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zQ2hyb25vVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zTWFwVmlldycsIGxvY2F0aW9uc01hcFZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXcoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zTWFwVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvKmZ1bmN0aW9uIGluaXRNYXAoKSB7XG5cdCAgICAgICAgdmFyIHVsdXJ1ID0ge2xhdDogLTI1LjM2MywgbG5nOiAxMzEuMDQ0fTtcblx0ICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcblx0ICAgICAgICAgIHpvb206IDQsXG5cdCAgICAgICAgICBjZW50ZXI6IHVsdXJ1XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHQgICAgICAgICAgcG9zaXRpb246IHVsdXJ1LFxuXHQgICAgICAgICAgbWFwOiBtYXBcblx0ICAgICAgICB9KTtcblx0ICAgIH0qL1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGhpc1dlZWsnLCBsb2NhdGlvbnNUaGlzV2Vlayk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWsoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGhpc1dlZWsuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RpbWVGaWx0ZXInLCBsb2NhdGlvbnNUaW1lRmlsdGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNUaW1lRmlsdGVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RpbWVGaWx0ZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RvZGF5JywgbG9jYXRpb25zVG9kYXkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RvZGF5LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdiYWNrZW5kQ29tRmFjdG9yeSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlcigkc2NvcGUsICRsb2csIGJhY2tlbmRDb21GYWN0b3J5KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgdmFyIGJhY2tlbmQgPSBiYWNrZW5kQ29tRmFjdG9yeTtcblxuXHQgICAgdm0udG9kYXlzTWFya2V0cyA9IGJhY2tlbmQuZ2V0KCk7XG5cblx0ICAgIGNvbnNvbGUubG9nKHZtLnRvZGF5c01hcmtldHMpO1xuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3BhY2thZ2luZ0ZpbGxlcicsIHBhY2thZ2luZ0ZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRwcmljaW5nOiBcIj1cIixcblx0XHRcdGN1cnJlbnRseUZpbGxpbmc6IFwiPVwiLFxuXHRcdFx0YWRkRmlsbGVkUGFja2FnZTogXCImXCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnF0eSA9IDE7XG5cblx0ICAgIGZ1bmN0aW9uIGVxdWFsU3BsaXQoZGl2aXNpb25zKSB7XG5cdCAgICBcdHJldHVybiAxIC8gZGl2aXNpb25zO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBhc3NpZ25FcXVhbFNwbGl0KGVxdWFsUG9ydGlvbikge1xuXG5cdCAgICBcdE9iamVjdC5rZXlzKHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5zZWxlY3RlZCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHRcblx0ICAgIFx0XHRpZih2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMuc2VsZWN0ZWRbZmxhdm9yXSlcblx0ICAgIFx0XHRcdHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5wcm9wb3J0aW9uc1tmbGF2b3JdID0gZXF1YWxQb3J0aW9uO1xuXHQgICAgXHRcdGVsc2Vcblx0ICAgIFx0XHRcdHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5wcm9wb3J0aW9uc1tmbGF2b3JdID0gMC4wMFxuXG5cdCAgICBcdH0pXG5cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc3VwcGx5TWl4dHVyZU9iamVjdChmbGF2b3JQcm9wb3J0aW9ucykge1x0XHQvL3JlY2VpdmUgYWxsIHRoZSBwcm9wcnRpb25zXG5cdCAgICBcdC8vaW5pdGlhbGl6ZSBsb2NhbCB2YXJpYWJsZVxuXHQgICAgXHR2YXIgcmV0dXJuT2JqZWN0ID0ge307XG5cblx0ICAgIFx0Ly9jeWNsZSB0aHJvdWdoIGFsbCB0aGUgZmxhdm9ycywgaWYgcHJvcG9ydGlvbiBpcyBncmVhdCB0aGFuIFxuXHQgICAgXHRPYmplY3Qua2V5cyhmbGF2b3JQcm9wb3J0aW9ucykuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblxuXHQgICAgXHRcdGlmKGZsYXZvclByb3BvcnRpb25zW2ZsYXZvcl0gPiAwKVxuXHQgICAgXHRcdFx0cmV0dXJuT2JqZWN0W2ZsYXZvcl0gPSBmbGF2b3JQcm9wb3J0aW9uc1tmbGF2b3JdXG5cblx0ICAgIFx0fSk7XG5cblx0ICAgIFx0cmV0dXJuIHJldHVybk9iamVjdFx0XHQvL3JldHVybiBhIGRpc3RpbGxlZCBsaXN0IG9mIHByb3BvcnRpb25zXG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNoZWNrRm9yUGVhbnV0cyhwYWNrYWdpbmcsIG1peHR1cmUpIHtcblxuXHQgICAgXHR2YXIgaGFzUGVhbnV0cyA9IHVuZGVmaW5lZDtcblxuXHQgICAgXHQvL2lzIHRoaXMgYSBtaXh0dXJlIG9yIGEgcGxhdHRlcj9cblx0ICAgIFx0aWYocGFja2FnaW5nPT0ncGxhdHRlcicpIHtcblx0ICAgIFx0XHQvL2EgcGxhdHRlciB3aXRoIGF0IGxlYXN0IG9uZSBzZWN0aW9uIG9mIHBlYW51dHMgaGFzIHBlYW51dHNcblx0ICAgIFx0XHRpZihtaXh0dXJlLlNSUGVhbnV0ID4gMCkgaGFzUGVhbnV0cyA9IHRydWU7XG5cdCAgICBcdFx0ZWxzZSBoYXNQZWFudXRzID0gZmFsc2U7XG5cblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHQvL2EgbWl4dHVyZSBtdXN0IGhhdmUgYXQgbGVhc3QgNTAlIHBlYW51dHMgdG8gYmUgY29uc2lkZXJlZCBwZWFudXRcblx0ICAgIFx0XHRpZihtaXh0dXJlLlNSUGVhbnV0ID49IDAuNSkgaGFzUGVhbnV0cyA9IHRydWU7XG5cdCAgICBcdFx0ZWxzZSBoYXNQZWFudXRzID0gZmFsc2U7XG5cdCAgICBcdH1cblxuXHQgICAgXHRyZXR1cm4gaGFzUGVhbnV0cztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2FsY3VsYXRlUHVyY2hhc2VQcmljZShwYWNrYWdpbmcsIG1peHR1cmUpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHQgICAgXHR2YXIgc2FsZVByaWNlID0gMDtcblx0ICAgIFx0dmFyIHBlYW51dFN0YXR1cyA9ICd3aXRob3V0UGVhbnV0cyc7XG5cdCAgICBcdHZhciBwZWFudXRTZWN0aW9ucyA9IDA7XG5cblx0ICAgIFx0Ly9kZXRlcm1pbmUgcGVhbnV0cyBwcmVzZW5jZSBhbmQgcXR5XG5cdCAgICBcdHZhciBwZWFudXRzQXJlUHJlc2VudCA9IGNoZWNrRm9yUGVhbnV0cyhwYWNrYWdpbmcsIG1peHR1cmUpO1xuXG5cdCAgICBcdGlmKHBlYW51dHNBcmVQcmVzZW50KSB7XG5cdCAgICBcdFx0Ly9zZXQgdGhlIG9iamVjdCB2YWx1ZVxuXHQgICAgXHRcdHBlYW51dFN0YXR1cyA9ICd3aXRoUGVhbnV0cyc7XG5cdCAgICBcdFx0Ly9jYWxjdWxhdGUgdGhlIG51bWJlciBvZiBwZWFudXQgc2VjdGlvbnNcblx0ICAgIFx0XHRwZWFudXRTZWN0aW9ucyA9IG1peHR1cmUuU1JQZWFudXQgKiA0O1xuXHQgICAgXHR9XG5cblx0ICAgIFx0Ly9wYWNrYWdpbmcgZGlmZmVycyBmb3IgcGxhdHRlcnMgYW5kIGJhZ3Ncblx0ICAgIFx0aWYocGFja2FnaW5nPT0ncGxhdHRlcicpIHtcblx0ICAgIFx0XHRzYWxlUHJpY2UgPSB2bS5wcmljaW5nW3BlYW51dFN0YXR1c11bcGFja2FnaW5nXVtwZWFudXRTZWN0aW9uc107XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0c2FsZVByaWNlID0gdm0ucHJpY2luZ1twZWFudXRTdGF0dXNdW3BhY2thZ2luZ107XG5cdCAgICBcdH1cblxuXHQgICAgXHRyZXR1cm4gc2FsZVByaWNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjYWxjdWxhdGVJdGVtU3VidG90YWwocGFja2FnaW5nLCBtaXh0dXJlLCBxdHkpIHtcblxuXHQgICAgXHR2YXIgcHVyY2hhc2VQcmljZSA9IGNhbGN1bGF0ZVB1cmNoYXNlUHJpY2UocGFja2FnaW5nLCBtaXh0dXJlKTtcblxuXHQgICAgXHRyZXR1cm4gcHVyY2hhc2VQcmljZSAqIHF0eTtcblx0ICAgIH1cblxuXHQgICAgLy92aWV3bW9kZWwgbWV0aG9kc1xuXHQgICAgdm0ucGlja0FGbGF2b3IgPSBmdW5jdGlvbihmbGF2b3IpIHtcblxuXHQgICAgXHQvL2ZpcnN0IGZsaXAgdGhlIGNoZWNrYm94XG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5zZWxlY3RlZFtmbGF2b3JdID0gIXZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5zZWxlY3RlZFtmbGF2b3JdO1xuXG5cdCAgICBcdC8vaW5jcmVhc2Ugb3IgZGVjcmVhc2UgdGhlIG51bWJlciBvZiBmbGF2b3JzIGJhc2VkIG9uIHRoZSBzaWduXG5cdCAgICBcdGlmKHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5zZWxlY3RlZFtmbGF2b3JdKVxuXHQgICAgXHRcdHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5ub09mRmxhdm9ycysrO1xuXHQgICAgXHRlbHNlXG5cdCAgICBcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLm5vT2ZGbGF2b3JzLS07XG5cblx0ICAgIFx0Ly90aGVuIGZvciBlcXVhbCBzcGxpdCBjYWxjdWxhdGUgdGhlIHBlcmNlbnRhZ2UsIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgZmxhdm9yc1xuXHQgICAgXHR2YXIgZXF1YWxQb3J0aW9ucyA9IGVxdWFsU3BsaXQodm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLm5vT2ZGbGF2b3JzKTtcblx0ICAgIFx0YXNzaWduRXF1YWxTcGxpdChlcXVhbFBvcnRpb25zKTtcblxuXHQgICAgXHQvL25vdGlmeSB0aGUgdXNlclxuXHQgICAgXHQkbG9nLmluZm8oJyMgb2YgRmxhdm9ycycsIHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5ub09mRmxhdm9ycywgXCJzcGxpdFwiLCBlcXVhbFBvcnRpb25zLCAncHJvcHJpdGlvbnMnLCB2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMucHJvcG9ydGlvbnMpO1xuXHQgICAgfVxuXG5cdCAgICB2bS5hZGRUb0NhcnQgPSBmdW5jdGlvbigpIHtcdFx0Ly9hZGQgdGhlIGN1cnJlbnQgaXRlbSB0byB0aGUgY2FydFxuXHQgICAgXHRcblx0ICAgIFx0Ly9kaXN0aWxsIHRoZSBtaXh0dXJlXG5cdCAgICBcdHZhciB0aGlzUGFja2FnaW5nID0gdm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmc7XG5cdCAgICBcdHZhciB0aGlzTWl4dHVyZSA9IHN1cHBseU1peHR1cmVPYmplY3Qodm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnByb3BvcnRpb25zKTtcblx0ICAgIFx0dmFyIHRoaXNRdWFudGl0eSA9IHZtLnF0eTtcblxuXHQgICAgXHQvL2Zvcm1hdCB0aGUgb2JqZWN0IHRvIGJlIGFkZGVkIHRvIHRoZSBjYXJ0XG5cdCAgICBcdHZhciBuZXdQYWNrYWdlID0ge1xuXHQgICAgXHRcdHNlbGVjdGVkUGFja2FnaW5nOiB0aGlzUGFja2FnaW5nLFxuXHQgICAgXHRcdG1peHR1cmU6IHRoaXNNaXh0dXJlLFxuXHQgICAgXHRcdHF0eTogdGhpc1F1YW50aXR5LFxuXHQgICAgXHRcdHN1YnRvdGF0bDogY2FsY3VsYXRlSXRlbVN1YnRvdGFsKHRoaXNQYWNrYWdpbmcsIHRoaXNNaXh0dXJlLCB0aGlzUXVhbnRpdHkpXG5cdCAgICBcdH07XG5cblx0ICAgIFx0Ly9wYXNzIGl0IHRvIHRoZSBjYXJ0XG5cdCAgICBcdHZtLmFkZEZpbGxlZFBhY2thZ2UoKShuZXdQYWNrYWdlKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUVtcHRpZXMnLCBzZWVFbXB0aWVzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVFbXB0aWVzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUZ1bGxzJywgc2VlRnVsbHMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlZUZ1bGxzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUZ1bGxzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUZ1bGxzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlZUZ1bGxzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUZ1bGxzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHBhY2thZ2luZ1NlbGVjdGVkOiAnPScsXG5cdFx0XHRyZW1vdmVBU2l6ZTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIC8vYXNzaWduIGEgYmFnIHRvIGJlIGZpbGxlZFxuXHQgICAgdm0uZmlsbEFQYWNrYWdlID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gcGFja2FnaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWtjZWQnLCBwYWNrYWdpbmcsIHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgXHQvL2RlY3JlbWVudCB0aGUgY291bnQgb2YgdGhpcyBwYWNrYWdlIHRoYXQgd2FzIGNsaWNrZWRcblx0ICAgIFx0dm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSA9IHZtLnJlbW92ZUFTaXplKCkodm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RQYWNrYWdpbmcnLCBzZWxlY3RQYWNrYWdpbmcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y3VycmVudGx5RmlsbGluZzogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHNpemUpIHtcblxuXHQgICAgXHR2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZyA9IHNpemU7XG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgc2l6ZSwgJywgc2l6ZSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCd0b29sQmFyJywgdG9vbEJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdG9vbEJhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZENvbUZhY3RvcnknLCBiYWNrZW5kQ29tRmFjdG9yeSk7XG5cbmJhY2tlbmRDb21GYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kQ29tRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRyZXNvbHZlKCdpdCB3b3JrZWQnKTtcblxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRDb21FbGVtZW50cztcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdwcmljZUxpc3RGYWN0b3J5JywgcHJpY2VMaXN0RmFjdG9yeSk7XG5cbnByaWNlTGlzdEZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByaWNlTGlzdEZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsUHJpY2VzID0ge1xuXHRcdHdpdGhQZWFudXRzOiB7XG5cdFx0XHRzbWFsbDogNTAwLFxuXHRcdFx0bWVkaXVtOiA4MDAsXG5cdFx0XHRsYXJnZTogMTEwMCxcblx0XHRcdHBsYXR0ZXI6IHtcblx0XHRcdFx0MTogMjAwMCxcblx0XHRcdFx0MjogMTgwMCxcblx0XHRcdFx0MzogMTYwMCxcblx0XHRcdFx0NDogMTQwMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0d2l0aG91dFBlYW51dHM6IHtcblx0XHRcdHNtYWxsOiA3MDAsXG5cdFx0XHRtZWRpdW06IDEzMDAsXG5cdFx0XHRsYXJnZTogMTgwMCxcblx0XHRcdHBsYXR0ZXI6IHtcblx0XHRcdFx0MDogMjIwMFxuXHRcdFx0fVx0XHRcdFxuXHRcdH1cblx0fTtcblx0XG5cdHJldHVybiBhbGxQcmljZXM7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSk7XG5cbnNob3BwaW5nQ2FydHNGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NhcnRzRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxDYXJ0RWxlbWVudHMgPSB7XG5cdFx0c2VsZWN0ZWRQYWNrYWdpbmc6IHtcblx0XHRcdHNtYWxsczogMCxcblx0XHRcdG1lZGl1bXM6IDAsXG5cdFx0XHRsYXJnZXM6IDAsXG5cdFx0XHRwbGF0dGVyczogMFxuXHRcdH0sXG5cdFx0ZmlsbGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bWVkaXVtczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bGFyZ2VzOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRwbGF0dGVyczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjb3N0OiB7XG5cdFx0XHRzdWJ0b3RhbDogMCxcblx0XHRcdHRheGVzOiAwLFxuXHRcdFx0ZGlzY291bnRzOiAwXG5cdFx0fSxcblx0XHRhZGRBU2l6ZTogYWRkQVNpemUsXG5cdFx0cmVtb3ZlQVNpemU6IHJlbW92ZUFTaXplLFxuXHRcdGFkZEZpbGxlZFBhY2thZ2U6IGFkZEZpbGxlZFBhY2thZ2UsXG5cdFx0cmVtb3ZlQVBhY2thZ2U6IHJlbW92ZUFQYWNrYWdlXG5cdH07XG5cblx0ZnVuY3Rpb24gYWRkQVNpemUoc3RhcnRpbmdWYWx1ZSkge1xuXHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHQvL25vdGlmeSB0aGUgdXNlciB3aGF0IGlzIGNvbWluZyBpbiBhbmQgd2hhdCBpcyBnb2luZyBvdXRcblx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzJywgc3RhcnRpbmdWYWx1ZSwgJyByZXR1cm5pbmcgdGhpcyAnLCBzdGFydGluZ1ZhbHVlICsgMSk7XG5cblx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0cmV0dXJuIHN0YXJ0aW5nVmFsdWUgKyAxO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUFTaXplKHN0YXJ0aW5nVmFsdWUpIHtcblx0XHRcblx0XHRpZihzdGFydGluZ1ZhbHVlID4gMCkge1xuXHRcdFx0Ly9UT0RPOiBSRU1PVkUgVEhJUyBMQVRFUlxuXHRcdFx0Ly9ub3RpZnkgdGhlIHVzZXIgd2hhdCBpcyBjb21pbmcgaW4gYW5kIHdoYXQgaXMgZ29pbmcgb3V0XG5cdFx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzJywgc3RhcnRpbmdWYWx1ZSwgJyByZXR1cm5pbmcgdGhpcyAnLCBzdGFydGluZ1ZhbHVlIC0gMSk7XG5cblx0XHRcdC8vaW5jcmltZW50IHRoZSBzdGFydGluZyB2YWx1ZSBcblx0XHRcdHJldHVybiBzdGFydGluZ1ZhbHVlIC0gMTtcblx0XHR9IGVsc2UgcmV0dXJuIDA7XHRcdFxuXHR9XG5cdGZ1bmN0aW9uIGFkZEZpbGxlZFBhY2thZ2UobmV3UGFja2FnZSkge1xuXHRcdCRsb2cuaW5mbygnYWRkaW5nIGEgbmV3IHBhY2thZ2Ugbm93JywgbmV3UGFja2FnZSk7XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlQVBhY2thZ2Uoc2l6ZSwgaWQpIHt9XG5cblx0XG5cdHJldHVybiBhbGxDYXJ0RWxlbWVudHM7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikgeyAgIFxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgLy9kZWZpbmUgdGhlIGxhbmRpbmcgcGFnZVxuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xhbmRpbmdQYWdlLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIHNob3BwaW5nIHJvdXRlc1xuICAgIC53aGVuKCcvc2hvcCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zaG9wcGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnc2hvcHBpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgbG9jYXRpb25zIHJvdXRlc1xuICAgIC53aGVuKCcvbG9jYXRpb25zJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pICAgIFxuICAgIC53aGVuKCcvbG9jYXRpb25zLzpzdGF0ZScsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvbG9jYXRpb25zLzpzdGF0ZS86cmVnaW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGNvbnRhY3Qgcm91dGVzXG4gICAgLndoZW4oJy9jb250YWN0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbnRhY3QuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3RDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG59XG4iLCIvLyBNT0RVTEVcbnZhciBhaE51dHNXZWJBcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWhOdXRzV2ViQXBwJywgWyduZ1JvdXRlJ10pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
