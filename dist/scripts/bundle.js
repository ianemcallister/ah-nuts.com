function contactController(){}function landingController(e,t,o){function l(){}var r=this;r.navButtonClicked=function(t){var l="/"+t;e.info("redirecting to: "+l),o.path(l)},l()}function locationsController(e,t){e.info("params are: ",t)}function shoppingController(e,t){var o=this;o.currentlyFilling={packaging:void 0,flavors:{SRPecans:0,DRPecans:0,CNPecans:0,SRAlmond:0,CNAlmond:0,SRCashew:0,SRPeanut:0}},o.cart=t}function emailHelper(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/emailHelper.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsChronoView(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsChronoView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsMapView(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsMapView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsThisWeek(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsThisWeek.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsTimeFilter(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsTimeFilter.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsToday(){function e(e,t,o,l){}function t(e,t,o){var l=this,r=o;l.todaysMarkets=r.get(),console.log(l.todaysMarkets)}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsToday.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","backendComFactory"],o}function packagingFiller(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/packagingFiller.directive.htm",replace:!0,scope:{currentlyFilling:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeEmpties(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeEmpties.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeFulls(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeFulls.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectFlavors(){function e(e,t,o,l){}function t(e,t){var o=this;o.fillAPackage=function(e){o.currentlyFilling.packaging=e},o.sizeBtnClicked=function(e){t.info("clikced",e,o.packagingSelected[e]),o.packagingSelected[e]=o.removeASize()(o.packagingSelected[e])}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectFlavors.directive.htm",replace:!0,scope:{packagingSelected:"=",removeASize:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectPackaging(){function e(e,t,o,l){}function t(e,t){var o=this;o.sizeBtnClicked=function(e){o.currentlyFilling.packaging=e,t.info("got this size, ",e)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectPackaging.directive.htm",replace:!0,scope:{currentlyFilling:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function toolBar(){function e(e,t,o,l){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function config(e){e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/shop",{templateUrl:"views/shopping.htm",controller:"shoppingController",controllerAs:"vm"}).when("/locations",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state/:region",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/contact",{templateUrl:"views/contact.htm",controller:"contactController",controllerAs:"vm"})}function backendComFactory(e){function t(){return new Promise(function(e,t){e("it worked")})}var o={get:t};return o}function shoppingCartsFactory(e){function t(t){return e.info("got this",t," returning this ",t+1),t+1}function o(t){return t>0?(e.info("got this",t," returning this ",t-1),t-1):0}function l(e){}function r(e,t){}var n={selectedPackaging:{smalls:0,mediums:0,larges:0,platters:0},filledPackaging:{smalls:{qty:0,mixes:[],subtotal:0},mediums:{qty:0,mixes:[],subtotal:0},larges:{qty:0,mixes:[],subtotal:0},platters:{qty:0,mixes:[],subtotal:0}},cost:{subtotal:0,taxes:0,discounts:0},addASize:t,removeASize:o,fillAPackage:l,removeAPackage:r};return n}config.$inject=["$routeProvider"];var ahNutsWebApp=angular.module("ahNutsWebApp",["ngRoute"]);angular.module("ahNutsWebApp").controller("contactController",contactController),contactController.$inject=[],angular.module("ahNutsWebApp").controller("landingController",landingController),landingController.$inject=["$log","$routeParams","$location"],angular.module("ahNutsWebApp").controller("locationsController",locationsController),locationsController.$inject=["$log","$routeParams"],angular.module("ahNutsWebApp").controller("shoppingController",shoppingController),shoppingController.$inject=["$log","shoppingCartsFactory"],angular.module("ahNutsWebApp").directive("emailHelper",emailHelper),angular.module("ahNutsWebApp").directive("locationsChronoView",locationsChronoView),angular.module("ahNutsWebApp").directive("locationsMapView",locationsMapView),angular.module("ahNutsWebApp").directive("locationsThisWeek",locationsThisWeek),angular.module("ahNutsWebApp").directive("locationsTimeFilter",locationsTimeFilter),angular.module("ahNutsWebApp").directive("locationsToday",locationsToday),angular.module("ahNutsWebApp").directive("packagingFiller",packagingFiller),angular.module("ahNutsWebApp").directive("seeEmpties",seeEmpties),angular.module("ahNutsWebApp").directive("seeFulls",seeFulls),angular.module("ahNutsWebApp").directive("selectFlavors",selectFlavors),angular.module("ahNutsWebApp").directive("selectPackaging",selectPackaging),angular.module("ahNutsWebApp").directive("toolBar",toolBar),angular.module("ahNutsWebApp").config(config),angular.module("ahNutsWebApp").factory("backendComFactory",backendComFactory),backendComFactory.$inject=["$log","$http"],angular.module("ahNutsWebApp").factory("shoppingCartsFactory",shoppingCartsFactory),shoppingCartsFactory.$inject=["$log"];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvY29udGFjdC5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sYW5kaW5nLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xvY2F0aW9ucy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZy5jb250cm9sbGVyLmpzIiwiYnVuZGxlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsSGVscGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNDaHJvbm9WaWV3LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNNYXBWaWV3LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaGlzV2Vlay5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGltZUZpbHRlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRW1wdGllcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRnVsbHMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdFBhY2thZ2luZy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvdG9vbGJhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL3JvdXRlcy9yb3V0ZS1jb25maWcuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9iYWNrZW5kQ29tLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9zaG9wcGluZ0NhcnRzLmZhY3RvcnkuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJjb250YWN0Q29udHJvbGxlciIsImxhbmRpbmdDb250cm9sbGVyIiwiJGxvZyIsIiRyb3V0ZVBhcmFtcyIsIiRsb2NhdGlvbiIsImluaXQiLCJ2bSIsInRoaXMiLCJuYXZCdXR0b25DbGlja2VkIiwicGFyYW0iLCJmdWxsUGF0aCIsImluZm8iLCJwYXRoIiwibG9jYXRpb25zQ29udHJvbGxlciIsInNob3BwaW5nQ29udHJvbGxlciIsInNob3BwaW5nQ2FydHNGYWN0b3J5IiwiY3VycmVudGx5RmlsbGluZyIsInBhY2thZ2luZyIsInVuZGVmaW5lZCIsImZsYXZvcnMiLCJTUlBlY2FucyIsIkRSUGVjYW5zIiwiQ05QZWNhbnMiLCJTUkFsbW9uZCIsIkNOQWxtb25kIiwiU1JDYXNoZXciLCJTUlBlYW51dCIsImNhcnQiLCJlbWFpbEhlbHBlciIsImxpbmtGdW5jIiwic2NvcGUiLCJlbCIsImF0dHIiLCJjdHJsIiwiZW1haWxIZWxwZXJDb250cm9sbGVyIiwiJHNjb3BlIiwiJGluamVjdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJyZXBsYWNlIiwibGluayIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwibG9jYXRpb25zQ2hyb25vVmlldyIsImxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyIiwibG9jYXRpb25zTWFwVmlldyIsImxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyIiwibG9jYXRpb25zVGhpc1dlZWsiLCJsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIiLCJsb2NhdGlvbnNUaW1lRmlsdGVyIiwibG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIiLCJsb2NhdGlvbnNUb2RheSIsImxvY2F0aW9uc1RvZGF5Q29udHJvbGxlciIsImJhY2tlbmRDb21GYWN0b3J5IiwiYmFja2VuZCIsInRvZGF5c01hcmtldHMiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwicGFja2FnaW5nRmlsbGVyIiwicGFja2FnaW5nRmlsbGVyQ29udHJvbGxlciIsInNlZUVtcHRpZXMiLCJzZWVFbXB0aWVzQ29udHJvbGxlciIsInNlZUZ1bGxzIiwic2VlRnVsbHNDb250cm9sbGVyIiwic2VsZWN0Rmxhdm9ycyIsInNlbGVjdEZsYXZvcnNDb250cm9sbGVyIiwiZmlsbEFQYWNrYWdlIiwic2l6ZUJ0bkNsaWNrZWQiLCJwYWNrYWdpbmdTZWxlY3RlZCIsInJlbW92ZUFTaXplIiwic2VsZWN0UGFja2FnaW5nIiwic2VsZWN0UGFja2FnaW5nQ29udHJvbGxlciIsInNpemUiLCJ0b29sQmFyIiwiVG9vbEJhckNvbnRyb2xsZXIiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJhY2tlbmRDb21FbGVtZW50cyIsImFkZEFTaXplIiwic3RhcnRpbmdWYWx1ZSIsInJlbW92ZUFQYWNrYWdlIiwiaWQiLCJhbGxDYXJ0RWxlbWVudHMiLCJzZWxlY3RlZFBhY2thZ2luZyIsInNtYWxscyIsIm1lZGl1bXMiLCJsYXJnZXMiLCJwbGF0dGVycyIsImZpbGxlZFBhY2thZ2luZyIsInF0eSIsIm1peGVzIiwic3VidG90YWwiLCJjb3N0IiwidGF4ZXMiLCJkaXNjb3VudHMiLCJhaE51dHNXZWJBcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBT0EsUUFBQUEsc0JDQUEsUUFBQUMsbUJBQUFDLEVBQUFDLEVBQUFDLEdBTUEsUUFBQUMsTUFIQSxHQUFBQyxHQUFBQyxJQVdBRCxHQUFBRSxpQkFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUEsSUFBQUQsQ0FFQVAsR0FBQVMsS0FBQSxtQkFBQUQsR0FDQU4sRUFBQVEsS0FBQUYsSUFJQUwsSUN0QkEsUUFBQVEscUJBQUFYLEVBQUFDLEdBTUFELEVBQUFTLEtBQUEsZUFBQVIsR0NOQSxRQUFBVyxvQkFBQVosRUFBQWEsR0FHQSxHQUFBVCxHQUFB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QUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3RDb250cm9sbGVyJywgY29udGFjdENvbnRyb2xsZXIpO1xuXG5jb250YWN0Q29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdENvbnRyb2xsZXIoKSB7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbG9jYWwgbWV0aG9kc1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBzdGF0ZSBvZiB0aGlzIHBhZ2Vcblx0XHRcblx0XHRcblxuXHR9O1xuXG5cdC8vdmlldyBtZXRob2RzXG5cdHZtLm5hdkJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbihwYXJhbSkge1xuXHRcdHZhciBmdWxsUGF0aCA9ICcvJyArIHBhcmFtO1xuXHRcdC8vcmVkaXJlY3Rcblx0XHQkbG9nLmluZm8oJ3JlZGlyZWN0aW5nIHRvOiAnICsgZnVsbFBhdGgpO1xuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxuXG5cdC8vcnVuIGluaXQgZnVuY3Rpb25cblx0aW5pdCgpO1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsb2NhdGlvbnNDb250cm9sbGVyJywgbG9jYXRpb25zQ29udHJvbGxlcik7XG5cbmxvY2F0aW9uc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL25vdGlmeSB0aGUgcGFyYW1zIGZvciB0aGUgdGltZSBiZWluZ1x0VE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXHQkbG9nLmluZm8oJ3BhcmFtcyBhcmU6ICcsICRyb3V0ZVBhcmFtcyk7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cblx0Ly92aWV3IG1ldGhvZHNcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdDb250cm9sbGVyJywgc2hvcHBpbmdDb250cm9sbGVyKTtcblxuc2hvcHBpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NvbnRyb2xsZXIoJGxvZywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnkpIHtcblxuXHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVzXG4gICAgdm0uY3VycmVudGx5RmlsbGluZyA9IHtcbiAgICBcdHBhY2thZ2luZzogdW5kZWZpbmVkLFxuICAgIFx0Zmxhdm9yczoge1xuICAgIFx0XHRTUlBlY2FuczogMC4wMCxcbiAgICBcdFx0RFJQZWNhbnM6IDAuMDAsXG4gICAgXHRcdENOUGVjYW5zOiAwLjAwLFxuICAgIFx0XHRTUkFsbW9uZDogMC4wMCxcbiAgICBcdFx0Q05BbG1vbmQ6IDAuMDAsXG4gICAgXHRcdFNSQ2FzaGV3OiAwLjAwLFxuICAgIFx0XHRTUlBlYW51dDogMC4wMFxuICAgIFx0fVxuICAgIH07XG5cblx0Ly9hZGQgdGhlIHNob3BwaW5nIGNhcnQgdG8gdGhpcyBjb250cm9sbGVyLCBmb3IgYWNjZXNzIGZyb20gZGlyZWN0aXZlc1xuXHR2bS5jYXJ0ID0gc2hvcHBpbmdDYXJ0c0ZhY3Rvcnk7XG5cbn0iLCIvLyBNT0RVTEVcbmNvbmZpZy4kaW5qZWN0ID0gW1wiJHJvdXRlUHJvdmlkZXJcIl07XG52YXIgYWhOdXRzV2ViQXBwID0gYW5ndWxhci5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcsIFsnbmdSb3V0ZSddKTtcblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignY29udGFjdENvbnRyb2xsZXInLCBjb250YWN0Q29udHJvbGxlcik7XG5cbmNvbnRhY3RDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb250YWN0Q29udHJvbGxlcigpIHtcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmRpbmdDb250cm9sbGVyJywgbGFuZGluZ0NvbnRyb2xsZXIpO1xuXG5sYW5kaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkbG9nLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2xvY2FsIG1ldGhvZHNcblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHQvL2RlZmluZSB0aGUgc3RhdGUgb2YgdGhpcyBwYWdlXG5cdFx0XG5cdFx0XG5cblx0fTtcblxuXHQvL3ZpZXcgbWV0aG9kc1xuXHR2bS5uYXZCdXR0b25DbGlja2VkID0gZnVuY3Rpb24ocGFyYW0pIHtcblx0XHR2YXIgZnVsbFBhdGggPSAnLycgKyBwYXJhbTtcblx0XHQvL3JlZGlyZWN0XG5cdFx0JGxvZy5pbmZvKCdyZWRpcmVjdGluZyB0bzogJyArIGZ1bGxQYXRoKTtcblx0XHQkbG9jYXRpb24ucGF0aChmdWxsUGF0aCk7XG5cdH1cblxuXHQvL3J1biBpbml0IGZ1bmN0aW9uXG5cdGluaXQoKTtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsb2NhdGlvbnNDb250cm9sbGVyJywgbG9jYXRpb25zQ29udHJvbGxlcik7XG5cbmxvY2F0aW9uc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL25vdGlmeSB0aGUgcGFyYW1zIGZvciB0aGUgdGltZSBiZWluZ1x0VE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXHQkbG9nLmluZm8oJ3BhcmFtcyBhcmU6ICcsICRyb3V0ZVBhcmFtcyk7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cblx0Ly92aWV3IG1ldGhvZHNcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdzaG9wcGluZ0NvbnRyb2xsZXInLCBzaG9wcGluZ0NvbnRyb2xsZXIpO1xuXG5zaG9wcGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICdzaG9wcGluZ0NhcnRzRmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ29udHJvbGxlcigkbG9nLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSkge1xuXG5cdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZXNcbiAgICB2bS5jdXJyZW50bHlGaWxsaW5nID0ge1xuICAgIFx0cGFja2FnaW5nOiB1bmRlZmluZWQsXG4gICAgXHRmbGF2b3JzOiB7XG4gICAgXHRcdFNSUGVjYW5zOiAwLjAwLFxuICAgIFx0XHREUlBlY2FuczogMC4wMCxcbiAgICBcdFx0Q05QZWNhbnM6IDAuMDAsXG4gICAgXHRcdFNSQWxtb25kOiAwLjAwLFxuICAgIFx0XHRDTkFsbW9uZDogMC4wMCxcbiAgICBcdFx0U1JDYXNoZXc6IDAuMDAsXG4gICAgXHRcdFNSUGVhbnV0OiAwLjAwXG4gICAgXHR9XG4gICAgfTtcblxuXHQvL2FkZCB0aGUgc2hvcHBpbmcgY2FydCB0byB0aGlzIGNvbnRyb2xsZXIsIGZvciBhY2Nlc3MgZnJvbSBkaXJlY3RpdmVzXG5cdHZtLmNhcnQgPSBzaG9wcGluZ0NhcnRzRmFjdG9yeTtcblxufVxuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnZW1haWxIZWxwZXInLCBlbWFpbEhlbHBlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxIZWxwZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lbWFpbEhlbHBlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBlbWFpbEhlbHBlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEhlbHBlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlbWFpbEhlbHBlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNDaHJvbm9WaWV3JywgbG9jYXRpb25zQ2hyb25vVmlldyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlldygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc0Nocm9ub1ZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zTWFwVmlldycsIGxvY2F0aW9uc01hcFZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXcoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNNYXBWaWV3LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8qZnVuY3Rpb24gaW5pdE1hcCgpIHtcblx0ICAgICAgICB2YXIgdWx1cnUgPSB7bGF0OiAtMjUuMzYzLCBsbmc6IDEzMS4wNDR9O1xuXHQgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuXHQgICAgICAgICAgem9vbTogNCxcblx0ICAgICAgICAgIGNlbnRlcjogdWx1cnVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdCAgICAgICAgICBwb3NpdGlvbjogdWx1cnUsXG5cdCAgICAgICAgICBtYXA6IG1hcFxuXHQgICAgICAgIH0pO1xuXHQgICAgfSovXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RoaXNXZWVrJywgbG9jYXRpb25zVGhpc1dlZWspO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGhpc1dlZWsuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGltZUZpbHRlcicsIGxvY2F0aW9uc1RpbWVGaWx0ZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RvZGF5JywgbG9jYXRpb25zVG9kYXkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2JhY2tlbmRDb21GYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVG9kYXlDb250cm9sbGVyKCRzY29wZSwgJGxvZywgYmFja2VuZENvbUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2YXIgYmFja2VuZCA9IGJhY2tlbmRDb21GYWN0b3J5O1xuXG5cdCAgICB2bS50b2RheXNNYXJrZXRzID0gYmFja2VuZC5nZXQoKTtcblxuXHQgICAgY29uc29sZS5sb2codm0udG9kYXlzTWFya2V0cyk7XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwYWNrYWdpbmdGaWxsZXInLCBwYWNrYWdpbmdGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHBhY2thZ2luZ0ZpbGxlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjdXJyZW50bHlGaWxsaW5nOiBcIj1cIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VlRW1wdGllcycsIHNlZUVtcHRpZXMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlZUVtcHRpZXMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWVFbXB0aWVzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUVtcHRpZXNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VlRW1wdGllc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWVFbXB0aWVzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUZ1bGxzJywgc2VlRnVsbHMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlZUZ1bGxzKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2VlRnVsbHMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRnVsbHNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VlRnVsbHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VlRnVsbHNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0Rmxhdm9ycycsIHNlbGVjdEZsYXZvcnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdEZsYXZvcnMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHBhY2thZ2luZ1NlbGVjdGVkOiAnPScsXG5cdFx0XHRyZW1vdmVBU2l6ZTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIC8vYXNzaWduIGEgYmFnIHRvIGJlIGZpbGxlZFxuXHQgICAgdm0uZmlsbEFQYWNrYWdlID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gcGFja2FnaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWtjZWQnLCBwYWNrYWdpbmcsIHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgXHQvL2RlY3JlbWVudCB0aGUgY291bnQgb2YgdGhpcyBwYWNrYWdlIHRoYXQgd2FzIGNsaWNrZWRcblx0ICAgIFx0dm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSA9IHZtLnJlbW92ZUFTaXplKCkodm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlbGVjdFBhY2thZ2luZycsIHNlbGVjdFBhY2thZ2luZyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0UGFja2FnaW5nKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2VsZWN0UGFja2FnaW5nLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGN1cnJlbnRseUZpbGxpbmc6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgdm0uc2l6ZUJ0bkNsaWNrZWQgPSBmdW5jdGlvbihzaXplKSB7XG5cblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmcgPSBzaXplO1xuXHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHNpemUsICcsIHNpemUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCd0b29sQmFyJywgdG9vbEJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdG9vbEJhcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Rvb2xCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogVG9vbEJhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBUb29sQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFRvb2xCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBzaG9wcGluZyByb3V0ZXNcbiAgICAud2hlbignL3Nob3AnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc2hvcHBpbmcuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Nob3BwaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGxvY2F0aW9ucyByb3V0ZXNcbiAgICAud2hlbignL2xvY2F0aW9ucycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KSAgICBcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUvOnJlZ2lvbicsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBjb250YWN0IHJvdXRlc1xuICAgIC53aGVuKCcvY29udGFjdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jb250YWN0Lmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZENvbUZhY3RvcnknLCBiYWNrZW5kQ29tRmFjdG9yeSk7XG5cbmJhY2tlbmRDb21GYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kQ29tRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRyZXNvbHZlKCdpdCB3b3JrZWQnKTtcblxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRDb21FbGVtZW50cztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3Nob3BwaW5nQ2FydHNGYWN0b3J5Jywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnkpO1xuXG5zaG9wcGluZ0NhcnRzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdDYXJ0c0ZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsQ2FydEVsZW1lbnRzID0ge1xuXHRcdHNlbGVjdGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IDAsXG5cdFx0XHRtZWRpdW1zOiAwLFxuXHRcdFx0bGFyZ2VzOiAwLFxuXHRcdFx0cGxhdHRlcnM6IDBcblx0XHR9LFxuXHRcdGZpbGxlZFBhY2thZ2luZzoge1xuXHRcdFx0c21hbGxzOiB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdG1lZGl1bXM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdGxhcmdlczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0cGxhdHRlcnM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y29zdDoge1xuXHRcdFx0c3VidG90YWw6IDAsXG5cdFx0XHR0YXhlczogMCxcblx0XHRcdGRpc2NvdW50czogMFxuXHRcdH0sXG5cdFx0YWRkQVNpemU6IGFkZEFTaXplLFxuXHRcdHJlbW92ZUFTaXplOiByZW1vdmVBU2l6ZSxcblx0XHRmaWxsQVBhY2thZ2U6IGZpbGxBUGFja2FnZSxcblx0XHRyZW1vdmVBUGFja2FnZTogcmVtb3ZlQVBhY2thZ2Vcblx0fTtcblxuXHRmdW5jdGlvbiBhZGRBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0Ly9UT0RPOiBSRU1PVkUgVEhJUyBMQVRFUlxuXHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMnLCBzdGFydGluZ1ZhbHVlLCAnIHJldHVybmluZyB0aGlzICcsIHN0YXJ0aW5nVmFsdWUgKyAxKTtcblxuXHRcdC8vaW5jcmltZW50IHRoZSBzdGFydGluZyB2YWx1ZSBcblx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSArIDE7XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlQVNpemUoc3RhcnRpbmdWYWx1ZSkge1xuXHRcdFxuXHRcdGlmKHN0YXJ0aW5nVmFsdWUgPiAwKSB7XG5cdFx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0XHQvL25vdGlmeSB0aGUgdXNlciB3aGF0IGlzIGNvbWluZyBpbiBhbmQgd2hhdCBpcyBnb2luZyBvdXRcblx0XHRcdCRsb2cuaW5mbygnZ290IHRoaXMnLCBzdGFydGluZ1ZhbHVlLCAnIHJldHVybmluZyB0aGlzICcsIHN0YXJ0aW5nVmFsdWUgLSAxKTtcblxuXHRcdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdFx0cmV0dXJuIHN0YXJ0aW5nVmFsdWUgLSAxO1xuXHRcdH0gZWxzZSByZXR1cm4gMDtcdFx0XG5cdH1cblx0ZnVuY3Rpb24gZmlsbEFQYWNrYWdlKHNpemUpIHt9XG5cdGZ1bmN0aW9uIHJlbW92ZUFQYWNrYWdlKHNpemUsIGlkKSB7fVxuXG5cdFxuXHRyZXR1cm4gYWxsQ2FydEVsZW1lbnRzO1xuXG59IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnZW1haWxIZWxwZXInLCBlbWFpbEhlbHBlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxIZWxwZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxIZWxwZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxIZWxwZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxIZWxwZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxIZWxwZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc0Nocm9ub1ZpZXcnLCBsb2NhdGlvbnNDaHJvbm9WaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDaHJvbm9WaWV3KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc0Nocm9ub1ZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc01hcFZpZXcnLCBsb2NhdGlvbnNNYXBWaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNNYXBWaWV3KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc01hcFZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLypmdW5jdGlvbiBpbml0TWFwKCkge1xuXHQgICAgICAgIHZhciB1bHVydSA9IHtsYXQ6IC0yNS4zNjMsIGxuZzogMTMxLjA0NH07XG5cdCAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG5cdCAgICAgICAgICB6b29tOiA0LFxuXHQgICAgICAgICAgY2VudGVyOiB1bHVydVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0ICAgICAgICAgIHBvc2l0aW9uOiB1bHVydSxcblx0ICAgICAgICAgIG1hcDogbWFwXG5cdCAgICAgICAgfSk7XG5cdCAgICB9Ki9cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RoaXNXZWVrJywgbG9jYXRpb25zVGhpc1dlZWspO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RoaXNXZWVrLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUaW1lRmlsdGVyJywgbG9jYXRpb25zVGltZUZpbHRlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGltZUZpbHRlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUb2RheScsIGxvY2F0aW9uc1RvZGF5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNUb2RheSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUb2RheS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnYmFja2VuZENvbUZhY3RvcnknXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBiYWNrZW5kQ29tRmFjdG9yeSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZhciBiYWNrZW5kID0gYmFja2VuZENvbUZhY3Rvcnk7XG5cblx0ICAgIHZtLnRvZGF5c01hcmtldHMgPSBiYWNrZW5kLmdldCgpO1xuXG5cdCAgICBjb25zb2xlLmxvZyh2bS50b2RheXNNYXJrZXRzKTtcblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwYWNrYWdpbmdGaWxsZXInLCBwYWNrYWdpbmdGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHBhY2thZ2luZ0ZpbGxlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wYWNrYWdpbmdGaWxsZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y3VycmVudGx5RmlsbGluZzogXCI9XCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWVFbXB0aWVzJywgc2VlRW1wdGllcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRW1wdGllcygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWVFbXB0aWVzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUVtcHRpZXNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VlRW1wdGllc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWVFbXB0aWVzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWVGdWxscycsIHNlZUZ1bGxzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVGdWxscygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWVGdWxscy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWVGdWxsc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVGdWxsc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWVGdWxsc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0Rmxhdm9ycycsIHNlbGVjdEZsYXZvcnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdEZsYXZvcnMoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2VsZWN0Rmxhdm9ycy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRwYWNrYWdpbmdTZWxlY3RlZDogJz0nLFxuXHRcdFx0cmVtb3ZlQVNpemU6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWxlY3RGbGF2b3JzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXG5cdCAgICAvL2Fzc2lnbiBhIGJhZyB0byBiZSBmaWxsZWRcblx0ICAgIHZtLmZpbGxBUGFja2FnZSA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHR2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZyA9IHBhY2thZ2luZztcblx0ICAgIH1cblxuXHQgICAgdm0uc2l6ZUJ0bkNsaWNrZWQgPSBmdW5jdGlvbihwYWNrYWdpbmcpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjbGlrY2VkJywgcGFja2FnaW5nLCB2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddKTtcblx0ICAgIFx0Ly9kZWNyZW1lbnQgdGhlIGNvdW50IG9mIHRoaXMgcGFja2FnZSB0aGF0IHdhcyBjbGlja2VkXG5cdCAgICBcdHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10gPSB2bS5yZW1vdmVBU2l6ZSgpKHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0UGFja2FnaW5nJywgc2VsZWN0UGFja2FnaW5nKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmcoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2VsZWN0UGFja2FnaW5nLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGN1cnJlbnRseUZpbGxpbmc6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgdm0uc2l6ZUJ0bkNsaWNrZWQgPSBmdW5jdGlvbihzaXplKSB7XG5cblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmcgPSBzaXplO1xuXHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHNpemUsICcsIHNpemUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgndG9vbEJhcicsIHRvb2xCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHRvb2xCYXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBzaG9wcGluZyByb3V0ZXNcbiAgICAud2hlbignL3Nob3AnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc2hvcHBpbmcuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Nob3BwaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGxvY2F0aW9ucyByb3V0ZXNcbiAgICAud2hlbignL2xvY2F0aW9ucycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KSAgICBcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUvOnJlZ2lvbicsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBjb250YWN0IHJvdXRlc1xuICAgIC53aGVuKCcvY29udGFjdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jb250YWN0Lmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ2JhY2tlbmRDb21GYWN0b3J5JywgYmFja2VuZENvbUZhY3RvcnkpO1xuXG5iYWNrZW5kQ29tRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJywgJyRodHRwJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYmFja2VuZENvbUZhY3RvcnkoJGxvZykge1xuXG5cdHZhciBiYWNrZW5kQ29tRWxlbWVudHMgPSB7XG5cdFx0Z2V0OiBnZXRcblx0fTtcblxuXHRmdW5jdGlvbiBnZXQoKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0cmVzb2x2ZSgnaXQgd29ya2VkJyk7XG5cblx0XHR9KTtcblx0fVxuXG5cdHJldHVybiBiYWNrZW5kQ29tRWxlbWVudHM7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSk7XG5cbnNob3BwaW5nQ2FydHNGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NhcnRzRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxDYXJ0RWxlbWVudHMgPSB7XG5cdFx0c2VsZWN0ZWRQYWNrYWdpbmc6IHtcblx0XHRcdHNtYWxsczogMCxcblx0XHRcdG1lZGl1bXM6IDAsXG5cdFx0XHRsYXJnZXM6IDAsXG5cdFx0XHRwbGF0dGVyczogMFxuXHRcdH0sXG5cdFx0ZmlsbGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bWVkaXVtczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bGFyZ2VzOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRwbGF0dGVyczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjb3N0OiB7XG5cdFx0XHRzdWJ0b3RhbDogMCxcblx0XHRcdHRheGVzOiAwLFxuXHRcdFx0ZGlzY291bnRzOiAwXG5cdFx0fSxcblx0XHRhZGRBU2l6ZTogYWRkQVNpemUsXG5cdFx0cmVtb3ZlQVNpemU6IHJlbW92ZUFTaXplLFxuXHRcdGZpbGxBUGFja2FnZTogZmlsbEFQYWNrYWdlLFxuXHRcdHJlbW92ZUFQYWNrYWdlOiByZW1vdmVBUGFja2FnZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGFkZEFTaXplKHN0YXJ0aW5nVmFsdWUpIHtcblx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXIgd2hhdCBpcyBjb21pbmcgaW4gYW5kIHdoYXQgaXMgZ29pbmcgb3V0XG5cdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSArIDEpO1xuXG5cdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdHJldHVybiBzdGFydGluZ1ZhbHVlICsgMTtcblx0fVxuXHRmdW5jdGlvbiByZW1vdmVBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0XG5cdFx0aWYoc3RhcnRpbmdWYWx1ZSA+IDApIHtcblx0XHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSAtIDEpO1xuXG5cdFx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSAtIDE7XG5cdFx0fSBlbHNlIHJldHVybiAwO1x0XHRcblx0fVxuXHRmdW5jdGlvbiBmaWxsQVBhY2thZ2Uoc2l6ZSkge31cblx0ZnVuY3Rpb24gcmVtb3ZlQVBhY2thZ2Uoc2l6ZSwgaWQpIHt9XG5cblx0XG5cdHJldHVybiBhbGxDYXJ0RWxlbWVudHM7XG5cbn0iLCIvLyBNT0RVTEVcbnZhciBhaE51dHNXZWJBcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWhOdXRzV2ViQXBwJywgWyduZ1JvdXRlJ10pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
