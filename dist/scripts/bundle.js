function adminController(e,t,o){function r(e){return fetch(e)}function n(e){return r(e).then(function(e){return e.json()})}var i=this;i.testText={},n("/api/get/list/regions").then(function(t){e.info(t),i.testText=t})["catch"](function(t){e.info("got this error",t)})}function contactController(e,t){var o=this;o.returnHome=function(o){var r="/";e.info("redirecting to: "+r),t.path(r)}}function landingController(e,t,o){function r(){}var n=this;n.navButtonClicked=function(t){var r="/"+t;e.info("redirecting to: "+r),o.path(r)},r()}function locationsController(e,t,o,r){function n(){l.getLocations().then(function(t){e.info("got this in locations controller",t),a.locationsModel=t})["catch"](function(t){e.info("there was an error",t)})}function i(){a.state.regionFinder.visable=!1,a.state.locationLabel.visable=!0,a.state.locationsToday.visable=!1,a.state.locationsThisWeek.visable=!0,a.state.locationsChronoView.visable=!1}function c(){n(),a.selectedLocation={state:t.state,region:t.region},a.state={regionFinder:{visable:!0},locationLabel:{visable:!1},everyDayLocations:{visable:!1},eventsAndMarkets:{visable:!0},locationsToday:{visable:!1},locationsThisWeek:{visable:!1},locationsChronoView:{visable:!1}},e.info("params are: ",t),e.info("vm.locationsModel",a.locationsModel),"undefined"!=typeof t.state?(e.info("found a state"),i(),"undefined"!=typeof t.region?e.info("found a region"):e.info("NO region")):e.info("NO state")}var a=this,l=r;a.locationsModel={},a.locationRedirect=function(t,r){var n="locations/";e.info("got this, state.id:",t),n+=t.id,o.path(n)},c()}function shoppingController(e,t,o,r,n){var i=this;i.currentlyFilling=o,i.cart=t,i.priceList=r,i.currentState=n.defaultState("shopping"),i.currentState.flavorsBtnList=n.buildButtonList(),i.updateSelectedTab=function(t){i.currentState.activeTab=t,e.info("changing to tab",i.currentState.activeTab)}}function shoppingReceiptController(e){}function aquisitionManager(){function e(e,t,o,r){}function t(e,t){var o=this;o.methodClicked=function(e){var t="";o.state.buttons.aquisition.addressed=!0,o.state.buttons.aquisition[e].selected=!0,o.state.buttons.aquisition[e].classes["glyphicon-ok"]=!0,t="pickup"==e?"ship":"pickup",o.state.buttons.aquisition[t].selected=!1,o.state.buttons.aquisition[t].classes["glyphicon-ok"]=!1}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/aquisitionManager.directive.htm",replace:!0,scope:{state:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function cartSummary(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/cartSummary.directive.htm",replace:!0,scope:{cart:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function coneFiller(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/coneFiller.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function emailHelper(){function e(e,t,o,r){}function t(e,t){function o(e,t){var o=!1;return e.length>=t&&(o=!0),o}var r=this;r.answers={name:{attempted:!1,value:""},email:{attempted:!1,value:""},message:{attempted:!1,value:""}},r.form={name:{error:{display:!1,message:"This is a test"},classes:{}},email:{error:{display:!1,message:"This is a test"},classes:{}},message:{error:{display:!1,message:"This is a test"},classes:{}},btn:{classes:{"btn-primary":!1,"btn-warning":!0,"btn-success":!1}}},r.checkName=function(e){},r.nameAttempt=function(e){r.answers.name.attempted=!0,o(e,3)?t.info("good check"):t.info("too short")},r.submitMessage=function(){r.redirect("")}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/emailHelper.directive.htm",replace:!0,scope:{redirect:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function listOfFlavors(){function e(e,t,o,r){}function t(e,t){function o(e){n.flavors[e].classes.availProductFlavor=!1,n.flavors[e].classes.selectedProductFlavor=!0,n.flavors[e].classes.unAvailProductFlavor=!1}function r(e){n.flavors[e].classes.availProductFlavor=!0,n.flavors[e].classes.selectedProductFlavor=!1,n.flavors[e].classes.unAvailProductFlavor=!1}var n=this;n.clickANut=function(e,i){t.info("clicking",e,i),e>=10&&(e=e/10-1);var c=!1;n.flavors[e].selected=!n.flavors[e].selected,n.flavors[e].selected?(o(e),c=!0):r(e),n.pickAFlavor()(e,c)},n.test=function(){t.info("click Test")}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/listOfFlavors.directive.htm",replace:!0,scope:{flavors:"=",pickAFlavor:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsChronoView(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsChronoView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsMapView(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsMapView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsThisWeek(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsThisWeek.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsTimeFilter(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsTimeFilter.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsToday(){function e(e,t,o,r){}function t(e,t){function o(e){var t=[];return Object.keys(e).forEach(function(o){var r=e[o];Object.keys(r).forEach(function(e){var o=r[e],n={start:"64800000",end:"64800000",name:o.name,address:"147 W. Center Street, Anaheim"};t.push(n)})}),t}function r(){n.eventsList=o(n.selectedLocation),n.todaysDate=new Date,t.info(n.todaysDate)}var n=this;t.info("vm.selectedLocation",n.selectedLocation),r()}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsToday.directive.htm",replace:!0,scope:{selectedLocation:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function packagingFiller(){function e(e,t,o,r){}function t(e,t){function o(){c.state.packaging.selected=!1,c.state.packaging.size=void 0,c.state.packaging.flavors=0,c.state.packaging.mix={},Object.keys(c.state.buttons.flavorList).forEach(function(e){c.state.buttons.flavorList[e].selected=!1,c.state.buttons.flavorList[e].classes.availProductFlavor=!0,c.state.buttons.flavorList[e].classes.unAvailProductFlavor=!1,c.state.buttons.flavorList[e].classes.selectedProductFlavor=!1})}function r(e){return 1/e}function n(e){e?c.state.packaging.flavors++:c.state.packaging.flavors--}function i(e,t){var o=e.toString();t?(Object.keys(c.state.packaging.mix).forEach(function(e){c.state.packaging.mix[e]=r(c.state.packaging.flavors)}),c.state.packaging.mix[o]=r(c.state.packaging.flavors)):(Object.keys(c.state.packaging.mix).forEach(function(e){c.state.packaging.mix[e]=r(c.state.packaging.flavors)}),delete c.state.packaging.mix[o])}var c=this;c.qty=1,c.pickAFlavor=function(e,t){n(t),i(e,t)},c.addToCart=function(e){var t=c.state.packaging.size,r=c.state.packaging.mix,n=c.qty,i=c.pricing.calculatePurchasePrice(c.state.packaging,c.pricing),a=c.pricing.buildDescription(c.state.packaging,c.pricing),l={description:a,packaging:t,flavors:r,qty:n,cost:i};c.cart.items.push(c.addFilledPackage()(l)),o(),e?c.changeTab()(2):c.changeTab()(0)},c.discardButtonClicked=function(){o(),c.changeTab()(0)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/packagingFiller.directive.htm",replace:!0,scope:{cart:"=",pricing:"=",changeTab:"&",state:"=",addFilledPackage:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function paymentManager(){function e(e,t,o,r){}function t(e,t,o){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/paymentManager.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","backendComFactory"],o}function platterFiller(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/platterFiller.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function qtyManager(){function e(e,t,o,r){}function t(e,t){var o=this;o.subtract=function(){o.qty>1&&o.qty--},o.add=function(){o.qty++}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/qtyManager.directive.htm",replace:!0,scope:{qty:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function regionFinder(){function e(e,t,o,r){}function t(e,t){var o=this;o.states=[{name:"California",id:"CA"},{name:"Oregon",id:"OR"},{name:"Utah",id:"UT"}],o.selectState=function(e){t.info("got this",o.states[e]),o.locationRedirect()(o.states[e])}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/regionFinder.directive.htm",replace:!0,scope:{locationRedirect:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeEmpties(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeEmpties.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeFulls(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeFulls.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectFlavors(){function e(e,t,o,r){}function t(e,t){var o=this;o.fillAPackage=function(e){o.currentlyFilling.packaging=e},o.sizeBtnClicked=function(e){t.info("clikced",e,o.packagingSelected[e]),o.packagingSelected[e]=o.removeASize()(o.packagingSelected[e])}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectFlavors.directive.htm",replace:!0,scope:{packagingSelected:"=",removeASize:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectPackaging(){function e(e,t,o,r){}function t(e,t){var o=this;o.sizeBtnClicked=function(e){o.state.packaging.selected=!0,o.state.packaging.size=e,t.info("got this size, ",o.pricing.packaging[e].title),o.changeTab()(1)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectPackaging.directive.htm",replace:!0,scope:{state:"=",pricing:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function shippingOptions(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/shippingOptions.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function shoppingProgressBar(){function e(e,t,o,r){e.$watch("vm.activeTab",function(t,o){e.vm.changeTabClass(t,o)})}function t(e,t,o){var r=this;r.tabs=o.defaultState("shoppingProgressBar"),r.changeTabClass=function(e,t){r.tabs[t].classes.spbtabSelected=!1,r.tabs[e].classes.spbtabSelected=!0},r.tabClick=function(e){r.changeTabClass(e,r.activeTab),r.changeTab()(e)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/shoppingProgressBar.directive.htm",replace:!0,scope:{activeTab:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","stateFactory"],o}function toolBar(){function e(e,t,o,r){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function backendComFactory(e){function t(e){return fetch(e)}function o(e){return t(e).then(function(e){return e.json()})}function r(){return new Promise(function(e,t){})}function n(){return new Promise(function(t,r){o("/api/get/list/events").then(function(o){e.info("success:",o),t(o)})["catch"](function(t){e.info("error:",t),r(t)})})}var i={get:r,getLocations:n};return i}function dataServices(e){var t={};return t}function fillingsFactory(e){var t={packaging:void 0,flavors:{0:"Secret Recipe Pecans",1:"Drunken Pecans",2:"Cinnamon Pecans",3:"Secret Recipe Almonds",4:"Cinnamon Almonds",5:"Secret Recipe Cashews",6:"Secret Recipe Peanuts"},types:{0:"Pecans",1:"Pecans",2:"Pecans",3:"Almonds",4:"Almonds",5:"Cashews",6:"Peanuts"},recipies:{0:"Secret Recipe",1:"Drunken",2:"Cinnamon",3:"Secret Recipe",4:"Cinnamon",5:"Secret Recipe",6:"Secret Recipe"}};return t}function priceListFactory(e){function t(t,o){var r,n={},i=0;return e.info("mix",o),Object.keys(o).forEach(function(e){n[t[e]]=!0}),Object.keys(n).forEach(function(e){i++,r=e}),i>1&&(r="undefined"!=typeof o[6]&&o[6]>=.5?"Peanut Mix":"Mix"),r}function o(e,t){var o,r={},n=[];switch(Object.keys(t).forEach(function(t){r[e[t]]=!0}),Object.keys(r).forEach(function(e){n.push(e)}),n.length){case 1:o=n[0];break;case 2:o=n[0]+" & "+n[1];break;case 3:o=n[0]+", "+n[1]+" & "+n[2]}return o}function r(e,t){var o=0;if("undefined"==typeof e.mix[6])o=e.size>2?t.withoutPeanuts[e.size.toString()][0]:t.withoutPeanuts[e.size.toString()];else if(e.size>2){var r=4*e.mix[6];o=t.withPeanuts[e.size.toString()][r.toString()]}else o=e.mix[6]>=.5?t.withPeanuts[e.size.toString()]:t.withoutPeanuts[e.size.toString()];return o}function n(e,r){var n="";return n+=r.packaging[e.size.toString()].title,n+=": ",n+=t(r.types,e.mix),n+=" (",n+=o(r.recipies,e.mix),n+=")"}var i={packaging:{0:{title:"Small",volume:4,compartments:1,maxFlavors:100},1:{title:"Average",volume:8,compartments:1,maxFlavors:100},2:{title:"Impressive",volume:16,compartments:1,maxFlavors:100},3:{title:"Platter",volume:20,compartments:4,maxFlavors:4}},flavors:{0:"Secret Recipe Pecans",1:"Drunken Pecans",2:"Cinnamon Pecans",3:"Secret Recipe Almonds",4:"Cinnamon Almonds",5:"Secret Recipe Cashews",6:"Secret Recipe Peanuts"},types:{0:"Pecans",1:"Pecans",2:"Pecans",3:"Almonds",4:"Almonds",5:"Cashews",6:"Peanuts"},recipies:{0:"Secret Recipe",1:"Drunken",2:"Cinnamon",3:"Secret Recipe",4:"Cinnamon",5:"Secret Recipe",6:"Secret Recipe"},withPeanuts:{0:500,1:800,2:1100,3:{1:2e3,2:1800,3:1600,4:1400}},withoutPeanuts:{0:700,1:1300,2:1800,3:{0:2200}},_distillType:t,_distillFlavors:o,calculatePurchasePrice:r,buildDescription:n};return i}function shoppingCartsFactory(e){function t(e){return e+1}function o(e){return e>0?e-1:0}function r(t){return e.info("adding a new package now",t),t}function n(e,t){}function i(e){var t=(e.cost*e.qty/100).toFixed(2);return t}function c(e){var t=0;return e.forEach(function(e){t+=e.cost*e.qty/100}),t.toFixed(2)}var a={items:[],cost:{subtotal:3500,taxes:0,discounts:0,shipping:{}},addASize:t,removeASize:o,addFilledPackage:r,removeAPackage:n,calculateItemSubtotal:i,calculateTotalCost:c};return a}function stateFactory(e){function t(e){var t;return"shopping"==e?t={activeTab:0,allTabs:{0:"package",1:"flavor",2:"access",3:"checkout"},packaging:{selected:!1,size:void 0,flavors:0,mix:{},cost:0},buttons:{typeList:{0:{type:"Pecans",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:3,flavors:{0:{recipe:"SR",selected:!1},1:{recipe:"Drunk",selected:!1},2:{recipe:"Cinn",selected:!1}}},1:{type:"Almonds",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:2,flavors:{0:{recipe:"SR",selected:!1},1:{recipe:"Cinn",selected:!1}}},2:{type:"Cashews",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:1,flavors:{0:{recipe:"SR",selected:!1}}},3:{type:"Peanuts",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:1,flavors:{0:{recipe:"SR",selected:!1}}}},flavorList:{0:{title:"Secret Recipe Pecans",type:"Pecans",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},1:{title:"Drunken Pecans",type:"Pecans",recipe:"Drunken",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},2:{title:"Cinnamon Pecans",type:"Pecans",recipe:"Cinnamon",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},3:{title:"Secret Recipe Almonds",type:"Almonds",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},4:{title:"Cinnamon Almonds",type:"Almonds",recipe:"Cinnamon",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},5:{title:"Secret Recipe Cashews",type:"Cashews",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},6:{title:"Secret Recipe Peanuts",type:"Peanuts",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}}},aquisition:{addressed:!1,pickup:{selected:!1,classes:{glyphicon:!0,"glyphicon-ok":!1}},ship:{selected:!1,classes:{glyphicon:!0,"glyphicon-ok":!1}}}}}:"shoppingProgressBar"==e&&(t={0:{classes:{spbtabSelected:!0},styles:{}},1:{classes:{spbtabSelected:!1},styles:{}},2:{classes:{spbtabSelected:!1},styles:{}},3:{classes:{spbtabSelected:!1},styles:{}}}),t}function o(){var e={0:{title:"Secret Recipe Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},1:{title:"Drunken Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},2:{title:"Cinnamon Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},3:{title:"Secret Recipe Almonds",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},4:{title:"Cinnamon Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},5:{title:"Secret Recipe Cashews",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},6:{title:"Secret Recipe Peanuts",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}}};return e}var r={defaultState:t,buildButtonList:o};return r}function config(e){e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/shop",{templateUrl:"views/shopping.htm",controller:"shoppingController",controllerAs:"vm"}).when("/shop/receipt",{templateUrl:"views/orderReceipt.htm",controller:"shoppingReceiptController",controllerAs:"vm"}).when("/locations",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state/:region",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/contact",{templateUrl:"views/contact.htm",controller:"contactController",controllerAs:"vm"}).when("/admin/server/test",{templateUrl:"views/admin.htm",controller:"adminController",controllerAs:"vm"})}config.$inject=["$routeProvider"];var ahNutsWebApp=angular.module("ahNutsWebApp",["ngRoute"]);angular.module("ahNutsWebApp").controller("adminController",adminController),adminController.$inject=["$log","$location"],angular.module("ahNutsWebApp").controller("contactController",contactController),contactController.$inject=["$log","$location"],angular.module("ahNutsWebApp").controller("landingController",landingController),landingController.$inject=["$log","$routeParams","$location"],angular.module("ahNutsWebApp").controller("locationsController",locationsController),locationsController.$inject=["$log","$routeParams","$location","backendComFactory"],angular.module("ahNutsWebApp").controller("shoppingController",shoppingController),shoppingController.$inject=["$log","shoppingCartsFactory","fillingsFactory","priceListFactory","stateFactory"],angular.module("ahNutsWebApp").controller("shoppingReceiptController",shoppingReceiptController),shoppingReceiptController.$inject=["$log"],angular.module("ahNutsWebApp").directive("aquisitionManager",aquisitionManager),angular.module("ahNutsWebApp").directive("cartSummary",cartSummary),angular.module("ahNutsWebApp").directive("coneFiller",coneFiller),angular.module("ahNutsWebApp").directive("emailHelper",emailHelper),angular.module("ahNutsWebApp").directive("listOfFlavors",listOfFlavors),angular.module("ahNutsWebApp").directive("locationsChronoView",locationsChronoView),angular.module("ahNutsWebApp").directive("locationsMapView",locationsMapView),angular.module("ahNutsWebApp").directive("locationsThisWeek",locationsThisWeek),angular.module("ahNutsWebApp").directive("locationsTimeFilter",locationsTimeFilter),angular.module("ahNutsWebApp").directive("locationsToday",locationsToday),angular.module("ahNutsWebApp").directive("packagingFiller",packagingFiller),angular.module("ahNutsWebApp").directive("paymentManager",paymentManager),angular.module("ahNutsWebApp").directive("platterFiller",platterFiller),angular.module("ahNutsWebApp").directive("qtyManager",qtyManager),angular.module("ahNutsWebApp").directive("regionFinder",regionFinder),angular.module("ahNutsWebApp").directive("seeEmpties",seeEmpties),angular.module("ahNutsWebApp").directive("seeFulls",seeFulls),angular.module("ahNutsWebApp").directive("selectFlavors",selectFlavors),angular.module("ahNutsWebApp").directive("selectPackaging",selectPackaging),angular.module("ahNutsWebApp").directive("shippingOptions",shippingOptions),angular.module("ahNutsWebApp").directive("shoppingProgressBar",shoppingProgressBar),angular.module("ahNutsWebApp").directive("toolBar",toolBar),angular.module("ahNutsWebApp").factory("backendComFactory",backendComFactory),backendComFactory.$inject=["$log","$http"],angular.module("ahNutsWebApp").factory("dataServices",dataServices),dataServices.$inject=["$log"],angular.module("ahNutsWebApp").factory("fillingsFactory",fillingsFactory),fillingsFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("priceListFactory",priceListFactory),priceListFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("shoppingCartsFactory",shoppingCartsFactory),shoppingCartsFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("ahNutsWebApp").config(config);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvYWRtaW4uY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvY29udGFjdC5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sYW5kaW5nLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xvY2F0aW9ucy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZ1JlY2VpcHQuY29udHJvbGxlci5qcyIsImJ1bmRsZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9hcXVpc2l0aW9uTWFuYWdlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2FydFN1bW1hcnkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NvbmVGaWxsZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsSGVscGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9saXN0T2ZGbGF2b3JzLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNDaHJvbm9WaWV3LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNNYXBWaWV3LmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaGlzV2Vlay5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGltZUZpbHRlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcGF5bWVudE1hbmFnZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3BsYXR0ZXJGaWxsZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3F0eU1hbmFnZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3JlZ2lvbkZpbmRlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRW1wdGllcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRnVsbHMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdFBhY2thZ2luZy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hpcHBpbmdPcHRpb25zLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaG9wcGluZ1Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy90b29sYmFyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZmFjdG9yaWVzL2JhY2tlbmRDb20uZmFjdG9yeS5qcyIsInNjcmlwdHMvZmFjdG9yaWVzL2RhdGFTZXJ2aWNlcy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvZmlsbGluZ3MuZmFjdG9yeS5qcyIsInNjcmlwdHMvZmFjdG9yaWVzL3ByaWNlTGlzdHMuZmFjdG9yeS5qcyIsInNjcmlwdHMvZmFjdG9yaWVzL3Nob3BwaW5nQ2FydHMuZmFjdG9yeS5qcyIsInNjcmlwdHMvZmFjdG9yaWVzL3N0YXRlLmZhY3RvcnkuanMiLCJzY3JpcHRzL3JvdXRlcy9yb3V0ZS1jb25maWcuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJhZG1pbkNvbnRyb2xsZXIiLCIkbG9nIiwiJGxvY2F0aW9uIiwiJGh0dHAiLCJfZ2V0IiwidXJsIiwiZmV0Y2giLCJfZ2V0SlNPTiIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJ2bSIsInRoaXMiLCJ0ZXN0VGV4dCIsImluZm8iLCJlIiwiY29udGFjdENvbnRyb2xsZXIiLCJyZXR1cm5Ib21lIiwicGFyYW0iLCJmdWxsUGF0aCIsInBhdGgiLCJsYW5kaW5nQ29udHJvbGxlciIsIiRyb3V0ZVBhcmFtcyIsImluaXQiLCJuYXZCdXR0b25DbGlja2VkIiwibG9jYXRpb25zQ29udHJvbGxlciIsImJhY2tlbmRDb21GYWN0b3J5IiwiX2Rvd25sb2FkTG9jYXRpb25zIiwiYmFja2VuZCIsImdldExvY2F0aW9ucyIsImxvY2F0aW9uc01vZGVsIiwiX3NldFJlZ2lvbiIsInN0YXRlIiwicmVnaW9uRmluZGVyIiwidmlzYWJsZSIsImxvY2F0aW9uTGFiZWwiLCJsb2NhdGlvbnNUb2RheSIsImxvY2F0aW9uc1RoaXNXZWVrIiwibG9jYXRpb25zQ2hyb25vVmlldyIsInNlbGVjdGVkTG9jYXRpb24iLCJyZWdpb24iLCJldmVyeURheUxvY2F0aW9ucyIsImV2ZW50c0FuZE1hcmtldHMiLCJsb2NhdGlvblJlZGlyZWN0IiwiaWQiLCJzaG9wcGluZ0NvbnRyb2xsZXIiLCJzaG9wcGluZ0NhcnRzRmFjdG9yeSIsImZpbGxpbmdzRmFjdG9yeSIsInByaWNlTGlzdEZhY3RvcnkiLCJzdGF0ZUZhY3RvcnkiLCJjdXJyZW50bHlGaWxsaW5nIiwiY2FydCIsInByaWNlTGlzdCIsImN1cnJlbnRTdGF0ZSIsImRlZmF1bHRTdGF0ZSIsImZsYXZvcnNCdG5MaXN0IiwiYnVpbGRCdXR0b25MaXN0IiwidXBkYXRlU2VsZWN0ZWRUYWIiLCJ0YWIiLCJhY3RpdmVUYWIiLCJzaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyIiwiYXF1aXNpdGlvbk1hbmFnZXIiLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsImFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlciIsIiRzY29wZSIsIm1ldGhvZENsaWNrZWQiLCJtZXRob2QiLCJvcHBvc2l0ZSIsImJ1dHRvbnMiLCJhcXVpc2l0aW9uIiwiYWRkcmVzc2VkIiwic2VsZWN0ZWQiLCJjbGFzc2VzIiwiJGluamVjdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJyZXBsYWNlIiwiY2hhbmdlVGFiIiwibGluayIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwiY2FydFN1bW1hcnkiLCJjYXJ0U3VtbWFyeUNvbnRyb2xsZXIiLCJjb25lRmlsbGVyIiwiY29uZUZpbGxlckNvbnRyb2xsZXIiLCJlbWFpbEhlbHBlciIsImVtYWlsSGVscGVyQ29udHJvbGxlciIsImxlbmd0aENoZWNrZXIiLCJzdHJpbmciLCJyZXF1aXJlZCIsInRydWVPckZhbHNlIiwibGVuZ3RoIiwiYW5zd2VycyIsIm5hbWUiLCJhdHRlbXB0ZWQiLCJ2YWx1ZSIsImVtYWlsIiwibWVzc2FnZSIsImZvcm0iLCJlcnJvciIsImRpc3BsYXkiLCJidG4iLCJidG4tcHJpbWFyeSIsImJ0bi13YXJuaW5nIiwiYnRuLXN1Y2Nlc3MiLCJjaGVja05hbWUiLCJuYW1lQXR0ZW1wdCIsInN1Ym1pdE1lc3NhZ2UiLCJyZWRpcmVjdCIsImxpc3RPZkZsYXZvcnMiLCJsaXN0T2ZGbGF2b3JzQ29udHJvbGxlciIsInNlbGVjdEFCdG4iLCJpbmRleCIsImZsYXZvcnMiLCJhdmFpbFByb2R1Y3RGbGF2b3IiLCJzZWxlY3RlZFByb2R1Y3RGbGF2b3IiLCJ1bkF2YWlsUHJvZHVjdEZsYXZvciIsInVuc2VsZWN0QUJ0biIsImNsaWNrQU51dCIsInJlY2lwZSIsImFkZGluZyIsInBpY2tBRmxhdm9yIiwidGVzdCIsImxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyIiwibG9jYXRpb25zTWFwVmlldyIsImxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyIiwibG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyIiwibG9jYXRpb25zVGltZUZpbHRlciIsImxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyIiwibG9jYXRpb25zVG9kYXlDb250cm9sbGVyIiwiZ2V0VG9kYXlzTG9jYXRpb25zTGlzdCIsImFsbEV2ZW50cyIsImxpc3RPZkV2ZW50cyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiZnJlcXVlbmN5S2V5IiwiZnJlcXVlbmN5IiwiZXZlbnRLZXkiLCJhbkV2ZW50IiwiZXZlbnRPYmplY3QiLCJzdGFydCIsImVuZCIsImFkZHJlc3MiLCJwdXNoIiwiZXZlbnRzTGlzdCIsInRvZGF5c0RhdGUiLCJEYXRlIiwicGFja2FnaW5nRmlsbGVyIiwicGFja2FnaW5nRmlsbGVyQ29udHJvbGxlciIsInVwZGF0ZVBhY2thZ2luZ1N0YXRlIiwicGFja2FnaW5nIiwic2l6ZSIsInVuZGVmaW5lZCIsIm1peCIsImZsYXZvckxpc3QiLCJmbGF2b3IiLCJlcXVhbFNwbGl0IiwiZGl2aXNpb25zIiwidXBkYXRlRmxhdm9yQ291bnQiLCJ1cGRhdGVGbGF2b3JNaXgiLCJmbGF2b3JUeHQiLCJ0b1N0cmluZyIsInF0eSIsImFkZFRvQ2FydCIsImNoZWNrT3V0IiwidGhpc1BhY2thZ2luZyIsInRoaXNNaXh0dXJlIiwidGhpc1F1YW50aXR5IiwidGhpc0Nvc3QiLCJwcmljaW5nIiwiY2FsY3VsYXRlUHVyY2hhc2VQcmljZSIsInRoaXNEZXNjcmlwdGlvbiIsImJ1aWxkRGVzY3JpcHRpb24iLCJpdGVtRm9yUHVyY2hhc2UiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJpdGVtcyIsImFkZEZpbGxlZFBhY2thZ2UiLCJkaXNjYXJkQnV0dG9uQ2xpY2tlZCIsInBheW1lbnRNYW5hZ2VyIiwicGF5bWVudE1hbmFnZXJDb250cm9sbGVyIiwicGxhdHRlckZpbGxlciIsInBsYXR0ZXJGaWxsZXJDb250cm9sbGVyIiwicXR5TWFuYWdlciIsInF0eU1hbmFnZXJDb250cm9sbGVyIiwic3VidHJhY3QiLCJhZGQiLCJyZWdpb25GaW5kZXJDb250cm9sbGVyIiwic3RhdGVzIiwic2VsZWN0U3RhdGUiLCJzZWVFbXB0aWVzIiwic2VlRW1wdGllc0NvbnRyb2xsZXIiLCJzZWVGdWxscyIsInNlZUZ1bGxzQ29udHJvbGxlciIsInNlbGVjdEZsYXZvcnMiLCJzZWxlY3RGbGF2b3JzQ29udHJvbGxlciIsImZpbGxBUGFja2FnZSIsInNpemVCdG5DbGlja2VkIiwicGFja2FnaW5nU2VsZWN0ZWQiLCJyZW1vdmVBU2l6ZSIsInNlbGVjdFBhY2thZ2luZyIsInNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIiLCJ0aXRsZSIsInNoaXBwaW5nT3B0aW9ucyIsInNoaXBwaW5nT3B0aW9uc0NvbnRyb2xsZXIiLCJzaG9wcGluZ1Byb2dyZXNzQmFyIiwiJHdhdGNoIiwibmV4dCIsImN1cnJlbnQiLCJjaGFuZ2VUYWJDbGFzcyIsInNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyIiwidGFicyIsInNwYnRhYlNlbGVjdGVkIiwidGFiQ2xpY2siLCJ0b29sQmFyIiwiVG9vbEJhckNvbnRyb2xsZXIiLCJnZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJhY2tlbmRDb21FbGVtZW50cyIsImRhdGFTZXJ2aWNlcyIsImRhdGFTZXJ2aWNlc09iamVjdCIsImFsbEZpbGxpbmdzIiwiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsInR5cGVzIiwicmVjaXBpZXMiLCJfZGlzdGlsbFR5cGUiLCJyZWYiLCJyZXR1cm5TdHJpbmciLCJ0eXBlT2JqZWN0Iiwibm9PZlR5cGVzIiwia2V5IiwiX2Rpc3RpbGxGbGF2b3JzIiwiZmxhdm9yT2JqZWN0IiwiZmxhdm9yc0FycmF5IiwidGhpc1ByaWNpbmciLCJ3aXRob3V0UGVhbnV0cyIsInBlYW51dFNlY3Rpb25zIiwid2l0aFBlYW51dHMiLCJhbGxQcmljZXMiLCJ2b2x1bWUiLCJjb21wYXJ0bWVudHMiLCJtYXhGbGF2b3JzIiwiYWRkQVNpemUiLCJzdGFydGluZ1ZhbHVlIiwibmV3UGFja2FnZSIsInJlbW92ZUFQYWNrYWdlIiwiY2FsY3VsYXRlSXRlbVN1YnRvdGFsIiwiaXRlbSIsInN1YnRvdGFsIiwidG9GaXhlZCIsImNhbGN1bGF0ZVRvdGFsQ29zdCIsImFsbEl0ZW1zIiwidG90YWwiLCJhbGxDYXJ0RWxlbWVudHMiLCJ0YXhlcyIsImRpc2NvdW50cyIsInNoaXBwaW5nIiwic2VjdGlvbiIsInJldHVybk9iamVjdCIsImFsbFRhYnMiLCJ0eXBlTGlzdCIsInR5cGUiLCJwcm9wb3J0aW9uIiwicGlja3VwIiwiZ2x5cGhpY29uIiwiZ2x5cGhpY29uLW9rIiwic2hpcCIsInN0eWxlcyIsInN0YXRlc0ZhY3RvcnkiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJhaE51dHNXZWJBcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6IkFBT0EsUUFBQUEsaUJBQUFDLEVBQUFDLEVBQUFDLEdBSUEsUUFBQUMsR0FBQUMsR0FDQSxNQUFBQyxPQUFBRCxHQUdBLFFBQUFFLEdBQUFGLEdBQ0EsTUFBQUQsR0FBQUMsR0FBQUcsS0FBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFDLFNBVEEsR0FBQUMsR0FBQUMsSUFDQUQsR0FBQUUsWUFhQU4sRUFBQSx5QkFBQUMsS0FBQSxTQUFBQyxHQUNBUixFQUFBYSxLQUFBTCxHQUNBRSxFQUFBRSxTQUFBSixJQUZBRixTQUdBLFNBQUFRLEdBQ0FkLEVBQUFhLEtBQUEsaUJBQUFDLEtDbkJBLFFBQUFDLG1CQUFBZixFQUFBQyxHQUNBLEdBQUFTLEdBQUFDLElBR0FELEdBQUFNLFdBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBLEdBRUFsQixHQUFBYSxLQUFBLG1CQUFBSyxHQUNBakIsRUFBQWtCLEtBQUFELElDUkEsUUFBQUUsbUJBQUFwQixFQUFBcUIsRUFBQXBCLEdBTUEsUUFBQXFCLE1BSEEsR0FBQVosR0FBQUMsSUFXQUQsR0FBQWEsaUJBQUEsU0FBQU4sR0FDQSxHQUFBQyxHQUFBLElBQUFELENBRUFqQixHQUFBYSxLQUFBLG1CQUFBSyxHQUNBakIsRUFBQWtCLEtBQUFELElBSUFJLElDdEJBLFFBQUFFLHFCQUFBeEIsRUFBQXFCLEVBQUFwQixFQUFBd0IsR0FVQSxRQUFBQyxLQUVBQyxFQUFBQyxlQUFBckIs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Q1RBbUUsUUFDQUMsT0FBQSxnQkFDQUMsUUFBQSxvQkFBQXhRLG1CQUVBQSxrQkFBQW1ELFNBQUEsT0FBQSxTQ0pBbU4sUUFDQUMsT0FBQSxnQkFDQUMsUUFBQSxlQUFBOUQsY0FFQUEsYUFBQXZKLFNBQUEsUUNKQW1OLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsa0JBQUFuUCxpQkFFQUEsZ0JBQUE4QixTQUFBLFFDSkFtTixRQUNBQyxPQUFBLGdCQUNBQyxRQUFBLG1CQUFBbFAsa0JBRUFBLGlCQUFBNkIsU0FBQSxRQ0pBbU4sUUFDQUMsT0FBQSxnQkFDQUMsUUFBQSx1QkFBQXBQLHNCQUVBQSxxQkFBQStCLFNBQUEsUUNKQW1OLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsZUFBQWpQLGNBRUFBLGFBQUE0QixTQUFBLFFDSkFtTixRQUNBQyxPQUFBLGdCQUNBTCxPQUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignYWRtaW5Db250cm9sbGVyJywgYWRtaW5Db250cm9sbGVyKTtcblxuYWRtaW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYWRtaW5Db250cm9sbGVyKCRsb2csICRsb2NhdGlvbiwgJGh0dHApIHtcblx0dmFyIHZtID0gdGhpcztcblx0dm0udGVzdFRleHQgPSB7fTtcblxuXHRmdW5jdGlvbiBfZ2V0KHVybCkge1xuXHRcdHJldHVybiBmZXRjaCh1cmwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2dldEpTT04odXJsKSB7XG5cdFx0cmV0dXJuIF9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHRcdH0pO1xuXHR9XG5cblxuXHRfZ2V0SlNPTignL2FwaS9nZXQvbGlzdC9yZWdpb25zJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdCRsb2cuaW5mbyhyZXNwb25zZSk7XG5cdFx0dm0udGVzdFRleHQgPSByZXNwb25zZTtcblx0fSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlKTtcblx0fSlcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignY29udGFjdENvbnRyb2xsZXInLCBjb250YWN0Q29udHJvbGxlcik7XG5cbmNvbnRhY3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdENvbnRyb2xsZXIoJGxvZywgJGxvY2F0aW9uKSB7XG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly92aWV3IG1vZGVsIG1ldGhvZHNcblx0dm0ucmV0dXJuSG9tZSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG5cdFx0dmFyIGZ1bGxQYXRoID0gJy8nOyAvLysgcGFyYW07XG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2cuaW5mbygncmVkaXJlY3RpbmcgdG86ICcgKyBmdWxsUGF0aCk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmRpbmdDb250cm9sbGVyJywgbGFuZGluZ0NvbnRyb2xsZXIpO1xuXG5sYW5kaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkbG9nLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2xvY2FsIG1ldGhvZHNcblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHQvL2RlZmluZSB0aGUgc3RhdGUgb2YgdGhpcyBwYWdlXG5cdFx0XG5cdFx0XG5cblx0fTtcblxuXHQvL3ZpZXcgbWV0aG9kc1xuXHR2bS5uYXZCdXR0b25DbGlja2VkID0gZnVuY3Rpb24ocGFyYW0pIHtcblx0XHR2YXIgZnVsbFBhdGggPSAnLycgKyBwYXJhbTtcblx0XHQvL3JlZGlyZWN0XG5cdFx0JGxvZy5pbmZvKCdyZWRpcmVjdGluZyB0bzogJyArIGZ1bGxQYXRoKTtcblx0XHQkbG9jYXRpb24ucGF0aChmdWxsUGF0aCk7XG5cdH1cblxuXHQvL3J1biBpbml0IGZ1bmN0aW9uXG5cdGluaXQoKTtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbG9jYXRpb25zQ29udHJvbGxlcicsIGxvY2F0aW9uc0NvbnRyb2xsZXIpO1xuXG5sb2NhdGlvbnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbicsICdiYWNrZW5kQ29tRmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sIGJhY2tlbmRDb21GYWN0b3J5KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2YXIgYmFja2VuZCA9IGJhY2tlbmRDb21GYWN0b3J5O1xuXG5cdC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0dm0ubG9jYXRpb25zTW9kZWwgPSB7fTtcblxuXHQvL2xvY2FsIG1ldGhvZHNcblx0ZnVuY3Rpb24gX2Rvd25sb2FkTG9jYXRpb25zKCkge1xuXHRcdC8vZG93bmxvYWQgbG9jYXRpb25zIG1vZGVsXG5cdFx0YmFja2VuZC5nZXRMb2NhdGlvbnMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcblx0XHRcdCRsb2cuaW5mbygnZ290IHRoaXMgaW4gbG9jYXRpb25zIGNvbnRyb2xsZXInLCByZXNwb25zZSk7XG5cdFx0XHRcblx0XHRcdC8vc2V0IHRoZSB2bSB2YXJpYWJsZVxuXHRcdFx0dm0ubG9jYXRpb25zTW9kZWwgPSByZXNwb25zZTtcblxuXHRcdFxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcdFxuXHRcdFx0JGxvZy5pbmZvKCd0aGVyZSB3YXMgYW4gZXJyb3InLCBlKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9zZXRSZWdpb24oKSB7XG5cdFx0Ly9pZiB0aGVyZSBpcyBhIHJlZ2lvbiwgZG9uJ3QgbmVlZCB0aGUgbG9jYXRpb24gZmluZGVyXG5cdFx0dm0uc3RhdGUucmVnaW9uRmluZGVyLnZpc2FibGUgPSBmYWxzZTtcblx0XHR2bS5zdGF0ZS5sb2NhdGlvbkxhYmVsLnZpc2FibGUgPSB0cnVlO1xuXHRcdHZtLnN0YXRlLmxvY2F0aW9uc1RvZGF5LnZpc2FibGUgPSBmYWxzZTtcblx0XHR2bS5zdGF0ZS5sb2NhdGlvbnNUaGlzV2Vlay52aXNhYmxlID0gdHJ1ZTtcblx0XHR2bS5zdGF0ZS5sb2NhdGlvbnNDaHJvbm9WaWV3LnZpc2FibGUgPSBmYWxzZTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdC8vdXBkYXRlIHRoZSBtb2RlbCBmb3IgdGhlIHZpZXcgd2l0aCB0aGUgbGFzdGVzdCBsb2NhdGlvbiBpbmZvcm1haXRvbiBmcm9tIHRoZSBzZXJ2ZXJcblx0XHRfZG93bmxvYWRMb2NhdGlvbnMoKTtcblxuXHRcdC8vYnVpbGQgcmVxdWlyZWQgbW9kZWxzXG5cdCBcdHZtLnNlbGVjdGVkTG9jYXRpb24gPSB7XG5cdFx0XHRzdGF0ZTogJHJvdXRlUGFyYW1zLnN0YXRlLFxuXHRcdFx0cmVnaW9uOiAkcm91dGVQYXJhbXMucmVnaW9uXG5cdFx0fTtcblxuXHRcdHZtLnN0YXRlID0ge1xuXHRcdFx0cmVnaW9uRmluZGVyOiB7XG5cdFx0XHRcdHZpc2FibGU6IHRydWVcblx0XHRcdH0sXHRcdFxuXHRcdFx0bG9jYXRpb25MYWJlbDoge1xuXHRcdFx0XHR2aXNhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdGV2ZXJ5RGF5TG9jYXRpb25zOiB7XG5cdFx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0ZXZlbnRzQW5kTWFya2V0czoge1xuXHRcdFx0XHR2aXNhYmxlOiB0cnVlXG5cdFx0XHR9LFx0XHRcblx0XHRcdGxvY2F0aW9uc1RvZGF5OiB7XG5cdFx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0bG9jYXRpb25zVGhpc1dlZWs6IHtcblx0XHRcdFx0dmlzYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHRsb2NhdGlvbnNDaHJvbm9WaWV3OiB7XG5cdFx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9ub3RpZnkgdGhlIHBhcmFtcyBmb3IgdGhlIHRpbWUgYmVpbmdcdFRPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XHQkbG9nLmluZm8oJ3BhcmFtcyBhcmU6ICcsICRyb3V0ZVBhcmFtcyk7XG5cdFx0JGxvZy5pbmZvKCd2bS5sb2NhdGlvbnNNb2RlbCcsIHZtLmxvY2F0aW9uc01vZGVsKTtcblxuXHRcdC8vY2hlY2sgZm9yIHBhcmFtYXRlcnNcblx0XHQvL2lzIHRoZXJlIGEgc3RhdGUgcGFyYW0/XG5cdFx0aWYodHlwZW9mICRyb3V0ZVBhcmFtcy5zdGF0ZSAhPSAndW5kZWZpbmVkJykge1xuXG5cdFx0XHQvL2NoZWNrIGlmIHRoYXQgc3RhdGUgaXMgdmFsaWRcblxuXHRcdFx0JGxvZy5pbmZvKCdmb3VuZCBhIHN0YXRlJyk7XG5cblx0XHRcdF9zZXRSZWdpb24oKTtcblxuXG5cblx0XHRcdC8vaXMgdGhlcmUgYSByZWdpb24/XG5cdFx0XHRpZih0eXBlb2YgJHJvdXRlUGFyYW1zLnJlZ2lvbiAhPSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHQkbG9nLmluZm8oJ2ZvdW5kIGEgcmVnaW9uJyk7XG5cdFx0XHR9IGVsc2UgeyBcblx0XHRcdFx0JGxvZy5pbmZvKCdOTyByZWdpb24nKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkbG9nLmluZm8oJ05PIHN0YXRlJyk7XG5cdFx0fVxuXG5cdH1cblxuXHQvL3ZpZXcgbWV0aG9kc1xuXHR2bS5sb2NhdGlvblJlZGlyZWN0ID0gZnVuY3Rpb24oc3RhdGUsIHJlZ2lvbikge1xuXHRcdFxuXHRcdHZhciBmdWxsUGF0aCA9ICdsb2NhdGlvbnMvJztcblxuXHRcdC8vbm90aWZ5IHRoZSB1c2VyIGZvIHRoZSBzdGF0ZVxuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMsIHN0YXRlLmlkOicsIHN0YXRlKTtcblx0XHQvLyRsb2cuaW5mbygnZ290IHRoaXMsIHJlZ2lvbklEOicsIHJlZ2lvbklEKTtcblxuXHRcdC8vYnVpbGQgdGhlIHBhdGhcblx0XHRmdWxsUGF0aCA9IGZ1bGxQYXRoICsgc3RhdGUuaWQ7XG5cblx0XHQvL3JlZGlyZWN0XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG5cblx0Ly9pbml0aWFsaXplIHRoZSBjb250cm9sbGVyXG5cdGluaXQoKTtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdDb250cm9sbGVyJywgc2hvcHBpbmdDb250cm9sbGVyKTtcblxuc2hvcHBpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCAnZmlsbGluZ3NGYWN0b3J5JywgJ3ByaWNlTGlzdEZhY3RvcnknLCAnc3RhdGVGYWN0b3J5J107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdDb250cm9sbGVyKCRsb2csIHNob3BwaW5nQ2FydHNGYWN0b3J5LCBmaWxsaW5nc0ZhY3RvcnksIHByaWNlTGlzdEZhY3RvcnksIHN0YXRlRmFjdG9yeSkge1xuXG5cdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vaW1wb3J0IHJlcXVpcmVkIG9iamVjdHNcbiAgICB2bS5jdXJyZW50bHlGaWxsaW5nID0gZmlsbGluZ3NGYWN0b3J5O1xuXHR2bS5jYXJ0ID0gc2hvcHBpbmdDYXJ0c0ZhY3Rvcnk7XG5cdHZtLnByaWNlTGlzdCA9IHByaWNlTGlzdEZhY3Rvcnk7XG5cblx0Ly9zdGF0ZSB0cmFja2luZ1xuXHR2bS5jdXJyZW50U3RhdGUgPSBzdGF0ZUZhY3RvcnkuZGVmYXVsdFN0YXRlKCdzaG9wcGluZycpO1xuXHR2bS5jdXJyZW50U3RhdGUuZmxhdm9yc0J0bkxpc3QgPSBzdGF0ZUZhY3RvcnkuYnVpbGRCdXR0b25MaXN0KFxuXHRcdC8vdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLCBcdFx0XHQvL2xpc3Rcblx0XHQvL1snc2VsZWN0ZWQnLCAncHJvcG9ydGlvbnMnXSxcdFx0XHQvL29wdGlvbnNcblx0XHQvL3t9LCBcdFx0Ly9zdGF0ZVxuXHQpO1xuXG5cdC8vJGxvZy5pbmZvKHZtLmN1cnJlbnRTdGF0ZS5mbGF2b3JzQnRuTGlzdCk7XG5cdFxuXHQvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cblx0Ly93aGVuIGEgdGFiIGlzIHNlbGVjdGVkIGNoYW5nZSB0aGUgdGFiXG5cdHZtLnVwZGF0ZVNlbGVjdGVkVGFiID0gZnVuY3Rpb24odGFiKSB7XG5cdFx0dm0uY3VycmVudFN0YXRlLmFjdGl2ZVRhYiA9IHRhYjtcblx0XHQkbG9nLmluZm8oJ2NoYW5naW5nIHRvIHRhYicsIHZtLmN1cnJlbnRTdGF0ZS5hY3RpdmVUYWIpO1xuXHR9XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdzaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyJywgc2hvcHBpbmdSZWNlaXB0Q29udHJvbGxlcik7XG5cbnNob3BwaW5nUmVjZWlwdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nUmVjZWlwdENvbnRyb2xsZXIoJGxvZykge1xuXG5cdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cbn0iLCIvLyBNT0RVTEVcbmNvbmZpZy4kaW5qZWN0ID0gW1wiJHJvdXRlUHJvdmlkZXJcIl07XG52YXIgYWhOdXRzV2ViQXBwID0gYW5ndWxhci5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcsIFsnbmdSb3V0ZSddKTtcblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignYWRtaW5Db250cm9sbGVyJywgYWRtaW5Db250cm9sbGVyKTtcblxuYWRtaW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYWRtaW5Db250cm9sbGVyKCRsb2csICRsb2NhdGlvbiwgJGh0dHApIHtcblx0dmFyIHZtID0gdGhpcztcblx0dm0udGVzdFRleHQgPSB7fTtcblxuXHRmdW5jdGlvbiBfZ2V0KHVybCkge1xuXHRcdHJldHVybiBmZXRjaCh1cmwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2dldEpTT04odXJsKSB7XG5cdFx0cmV0dXJuIF9nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXHRcdH0pO1xuXHR9XG5cblxuXHRfZ2V0SlNPTignL2FwaS9nZXQvbGlzdC9yZWdpb25zJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdCRsb2cuaW5mbyhyZXNwb25zZSk7XG5cdFx0dm0udGVzdFRleHQgPSByZXNwb25zZTtcblx0fSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlKTtcblx0fSlcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdjb250YWN0Q29udHJvbGxlcicsIGNvbnRhY3RDb250cm9sbGVyKTtcblxuY29udGFjdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckbG9jYXRpb24nXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb250YWN0Q29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24pIHtcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHR2bS5yZXR1cm5Ib21lID0gZnVuY3Rpb24ocGFyYW0pIHtcblx0XHR2YXIgZnVsbFBhdGggPSAnLyc7IC8vKyBwYXJhbTtcblx0XHQvL3JlZGlyZWN0XG5cdFx0JGxvZy5pbmZvKCdyZWRpcmVjdGluZyB0bzogJyArIGZ1bGxQYXRoKTtcblx0XHQkbG9jYXRpb24ucGF0aChmdWxsUGF0aCk7XG5cdH1cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24pIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIHN0YXRlIG9mIHRoaXMgcGFnZVxuXHRcdFxuXHRcdFxuXG5cdH07XG5cblx0Ly92aWV3IG1ldGhvZHNcblx0dm0ubmF2QnV0dG9uQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhcmFtKSB7XG5cdFx0dmFyIGZ1bGxQYXRoID0gJy8nICsgcGFyYW07XG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2cuaW5mbygncmVkaXJlY3RpbmcgdG86ICcgKyBmdWxsUGF0aCk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG5cblx0Ly9ydW4gaW5pdCBmdW5jdGlvblxuXHRpbml0KCk7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbG9jYXRpb25zQ29udHJvbGxlcicsIGxvY2F0aW9uc0NvbnRyb2xsZXIpO1xuXG5sb2NhdGlvbnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbicsICdiYWNrZW5kQ29tRmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sIGJhY2tlbmRDb21GYWN0b3J5KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2YXIgYmFja2VuZCA9IGJhY2tlbmRDb21GYWN0b3J5O1xuXG5cdC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0dm0ubG9jYXRpb25zTW9kZWwgPSB7fTtcblxuXHQvL2xvY2FsIG1ldGhvZHNcblx0ZnVuY3Rpb24gX2Rvd25sb2FkTG9jYXRpb25zKCkge1xuXHRcdC8vZG93bmxvYWQgbG9jYXRpb25zIG1vZGVsXG5cdFx0YmFja2VuZC5nZXRMb2NhdGlvbnMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcblx0XHRcdCRsb2cuaW5mbygnZ290IHRoaXMgaW4gbG9jYXRpb25zIGNvbnRyb2xsZXInLCByZXNwb25zZSk7XG5cdFx0XHRcblx0XHRcdC8vc2V0IHRoZSB2bSB2YXJpYWJsZVxuXHRcdFx0dm0ubG9jYXRpb25zTW9kZWwgPSByZXNwb25zZTtcblxuXHRcdFxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcdFxuXHRcdFx0JGxvZy5pbmZvKCd0aGVyZSB3YXMgYW4gZXJyb3InLCBlKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9zZXRSZWdpb24oKSB7XG5cdFx0Ly9pZiB0aGVyZSBpcyBhIHJlZ2lvbiwgZG9uJ3QgbmVlZCB0aGUgbG9jYXRpb24gZmluZGVyXG5cdFx0dm0uc3RhdGUucmVnaW9uRmluZGVyLnZpc2FibGUgPSBmYWxzZTtcblx0XHR2bS5zdGF0ZS5sb2NhdGlvbkxhYmVsLnZpc2FibGUgPSB0cnVlO1xuXHRcdHZtLnN0YXRlLmxvY2F0aW9uc1RvZGF5LnZpc2FibGUgPSBmYWxzZTtcblx0XHR2bS5zdGF0ZS5sb2NhdGlvbnNUaGlzV2Vlay52aXNhYmxlID0gdHJ1ZTtcblx0XHR2bS5zdGF0ZS5sb2NhdGlvbnNDaHJvbm9WaWV3LnZpc2FibGUgPSBmYWxzZTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdC8vdXBkYXRlIHRoZSBtb2RlbCBmb3IgdGhlIHZpZXcgd2l0aCB0aGUgbGFzdGVzdCBsb2NhdGlvbiBpbmZvcm1haXRvbiBmcm9tIHRoZSBzZXJ2ZXJcblx0XHRfZG93bmxvYWRMb2NhdGlvbnMoKTtcblxuXHRcdC8vYnVpbGQgcmVxdWlyZWQgbW9kZWxzXG5cdCBcdHZtLnNlbGVjdGVkTG9jYXRpb24gPSB7XG5cdFx0XHRzdGF0ZTogJHJvdXRlUGFyYW1zLnN0YXRlLFxuXHRcdFx0cmVnaW9uOiAkcm91dGVQYXJhbXMucmVnaW9uXG5cdFx0fTtcblxuXHRcdHZtLnN0YXRlID0ge1xuXHRcdFx0cmVnaW9uRmluZGVyOiB7XG5cdFx0XHRcdHZpc2FibGU6IHRydWVcblx0XHRcdH0sXHRcdFxuXHRcdFx0bG9jYXRpb25MYWJlbDoge1xuXHRcdFx0XHR2aXNhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdGV2ZXJ5RGF5TG9jYXRpb25zOiB7XG5cdFx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0ZXZlbnRzQW5kTWFya2V0czoge1xuXHRcdFx0XHR2aXNhYmxlOiB0cnVlXG5cdFx0XHR9LFx0XHRcblx0XHRcdGxvY2F0aW9uc1RvZGF5OiB7XG5cdFx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0bG9jYXRpb25zVGhpc1dlZWs6IHtcblx0XHRcdFx0dmlzYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHRsb2NhdGlvbnNDaHJvbm9WaWV3OiB7XG5cdFx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly9ub3RpZnkgdGhlIHBhcmFtcyBmb3IgdGhlIHRpbWUgYmVpbmdcdFRPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XHQkbG9nLmluZm8oJ3BhcmFtcyBhcmU6ICcsICRyb3V0ZVBhcmFtcyk7XG5cdFx0JGxvZy5pbmZvKCd2bS5sb2NhdGlvbnNNb2RlbCcsIHZtLmxvY2F0aW9uc01vZGVsKTtcblxuXHRcdC8vY2hlY2sgZm9yIHBhcmFtYXRlcnNcblx0XHQvL2lzIHRoZXJlIGEgc3RhdGUgcGFyYW0/XG5cdFx0aWYodHlwZW9mICRyb3V0ZVBhcmFtcy5zdGF0ZSAhPSAndW5kZWZpbmVkJykge1xuXG5cdFx0XHQvL2NoZWNrIGlmIHRoYXQgc3RhdGUgaXMgdmFsaWRcblxuXHRcdFx0JGxvZy5pbmZvKCdmb3VuZCBhIHN0YXRlJyk7XG5cblx0XHRcdF9zZXRSZWdpb24oKTtcblxuXG5cblx0XHRcdC8vaXMgdGhlcmUgYSByZWdpb24/XG5cdFx0XHRpZih0eXBlb2YgJHJvdXRlUGFyYW1zLnJlZ2lvbiAhPSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHQkbG9nLmluZm8oJ2ZvdW5kIGEgcmVnaW9uJyk7XG5cdFx0XHR9IGVsc2UgeyBcblx0XHRcdFx0JGxvZy5pbmZvKCdOTyByZWdpb24nKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkbG9nLmluZm8oJ05PIHN0YXRlJyk7XG5cdFx0fVxuXG5cdH1cblxuXHQvL3ZpZXcgbWV0aG9kc1xuXHR2bS5sb2NhdGlvblJlZGlyZWN0ID0gZnVuY3Rpb24oc3RhdGUsIHJlZ2lvbikge1xuXHRcdFxuXHRcdHZhciBmdWxsUGF0aCA9ICdsb2NhdGlvbnMvJztcblxuXHRcdC8vbm90aWZ5IHRoZSB1c2VyIGZvIHRoZSBzdGF0ZVxuXHRcdCRsb2cuaW5mbygnZ290IHRoaXMsIHN0YXRlLmlkOicsIHN0YXRlKTtcblx0XHQvLyRsb2cuaW5mbygnZ290IHRoaXMsIHJlZ2lvbklEOicsIHJlZ2lvbklEKTtcblxuXHRcdC8vYnVpbGQgdGhlIHBhdGhcblx0XHRmdWxsUGF0aCA9IGZ1bGxQYXRoICsgc3RhdGUuaWQ7XG5cblx0XHQvL3JlZGlyZWN0XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG5cblx0Ly9pbml0aWFsaXplIHRoZSBjb250cm9sbGVyXG5cdGluaXQoKTtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdzaG9wcGluZ0NvbnRyb2xsZXInLCBzaG9wcGluZ0NvbnRyb2xsZXIpO1xuXG5zaG9wcGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICdzaG9wcGluZ0NhcnRzRmFjdG9yeScsICdmaWxsaW5nc0ZhY3RvcnknLCAncHJpY2VMaXN0RmFjdG9yeScsICdzdGF0ZUZhY3RvcnknXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NvbnRyb2xsZXIoJGxvZywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnksIGZpbGxpbmdzRmFjdG9yeSwgcHJpY2VMaXN0RmFjdG9yeSwgc3RhdGVGYWN0b3J5KSB7XG5cblx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9pbXBvcnQgcmVxdWlyZWQgb2JqZWN0c1xuICAgIHZtLmN1cnJlbnRseUZpbGxpbmcgPSBmaWxsaW5nc0ZhY3Rvcnk7XG5cdHZtLmNhcnQgPSBzaG9wcGluZ0NhcnRzRmFjdG9yeTtcblx0dm0ucHJpY2VMaXN0ID0gcHJpY2VMaXN0RmFjdG9yeTtcblxuXHQvL3N0YXRlIHRyYWNraW5nXG5cdHZtLmN1cnJlbnRTdGF0ZSA9IHN0YXRlRmFjdG9yeS5kZWZhdWx0U3RhdGUoJ3Nob3BwaW5nJyk7XG5cdHZtLmN1cnJlbnRTdGF0ZS5mbGF2b3JzQnRuTGlzdCA9IHN0YXRlRmFjdG9yeS5idWlsZEJ1dHRvbkxpc3QoXG5cdFx0Ly92bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMsIFx0XHRcdC8vbGlzdFxuXHRcdC8vWydzZWxlY3RlZCcsICdwcm9wb3J0aW9ucyddLFx0XHRcdC8vb3B0aW9uc1xuXHRcdC8ve30sIFx0XHQvL3N0YXRlXG5cdCk7XG5cblx0Ly8kbG9nLmluZm8odm0uY3VycmVudFN0YXRlLmZsYXZvcnNCdG5MaXN0KTtcblx0XG5cdC8vdmlldyBtb2RlbCBmdW5jdGlvbnNcblxuXHQvL3doZW4gYSB0YWIgaXMgc2VsZWN0ZWQgY2hhbmdlIHRoZSB0YWJcblx0dm0udXBkYXRlU2VsZWN0ZWRUYWIgPSBmdW5jdGlvbih0YWIpIHtcblx0XHR2bS5jdXJyZW50U3RhdGUuYWN0aXZlVGFiID0gdGFiO1xuXHRcdCRsb2cuaW5mbygnY2hhbmdpbmcgdG8gdGFiJywgdm0uY3VycmVudFN0YXRlLmFjdGl2ZVRhYik7XG5cdH1cblxuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdSZWNlaXB0Q29udHJvbGxlcicsIHNob3BwaW5nUmVjZWlwdENvbnRyb2xsZXIpO1xuXG5zaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyKCRsb2cpIHtcblxuXHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXG59XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdhcXVpc2l0aW9uTWFuYWdlcicsIGFxdWlzaXRpb25NYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBhcXVpc2l0aW9uTWFuYWdlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2FxdWlzaXRpb25NYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlOiBcIj1cIixcblx0XHRcdGNoYW5nZVRhYjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBhcXVpc2l0aW9uTWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBhcXVpc2l0aW9uTWFuYWdlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBhcXVpc2l0aW9uTWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICBcbiAgICBcdC8vbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0ubWV0aG9kQ2xpY2tlZCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuXHQgICAgXHQvL2xvY2FsIHZhcmlhYmxlc1xuXHQgICAgXHR2YXIgb3Bwb3NpdGUgPSAnJztcblxuXHQgICAgXHQvL2FjdGl2YXRlIGFkZHJlc3NlZFxuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb24uYWRkcmVzc2VkID0gdHJ1ZTtcblxuXHQgICAgXHQvL3NlbGVjdCB0aGUgcHJvcGVyIG9wdGlvblxuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb25bbWV0aG9kXS5zZWxlY3RlZCA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmJ1dHRvbnMuYXF1aXNpdGlvblttZXRob2RdLmNsYXNzZXNbJ2dseXBoaWNvbi1vayddID0gdHJ1ZTtcblxuXHQgICAgXHQvL3Vuc2VsZWN0IHRoZSBvcHBvc2l0ZVxuXHQgICAgXHRpZihtZXRob2QgPT0gJ3BpY2t1cCcpIG9wcG9zaXRlID0gJ3NoaXAnO1xuXHQgICAgXHRlbHNlIG9wcG9zaXRlID0gJ3BpY2t1cCc7XG5cblx0ICAgIFx0dm0uc3RhdGUuYnV0dG9ucy5hcXVpc2l0aW9uW29wcG9zaXRlXS5zZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb25bb3Bwb3NpdGVdLmNsYXNzZXNbJ2dseXBoaWNvbi1vayddID0gZmFsc2U7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdjYXJ0U3VtbWFyeScsIGNhcnRTdW1tYXJ5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjYXJ0U3VtbWFyeSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NhcnRTdW1tYXJ5LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGNhcnQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2FydFN1bW1hcnlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2FydFN1bW1hcnlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2FydFN1bW1hcnlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnY29uZUZpbGxlcicsIGNvbmVGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmVGaWxsZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jb25lRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbmVGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY29uZUZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25lRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2VtYWlsSGVscGVyJywgZW1haWxIZWxwZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGVtYWlsSGVscGVyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxIZWxwZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cmVkaXJlY3Q6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxIZWxwZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxIZWxwZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxIZWxwZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9sb2NhbCB2YXJpYWJsZXNcblx0ICAgIHZtLmFuc3dlcnMgPSB7XG5cdCAgICBcdG5hbWU6IHtcblx0ICAgIFx0XHRhdHRlbXB0ZWQ6IGZhbHNlLFxuXHQgICAgXHRcdHZhbHVlOlwiXCJcblx0ICAgIFx0fSxcblx0ICAgIFx0ZW1haWw6IHtcblx0ICAgIFx0XHRhdHRlbXB0ZWQ6IGZhbHNlLFxuXHQgICAgXHRcdHZhbHVlOlwiXCJcblx0ICAgIFx0fSxcblx0ICAgIFx0bWVzc2FnZToge1xuXHQgICAgXHRcdGF0dGVtcHRlZDogZmFsc2UsXG5cdCAgICBcdFx0dmFsdWU6XCJcIlxuXHQgICAgXHR9XG5cblx0ICAgIH1cblx0ICAgIHZtLmZvcm0gPSB7XG5cdCAgICBcdG5hbWU6IHtcblx0ICAgIFx0XHRlcnJvcjoge1xuXHQgICAgXHRcdFx0J2Rpc3BsYXknOiBmYWxzZSxcblx0ICAgIFx0XHRcdCdtZXNzYWdlJzonVGhpcyBpcyBhIHRlc3QnXG5cdCAgICBcdFx0fSxcblx0ICAgIFx0XHRjbGFzc2VzOiB7fVxuXHQgICAgXHR9LFxuXHQgICAgXHRlbWFpbDoge1xuXHQgICAgXHRcdGVycm9yOiB7XG5cdCAgICBcdFx0XHQnZGlzcGxheSc6IGZhbHNlLFxuXHQgICAgXHRcdFx0J21lc3NhZ2UnOidUaGlzIGlzIGEgdGVzdCdcblx0ICAgIFx0XHR9LFxuXHQgICAgXHRcdGNsYXNzZXM6IHt9XG5cdCAgICBcdH0sXG5cdCAgICBcdG1lc3NhZ2U6IHtcblx0ICAgIFx0XHRlcnJvcjoge1xuXHQgICAgXHRcdFx0J2Rpc3BsYXknOiBmYWxzZSxcblx0ICAgIFx0XHRcdCdtZXNzYWdlJzonVGhpcyBpcyBhIHRlc3QnXG5cdCAgICBcdFx0fSxcblx0ICAgIFx0XHRjbGFzc2VzOiB7fVx0ICAgIFx0XHRcblx0ICAgIFx0fSxcblx0ICAgIFx0YnRuOiB7XG5cdCAgICBcdFx0Y2xhc3Nlczoge1xuXHQgICAgXHRcdFx0XCJidG4tcHJpbWFyeVwiOiBmYWxzZSxcblx0ICAgIFx0XHRcdFwiYnRuLXdhcm5pbmdcIjogdHJ1ZSxcblx0ICAgIFx0XHRcdFwiYnRuLXN1Y2Nlc3NcIjogZmFsc2Vcblx0ICAgIFx0XHR9XG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLy9sb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBsZW5ndGhDaGVja2VyKHN0cmluZywgcmVxdWlyZWQpIHtcblx0ICAgIFx0dmFyIHRydWVPckZhbHNlID0gZmFsc2U7XG5cblx0ICAgIFx0aWYoc3RyaW5nLmxlbmd0aCA+PSByZXF1aXJlZCkgdHJ1ZU9yRmFsc2UgPSB0cnVlO1xuXG5cdCAgICBcdHJldHVybiB0cnVlT3JGYWxzZTtcblx0ICAgIH1cblx0ICAgIC8qXG5cdCAgICAqXHR0aGUgbmFtZSBmaWVsZCBzaG91bGQgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzIGxvbmdcblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZU5hbWUoKSB7fVxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCgpIHt9XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZU1lc3NhZ2UoKSB7fVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2hlY2tOYW1lID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cblx0ICAgIFx0Ly9jaGVjayBmb3IgbGVuZ3RoXG5cdCAgICB9XG5cblx0ICAgIHZtLm5hbWVBdHRlbXB0ID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdCAgICBcdC8vdGhyb3cgdGhlIGF0dGVtcHRlZCBmbGFnXG5cdCAgICBcdHZtLmFuc3dlcnMubmFtZS5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdC8vbWFrZSBzdXJlIHRoZSBhcHByb3ByaWF0ZSBsZW5ndGggd2FzIHJlYWNoZWRcblx0ICAgIFx0aWYobGVuZ3RoQ2hlY2tlcihzdHJpbmcsIDMpKSB7XG5cdCAgICBcdFx0Ly9pZiB0aGUgbmFtZSBpcyBsb25nIGVub3VnaCxcblx0ICAgIFx0XHQkbG9nLmluZm8oXCJnb29kIGNoZWNrXCIpO1xuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdCRsb2cuaW5mbygndG9vIHNob3J0Jylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICB2bS5zdWJtaXRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XG5cblx0ICAgIFx0Ly9wYXNzIHRoZSBhbnN3ZXJzIG9iamVjdCB0byB0aGUgc2VydmVyXG5cdCAgICBcdC8vMS4gSWYgVGhlcmUgV2FzIEFuIEVycm9yXG5cdCAgICBcdC8vMi4gSWYgTWVzc2FnZSBXYXMgU2VudCBTdWNlc3NmdWxseVxuXHQgICAgXHQvL25vdGlmeSB0aGUgdXNlciBvZiB0aGUgc3VjZXNzXG5cdCAgICBcdC8vdGhlbiByZXR1cm4gdG8gdGhlIGhvbWUgcGFnZT8/IFxuXHQgICAgXHR2bS5yZWRpcmVjdCgnJyk7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsaXN0T2ZGbGF2b3JzJywgbGlzdE9mRmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGlzdE9mRmxhdm9ycygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xpc3RPZkZsYXZvcnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Zmxhdm9yczogJz0nLFxuXHRcdFx0cGlja0FGbGF2b3I6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsaXN0T2ZGbGF2b3JzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxpc3RPZkZsYXZvcnNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9sb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBzZWxlY3RBQnRuKGluZGV4KSB7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuYXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuc2VsZWN0ZWRQcm9kdWN0Rmxhdm9yID0gdHJ1ZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiB1bnNlbGVjdEFCdG4oaW5kZXgpIHtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5hdmFpbFByb2R1Y3RGbGF2b3IgPSB0cnVlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnVuQXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XHQgICAgXHRcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIG1ha2VCdG5BdmFpbChpbmRleCkge31cblx0ICAgIGZ1bmN0aW9uIG1ha2VCdG5VbkF2YWlsKGluZGV4KSB7fVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2xpY2tBTnV0ID0gZnVuY3Rpb24oaW5kZXgsIHJlY2lwZSkge1xuXHQgICAgXHRcblx0ICAgIFx0JGxvZy5pbmZvKCdjbGlja2luZycsIGluZGV4LCByZWNpcGUpO1xuXG5cdCAgICBcdGlmKGluZGV4ID49MTApIGluZGV4ID0gKGluZGV4IC8gMTApIC0gMTtcblxuXHQgICAgXHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZVxuXHQgICAgXHR2YXIgYWRkaW5nID0gZmFsc2U7XG5cblx0ICAgXG5cdCAgICBcdC8vd2hlbiBhIGZsYXZvciBpcyBjbGlja2VkIG11c3Rcblx0ICAgIFx0Ly9jaGVjayBpZiBpdCBpcyBhbGxvd2VkIHRvIGJlIGNsaWNrZWRcblx0ICAgIFx0Ly9mbGlwIHRoZSBzZWxlY3RlZCBzdGF0ZVxuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZCA9ICF2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZDtcblxuXHQgICAgXHQvL3NldCB0aGUgY2xhc3Ncblx0ICAgIFx0aWYodm0uZmxhdm9yc1tpbmRleF0uc2VsZWN0ZWQpIHtcblx0ICAgIFx0XHQvL3VwZGF0ZSB0aGUgYnRuIHN0YXRlXG5cdCAgICBcdFx0c2VsZWN0QUJ0bihpbmRleCk7XG5cdCAgICBcdFx0Ly9hZGRpdGlvbiBvciBzdWJ0cmFjdGlvbiBcblx0ICAgIFx0XHRhZGRpbmcgPSB0cnVlO1xuXHQgICAgXHR9XG5cdCAgICBcdGVsc2Uge1xuXHQgICAgXHRcdC8vdXBkYXRlIHRoZSBidG4gc3RhdGVcblx0ICAgIFx0XHR1bnNlbGVjdEFCdG4oaW5kZXgpO1xuXHQgICAgXHR9XG5cblx0ICAgIFx0Ly9wYXNzIHRoZSBmbGF2b3IgdXAgdG8gdGhlIHBhcmVudFxuXHQgICAgXHR2bS5waWNrQUZsYXZvcigpKGluZGV4LCBhZGRpbmcpO1xuXHQgICAgfVxuXG5cdCAgIFxuXG5cdCAgICB2bS50ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdCRsb2cuaW5mbygnY2xpY2sgVGVzdCcpO1xuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zQ2hyb25vVmlldycsIGxvY2F0aW9uc0Nocm9ub1ZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXcoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNDaHJvbm9WaWV3LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc01hcFZpZXcnLCBsb2NhdGlvbnNNYXBWaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNNYXBWaWV3KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zTWFwVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvKmZ1bmN0aW9uIGluaXRNYXAoKSB7XG5cdCAgICAgICAgdmFyIHVsdXJ1ID0ge2xhdDogLTI1LjM2MywgbG5nOiAxMzEuMDQ0fTtcblx0ICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcblx0ICAgICAgICAgIHpvb206IDQsXG5cdCAgICAgICAgICBjZW50ZXI6IHVsdXJ1XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHQgICAgICAgICAgcG9zaXRpb246IHVsdXJ1LFxuXHQgICAgICAgICAgbWFwOiBtYXBcblx0ICAgICAgICB9KTtcblx0ICAgIH0qL1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUaGlzV2VlaycsIGxvY2F0aW9uc1RoaXNXZWVrKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNUaGlzV2VlaygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RoaXNXZWVrLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIFxuXHQgICAgLy9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGltZUZpbHRlcicsIGxvY2F0aW9uc1RpbWVGaWx0ZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RvZGF5JywgbG9jYXRpb25zVG9kYXkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c2VsZWN0ZWRMb2NhdGlvbjogXCI9XCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIFxuXHQgICAgLy9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9kZWZpbmUgbG9jYWwgbWV0aG9kc1xuXHQgICAgZnVuY3Rpb24gZ2V0VG9kYXlzTG9jYXRpb25zTGlzdChhbGxFdmVudHMpIHtcblxuXHQgICAgXHR2YXIgbGlzdE9mRXZlbnRzID0gW107XG5cblx0ICAgIFx0Ly91bnBhY2sgZnJlcXVlbmN5XG5cdCAgICBcdE9iamVjdC5rZXlzKGFsbEV2ZW50cykuZm9yRWFjaChmdW5jdGlvbihmcmVxdWVuY3lLZXkpIHtcblxuXHQgICAgXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdFx0dmFyIGZyZXF1ZW5jeSA9IGFsbEV2ZW50c1tmcmVxdWVuY3lLZXldO1xuXG5cdCAgICBcdFx0Ly91bnBhY2sgZXZlbnRzXG5cdCAgICBcdFx0T2JqZWN0LmtleXMoZnJlcXVlbmN5KS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50S2V5KSB7XG5cblx0ICAgIFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgXHRcdFx0dmFyIGFuRXZlbnQgPSBmcmVxdWVuY3lbZXZlbnRLZXldO1xuXHQgICAgXHRcdFx0dmFyIGV2ZW50T2JqZWN0ID0ge1xuXHQgICAgXHRcdFx0XHQnc3RhcnQnOiAnNjQ4MDAwMDAnLFxuXHQgICAgXHRcdFx0XHQnZW5kJzogJzY0ODAwMDAwJyxcblx0ICAgIFx0XHRcdFx0J25hbWUnOiBhbkV2ZW50Lm5hbWUsXG5cdCAgICBcdFx0XHRcdCdhZGRyZXNzJzogJzE0NyBXLiBDZW50ZXIgU3RyZWV0LCBBbmFoZWltJ1xuXHQgICAgXHRcdFx0fTtcblxuXHQgICAgXHRcdFx0bGlzdE9mRXZlbnRzLnB1c2goZXZlbnRPYmplY3QpO1xuXG5cdCAgICBcdFx0fSk7XG5cblx0ICAgIFx0fSk7XG5cblx0ICAgIFx0cmV0dXJuIGxpc3RPZkV2ZW50cztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gaW5pdCgpIHtcblxuXHQgICAgXHQvL2J1aWxkIHRoZSBsaXN0IG9mIGV2ZW50c1xuXHQgICAgXHR2bS5ldmVudHNMaXN0ID0gZ2V0VG9kYXlzTG9jYXRpb25zTGlzdCh2bS5zZWxlY3RlZExvY2F0aW9uKTtcblxuXHQgICAgXHR2bS50b2RheXNEYXRlID0gbmV3IERhdGUoKTtcblxuXHQgICAgXHQkbG9nLmluZm8odm0udG9kYXlzRGF0ZSk7XG5cdCAgICB9XG5cblx0ICAgIC8vYnVpbGQgdGhlIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICAvL3ZtLnRvZGF5c01hcmtldHMgPSBiYWNrZW5kLmdldCgpO1xuXG5cdCAgICAvL2NvbnNvbGUubG9nKHZtLnRvZGF5c01hcmtldHMpO1xuXG5cdCAgICAvL2xvZyB0aGUgaW5pdGlhbCB2YWx1ZXMgdG8gdGhlIHVzZXJcblx0ICAgICRsb2cuaW5mbygndm0uc2VsZWN0ZWRMb2NhdGlvbicsIHZtLnNlbGVjdGVkTG9jYXRpb24pO1xuXG5cdCAgICAvL2luaXQgdGhpcyBkaXJlY3RpdmVcblx0ICAgIGluaXQoKTtcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGFja2FnaW5nRmlsbGVyJywgcGFja2FnaW5nRmlsbGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wYWNrYWdpbmdGaWxsZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y2FydDogXCI9XCIsXG5cdFx0XHRwcmljaW5nOiBcIj1cIixcblx0XHRcdGNoYW5nZVRhYjogJyYnLFxuXHRcdFx0c3RhdGU6IFwiPVwiLFxuXHRcdFx0YWRkRmlsbGVkUGFja2FnZTogXCImXCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnF0eSA9IDE7XG5cblx0ICAgIGZ1bmN0aW9uIHVwZGF0ZVBhY2thZ2luZ1N0YXRlKCkge1xuXHQgICAgXHQvL3VwZGF0ZSB0aGUgb3ZlcmFsbCBwYWNrYWdpbmdcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNlbGVjdGVkID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLnBhY2thZ2luZy5zaXplID0gdW5kZWZpbmVkO1xuXHQgICAgXHR2bS5zdGF0ZS5wYWNrYWdpbmcuZmxhdm9ycyA9IDA7XG5cdCAgICBcdHZtLnN0YXRlLnBhY2thZ2luZy5taXggPSB7fTtcblx0ICAgIFx0Ly91cGRhdGUgdGhlIGZsYXZvciBidXR0b25zXG5cdCAgICBcdE9iamVjdC5rZXlzKHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHR2bS5zdGF0ZS5idXR0b25zLmZsYXZvckxpc3RbZmxhdm9yXS5zZWxlY3RlZCA9IGZhbHNlXG5cdCAgICBcdFx0dm0uc3RhdGUuYnV0dG9ucy5mbGF2b3JMaXN0W2ZsYXZvcl0uY2xhc3Nlcy5hdmFpbFByb2R1Y3RGbGF2b3IgPSB0cnVlO1xuXHQgICAgXHRcdHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdFtmbGF2b3JdLmNsYXNzZXMudW5BdmFpbFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIFx0XHR2bS5zdGF0ZS5idXR0b25zLmZsYXZvckxpc3RbZmxhdm9yXS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR9KVxuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0Q2FsY3VsYXRlcyBhbiBlcXVhbCBzcGxpdCBiZXR3ZWVuIGZsYXZvcnNcblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiBlcXVhbFNwbGl0KGRpdmlzaW9ucykge1xuXHQgICAgXHRyZXR1cm4gMSAvIGRpdmlzaW9ucztcblx0ICAgIH1cblxuXHQgICAgLypcblx0ICAgICpcdElmIGEgZmxhdm9yIGlzIGJlaW5nIGFkZGVkLCBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIGZsYXZvcnMsIHZpY2UtdmVyc2EuXG5cdCAgICAqL1xuXHQgICAgZnVuY3Rpb24gdXBkYXRlRmxhdm9yQ291bnQoYWRkaW5nKSB7XG5cdCAgICBcdC8vdXBkYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZmxhdm9yc1xuXHQgICAgXHRpZihhZGRpbmcpIHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzKys7XG5cdCAgICBcdGVsc2Ugdm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMtLTtcdCAgICBcdFxuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0VXBkYXRlIHRoZSBtaXggb2YgZmxhdm9ycyBiYXNlZCBvbiB0aGUgYWRkaXRpb24gb3Igc3VidHJhY3Rpb24gb2YgYSBmbGF2b3Jcblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiB1cGRhdGVGbGF2b3JNaXgoZmxhdm9yLCBhZGRpbmcpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcyBmbGF2b3InLCBmbGF2b3IpO1xuXHQgICAgXHRcblx0ICAgIFx0dmFyIGZsYXZvclR4dCA9IGZsYXZvci50b1N0cmluZygpO1xuXG5cdCAgICBcdC8vaXMgdGhpcyBhZGR0aW9uIG9yIHN1YnRyYWN0aW9uP1xuXHQgICAgXHRpZihhZGRpbmcpIHtcblx0ICAgIFx0XHQvL2lmIGFkZGluZy4uXG5cdCAgICBcdFx0Ly91cGRhdGUgdGhlIHNwbGl0IG9uIGFsbCB0aGUgY3VycmVudCBmbGF2b3JzXG5cdCAgICBcdFx0T2JqZWN0LmtleXModm0uc3RhdGUucGFja2FnaW5nLm1peCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHRcdHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yXSA9IGVxdWFsU3BsaXQodm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMpO1xuXHQgICAgXHRcdH0pO1xuXG5cdCAgICBcdFx0Ly90aGVuIGFkZCB0aGUgc3BsaXQgdG8gdGhlIG5ldyBmbGF2b3Jcblx0ICAgIFx0XHR2bS5zdGF0ZS5wYWNrYWdpbmcubWl4W2ZsYXZvclR4dF0gPSBlcXVhbFNwbGl0KHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzKTtcblx0ICAgIFx0XHRcblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHQvL2lmIHN1YnRyYWN0aW5nLi5cblx0ICAgIFx0XHQvL3VwZGF0ZSBhbGwgdGhlIHNwbGl0cyBvbiB0aGUgb3RoZXIgZmxhdm9yc1xuXHQgICAgXHRcdE9iamVjdC5rZXlzKHZtLnN0YXRlLnBhY2thZ2luZy5taXgpLmZvckVhY2goZnVuY3Rpb24oZmxhdm9yKSB7XG5cdCAgICBcdFx0XHR2bS5zdGF0ZS5wYWNrYWdpbmcubWl4W2ZsYXZvcl0gPSBlcXVhbFNwbGl0KHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzKTtcblx0ICAgIFx0XHR9KTtcblxuXHQgICAgXHRcdC8vdGhlbiBkZWxldGUgdGhlIGRlc2lyZWQgZmxhdm9yXG5cdCAgICBcdFx0ZGVsZXRlIHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yVHh0XTtcblxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAqXHRcdFx0XHRcdFZJRVdNT0RFTCBNRVRIT0RTXHRcdFx0XHRcdFx0XHQqXG5cdCAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXHQgICAgLypcblx0ICAgICpcdEFkZCBvciByZW1vdmUgdGhhdCBmbGF2b3IgZnJvbSB0aGUgbWl4LCB0aGlzIGludm9sdmVzXG5cdCAgICAqXHRcdC0gVXBkYXRpbmcgdGhlIHRvdGFsIG51bWJlciBvZiBmbGF2b3JzXG5cdCAgICAqXHRcdC0gQWRkaW5nIG9yIHJlbW92ZWluZyBhIHZhbHVlIGZyb20vdG8gdGhlIG1peCBvYmplY3Rcblx0ICAgICpcdFx0XHQqIElmIEFkZGluZyB0aGVuIHRoZSBzcGxpdCBtdXN0IGJlIGNhbGN1bGF0ZWRcblx0ICAgICovXG5cdCAgICB2bS5waWNrQUZsYXZvciA9IGZ1bmN0aW9uKGZsYXZvciwgYWRkaW5nKSB7XG5cdCAgICBcdFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZ290IHRoaXMgZmxhdm9yJywgZmxhdm9yKTtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGZsYXZvcnNcblx0ICAgIFx0dXBkYXRlRmxhdm9yQ291bnQoYWRkaW5nKTtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgbWl4XG5cdCAgICBcdHVwZGF0ZUZsYXZvck1peChmbGF2b3IsIGFkZGluZyk7XG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRXaGVuIFwiQWRkIFRvIENhcnRcIiBidXR0b24gaXMgY2xpY2tlZCwgYSBuZXcgaXRlbSBpcyBidWlsdCwgYW5kIGFkZGVkIHRvIHRoZVxuXHQgICAgKlx0Y2FydCBvYmplY3QuXG5cdCAgICAqL1xuXHQgICAgdm0uYWRkVG9DYXJ0ID0gZnVuY3Rpb24oY2hlY2tPdXQpIHtcdFx0Ly9hZGQgdGhlIGN1cnJlbnQgaXRlbSB0byB0aGUgY2FydFxuXG5cdCAgICBcdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZXNcblx0ICAgIFx0dmFyIHRoaXNQYWNrYWdpbmcgPSB2bS5zdGF0ZS5wYWNrYWdpbmcuc2l6ZTtcblx0ICAgIFx0dmFyIHRoaXNNaXh0dXJlID0gdm0uc3RhdGUucGFja2FnaW5nLm1peDtcblx0ICAgIFx0dmFyIHRoaXNRdWFudGl0eSA9IHZtLnF0eTtcblx0ICAgIFx0dmFyIHRoaXNDb3N0ID0gdm0ucHJpY2luZy5jYWxjdWxhdGVQdXJjaGFzZVByaWNlKHZtLnN0YXRlLnBhY2thZ2luZywgdm0ucHJpY2luZyk7XG5cdCAgICBcdHZhciB0aGlzRGVzY3JpcHRpb24gPSB2bS5wcmljaW5nLmJ1aWxkRGVzY3JpcHRpb24odm0uc3RhdGUucGFja2FnaW5nLCB2bS5wcmljaW5nKTtcblxuXHQgICAgXHQvL2J1aWxkIHRoZSBpdGVtXG5cdCAgICBcdHZhciBpdGVtRm9yUHVyY2hhc2UgPSB7XG5cdCAgICBcdFx0ZGVzY3JpcHRpb246IHRoaXNEZXNjcmlwdGlvbixcblx0XHRcdFx0cGFja2FnaW5nOiB0aGlzUGFja2FnaW5nLFxuXHRcdFx0XHRmbGF2b3JzOiB0aGlzTWl4dHVyZSxcblx0XHRcdFx0cXR5OiB0aGlzUXVhbnRpdHksXG5cdFx0XHRcdGNvc3Q6IHRoaXNDb3N0XG5cdCAgICBcdH1cblxuXHQgICAgXHQvL3Bhc3MgaXQgdG8gdGhlIGNhcnRcblx0ICAgIFx0dm0uY2FydC5pdGVtcy5wdXNoKHZtLmFkZEZpbGxlZFBhY2thZ2UoKShpdGVtRm9yUHVyY2hhc2UpKTtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgc3RhdGVcblx0ICAgIFx0dXBkYXRlUGFja2FnaW5nU3RhdGUoKTtcblxuXHQgICAgXHQvL3RoZW4gbW92ZSB0byB0aGUgbmV4dCB0YWJcblx0ICAgIFx0aWYoY2hlY2tPdXQpIHZtLmNoYW5nZVRhYigpKDIpO1xuXHQgICAgXHRlbHNlIHZtLmNoYW5nZVRhYigpKDApO1xuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0V2hlbiB0aGlzIGJ1dHRvbiBpcyBjbGlja2VkIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcGFja2FnaW5nIGlzIGRpc2NhcmRlZFxuXHQgICAgKi9cblx0ICAgIHZtLmRpc2NhcmRCdXR0b25DbGlja2VkID0gZnVuY3Rpb24oKSB7XHRcblx0ICAgIFx0XG5cdCAgICBcdC8vY3VycmVudGx5IGZpbGxpbmcgcGFja2FnZSBzZXQgdG8gdW5kZWZpbmVkXG5cdCAgICBcdHVwZGF0ZVBhY2thZ2luZ1N0YXRlKCk7XG5cblx0ICAgIFx0Ly9hY3RpdmUgdGFiIHN3aXRjaGVkIGJhY2sgdG8gMFxuXHQgICAgXHR2bS5jaGFuZ2VUYWIoKSgwKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGF5bWVudE1hbmFnZXInLCBwYXltZW50TWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGF5bWVudE1hbmFnZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wYXltZW50TWFuYWdlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnYmFja2VuZENvbUZhY3RvcnknXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBiYWNrZW5kQ29tRmFjdG9yeSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGxhdHRlckZpbGxlcicsIHBsYXR0ZXJGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHBsYXR0ZXJGaWxsZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wbGF0dGVyRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBsYXR0ZXJGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGxhdHRlckZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwbGF0dGVyRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3F0eU1hbmFnZXInLCBxdHlNYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBxdHlNYW5hZ2VyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcXR5TWFuYWdlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRxdHk6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcXR5TWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBxdHlNYW5hZ2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHF0eU1hbmFnZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXG5cdCAgICB2bS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKCkgeyBpZih2bS5xdHkgPiAxKSB2bS5xdHktLTsgfVxuXHQgICAgdm0uYWRkID0gZnVuY3Rpb24oKSB7IHZtLnF0eSsrOyB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdyZWdpb25GaW5kZXInLCByZWdpb25GaW5kZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHJlZ2lvbkZpbmRlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3JlZ2lvbkZpbmRlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRsb2NhdGlvblJlZGlyZWN0OiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHJlZ2lvbkZpbmRlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICByZWdpb25GaW5kZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcmVnaW9uRmluZGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIHZtLnN0YXRlcyA9IFtcblx0ICAgIFx0eyBcblx0ICAgIFx0XHRcIm5hbWVcIjogXCJDYWxpZm9ybmlhXCIsXG5cdCAgICBcdFx0XCJpZFwiOiBcIkNBXCJcblx0ICAgIFx0fSxcblx0ICAgIFx0e1xuXHQgICAgXHQgXHRcIm5hbWVcIjogXCJPcmVnb25cIixcblx0ICAgIFx0IFx0XCJpZFwiOiBcIk9SXCJcblx0ICAgIFx0fSxcblx0ICAgIFx0e1xuXHQgICAgXHRcdFwibmFtZVwiOiBcIlV0YWhcIixcblx0ICAgIFx0XHRcImlkXCI6IFwiVVRcIlxuXHQgICAgXHR9XG5cdCAgICBdO1xuXHQgICAgXHRcblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnNlbGVjdFN0YXRlID0gZnVuY3Rpb24oaWQpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHZtLnN0YXRlc1tpZF0pO1xuXG5cdCAgICBcdC8vcGFzcyB0aGUgaWQgYmFjayB1cCB0byB0aGUgbG9jYXRpb25zIGNvbnRyb2xsZXJcblx0ICAgIFx0dm0ubG9jYXRpb25SZWRpcmVjdCgpKHZtLnN0YXRlc1tpZF0pO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWVFbXB0aWVzJywgc2VlRW1wdGllcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRW1wdGllcygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VlRnVsbHMnLCBzZWVGdWxscyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRnVsbHMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWVGdWxscy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWVGdWxsc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVGdWxsc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWVGdWxsc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cGFja2FnaW5nU2VsZWN0ZWQ6ICc9Jyxcblx0XHRcdHJlbW92ZUFTaXplOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblxuXHQgICAgLy9hc3NpZ24gYSBiYWcgdG8gYmUgZmlsbGVkXG5cdCAgICB2bS5maWxsQVBhY2thZ2UgPSBmdW5jdGlvbihwYWNrYWdpbmcpIHtcblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmcgPSBwYWNrYWdpbmc7XG5cdCAgICB9XG5cblx0ICAgIHZtLnNpemVCdG5DbGlja2VkID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdCRsb2cuaW5mbygnY2xpa2NlZCcsIHBhY2thZ2luZywgdm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICBcdC8vZGVjcmVtZW50IHRoZSBjb3VudCBvZiB0aGlzIHBhY2thZ2UgdGhhdCB3YXMgY2xpY2tlZFxuXHQgICAgXHR2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddID0gdm0ucmVtb3ZlQVNpemUoKSh2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0UGFja2FnaW5nJywgc2VsZWN0UGFja2FnaW5nKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmcoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGU6ICc9Jyxcblx0XHRcdHByaWNpbmc6ICc9Jyxcblx0XHRcdGNoYW5nZVRhYjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHNpemUpIHtcblxuXHQgICAgXHQvL3ZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gc2l6ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNpemUgPSBzaXplO1xuXG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgc2l6ZSwgJywgdm0ucHJpY2luZy5wYWNrYWdpbmdbc2l6ZV0udGl0bGUpO1xuXG5cdCAgICBcdC8vY2hhbmdlIHRoZSBhY3RpdmUgdGFiXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDEpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ09wdGlvbnMnLCBzaGlwcGluZ09wdGlvbnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nT3B0aW9ucygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nT3B0aW9ucy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ09wdGlvbnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdPcHRpb25zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nT3B0aW9uc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICBcbiAgICBcdC8vbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJywgc2hvcHBpbmdQcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Nob3BwaW5nUHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZlVGFiOiAnPScsXG5cdFx0XHRjaGFuZ2VUYWI6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblx0XHQvL25lZWRzIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBpbiBhY3RpdmUgdGFiLCBhcyBvdGhlciBkaXJlY3RpdmVzXG5cdFx0Ly9jYW4gcHJvbXB0IHRoZXNlIGNoYW5nZXNcblx0XHRzY29wZS4kd2F0Y2goJ3ZtLmFjdGl2ZVRhYicsIGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0XHRcdC8vY29uc29sZS5sb2coJ3RoZSB0YWIgY2hhbmdlZCcsIGN1cnJlbnQsIG5leHQpO1xuXHRcdFx0Ly91cGRhdGUgc3R5bGVzXG5cdCAgICBcdHNjb3BlLnZtLmNoYW5nZVRhYkNsYXNzKG5leHQsIGN1cnJlbnQpO1xuXG5cdFx0fSk7XG4gICAgfVxuXG4gICAgc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc3RhdGVGYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzdGF0ZUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnRhYnMgPSBzdGF0ZUZhY3RvcnkuZGVmYXVsdFN0YXRlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJyk7XG5cblx0ICAgIC8vdmlldyBtb2RlbCBmdW5jdGlvbnNcblx0ICAgIHZtLmNoYW5nZVRhYkNsYXNzID0gZnVuY3Rpb24obmV4dCwgY3VycmVudCkge1xuXHQgICAgXHQvL3VwZGF0ZSBzdHlsZXNcblx0ICAgIFx0dm0udGFic1tjdXJyZW50XS5jbGFzc2VzLnNwYnRhYlNlbGVjdGVkID0gZmFsc2U7XG5cdCAgICBcdHZtLnRhYnNbbmV4dF0uY2xhc3Nlcy5zcGJ0YWJTZWxlY3RlZCA9IHRydWU7XHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgdm0udGFiQ2xpY2sgPSBmdW5jdGlvbih0YWIpIHtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgc3R5bGVzXG5cdCAgICBcdHZtLmNoYW5nZVRhYkNsYXNzKHRhYiwgdm0uYWN0aXZlVGFiKTtcblxuXHQgICAgXHQvL3VwZGF0ZSBwYXJlbnQgbW9kZWxcblx0ICAgIFx0dm0uY2hhbmdlVGFiKCkodGFiKTtcblx0ICAgIH1cblx0fVx0XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgndG9vbEJhcicsIHRvb2xCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHRvb2xCYXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdiYWNrZW5kQ29tRmFjdG9yeScsIGJhY2tlbmRDb21GYWN0b3J5KTtcblxuYmFja2VuZENvbUZhY3RvcnkuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGJhY2tlbmRDb21GYWN0b3J5KCRsb2cpIHtcblxuXHR2YXIgYmFja2VuZENvbUVsZW1lbnRzID0ge1xuXHRcdGdldDogZ2V0LFxuXHRcdGdldExvY2F0aW9uczogZ2V0TG9jYXRpb25zXG5cdH07XG5cblx0ZnVuY3Rpb24gX2dldCh1cmwpIHtcblx0XHRyZXR1cm4gZmV0Y2godXJsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9nZXRKU09OKHVybCkge1xuXHRcdHJldHVybiBfZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRcblxuXG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRMb2NhdGlvbnMoKSB7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdF9nZXRKU09OKCcvYXBpL2dldC9saXN0L2V2ZW50cycpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdCRsb2cuaW5mbygnc3VjY2VzczonLCByZXNwb25zZSk7XG5cblx0XHRcdFx0Ly9wYXNzIHRoZSByZXNwb25zZSBiYWNrXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlKSB7XG5cblx0XHRcdFx0JGxvZy5pbmZvKCdlcnJvcjonLCBlKTtcblxuXHRcdFx0XHRyZWplY3QoZSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdHJldHVybiBiYWNrZW5kQ29tRWxlbWVudHM7XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdkYXRhU2VydmljZXMnLCBkYXRhU2VydmljZXMpO1xuXG5kYXRhU2VydmljZXMuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGRhdGFTZXJ2aWNlcygkbG9nKSB7XG5cblx0dmFyIGRhdGFTZXJ2aWNlc09iamVjdCA9IHtcblxuXHR9O1xuXG5cdHJldHVybiBkYXRhU2VydmljZXNPYmplY3Q7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnZmlsbGluZ3NGYWN0b3J5JywgZmlsbGluZ3NGYWN0b3J5KTtcblxuZmlsbGluZ3NGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaWxsaW5nc0ZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsRmlsbGluZ3MgPSB7XG4gICAgXHRwYWNrYWdpbmc6IHVuZGVmaW5lZCxcbiAgICBcdGZsYXZvcnM6IHtcbiAgICBcdFx0MDogXCJTZWNyZXQgUmVjaXBlIFBlY2Fuc1wiLFxuICAgIFx0XHQxOiBcIkRydW5rZW4gUGVjYW5zXCIsXG4gICAgXHRcdDI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG4gICAgXHRcdDM6IFwiU2VjcmV0IFJlY2lwZSBBbG1vbmRzXCIsXG4gICAgXHRcdDQ6IFwiQ2lubmFtb24gQWxtb25kc1wiLFxuICAgIFx0XHQ1OiBcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuICAgIFx0XHQ2OiBcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiXG4gICAgXHR9LFxuICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgMDogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDE6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAyOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMzogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA0OiBcIkFsbW9uZHNcIixcbiAgICAgICAgICAgIDU6IFwiQ2FzaGV3c1wiLFxuICAgICAgICAgICAgNjogXCJQZWFudXRzXCJcbiAgICAgICAgfSxcbiAgICAgICAgcmVjaXBpZXM6IHtcbiAgICAgICAgICAgIDA6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgMTogXCJEcnVua2VuXCIsXG4gICAgICAgICAgICAyOiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICAzOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDQ6IFwiQ2lubmFtb25cIixcbiAgICAgICAgICAgIDU6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgNjogXCJTZWNyZXQgUmVjaXBlXCIgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgXHQvKmZsYXZvcnM6IHtcbiAgICBcdFx0bm9PZkZsYXZvcnM6IDAsXG4gICAgXHRcdHNlbGVjdGVkOiB7XG5cdCAgICBcdFx0U1JQZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdERSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHRDTlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0U1JBbG1vbmQ6IGZhbHNlLFxuXHQgICAgXHRcdENOQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRTUkNhc2hldzogZmFsc2UsXG5cdCAgICBcdFx0U1JQZWFudXQ6IGZhbHNlXG4gICAgXHRcdH0sXG4gICAgXHRcdHByb3BvcnRpb25zOiB7XG5cdCAgICBcdFx0U1JQZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0RFJQZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0Q05QZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0U1JBbG1vbmQ6IDAuMDAsXG5cdCAgICBcdFx0Q05BbG1vbmQ6IDAuMDAsXG5cdCAgICBcdFx0U1JDYXNoZXc6IDAuMDAsXG5cdCAgICBcdFx0U1JQZWFudXQ6IDAuMDBcbiAgICBcdFx0fVxuICAgIFx0fSwqL1xuXG4gICAgfTtcblx0XG5cdHJldHVybiBhbGxGaWxsaW5ncztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3ByaWNlTGlzdEZhY3RvcnknLCBwcmljZUxpc3RGYWN0b3J5KTtcblxucHJpY2VMaXN0RmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJpY2VMaXN0RmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxQcmljZXMgPSB7XG5cdFx0cGFja2FnaW5nOiB7XG5cdFx0XHQwOiB7XG5cdCAgICBcdFx0XCJ0aXRsZVwiOiBcIlNtYWxsXCIsXG5cdCAgICBcdFx0XCJ2b2x1bWVcIjogNCxcblx0ICAgIFx0XHRcImNvbXBhcnRtZW50c1wiOiAxLFxuXHQgICAgXHRcdFwibWF4Rmxhdm9yc1wiOiAxMDBcblx0ICAgIFx0fSxcblx0ICAgIFx0MToge1xuXHQgICAgXHRcdFwidGl0bGVcIjogXCJBdmVyYWdlXCIsXG5cdCAgICBcdFx0XCJ2b2x1bWVcIjogOCxcblx0ICAgIFx0XHRcImNvbXBhcnRtZW50c1wiOiAxLFxuXHQgICAgXHRcdFwibWF4Rmxhdm9yc1wiOiAxMDBcblx0ICAgIFx0fSxcblx0ICAgIFx0Mjoge1xuXHQgICAgXHRcdFwidGl0bGVcIjogXCJJbXByZXNzaXZlXCIsXG5cdCAgICBcdFx0XCJ2b2x1bWVcIjogMTYsXG5cdCAgICBcdFx0XCJjb21wYXJ0bWVudHNcIjogMSxcblx0ICAgIFx0XHRcIm1heEZsYXZvcnNcIjogMTAwXG5cdCAgICBcdH0sXG5cdCAgICBcdDM6IHtcblx0ICAgIFx0XHRcInRpdGxlXCI6IFwiUGxhdHRlclwiLFxuXHQgICAgXHRcdFwidm9sdW1lXCI6IDIwLFxuXHQgICAgXHRcdFwiY29tcGFydG1lbnRzXCI6IDQsXG5cdCAgICBcdFx0XCJtYXhGbGF2b3JzXCI6IDRcblx0ICAgIFx0fVxuXHRcdH0sXG5cdFx0Zmxhdm9yczoge1xuICAgIFx0XHQwOiBcIlNlY3JldCBSZWNpcGUgUGVjYW5zXCIsXG4gICAgXHRcdDE6IFwiRHJ1bmtlbiBQZWNhbnNcIixcbiAgICBcdFx0MjogXCJDaW5uYW1vbiBQZWNhbnNcIixcbiAgICBcdFx0MzogXCJTZWNyZXQgUmVjaXBlIEFsbW9uZHNcIixcbiAgICBcdFx0NDogXCJDaW5uYW1vbiBBbG1vbmRzXCIsXG4gICAgXHRcdDU6IFwiU2VjcmV0IFJlY2lwZSBDYXNoZXdzXCIsXG4gICAgXHRcdDY6IFwiU2VjcmV0IFJlY2lwZSBQZWFudXRzXCJcbiAgICBcdH0sXG4gICAgICAgIHR5cGVzOiB7XG4gICAgICAgICAgICAwOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMTogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDI6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAzOiBcIkFsbW9uZHNcIixcbiAgICAgICAgICAgIDQ6IFwiQWxtb25kc1wiLFxuICAgICAgICAgICAgNTogXCJDYXNoZXdzXCIsXG4gICAgICAgICAgICA2OiBcIlBlYW51dHNcIlxuICAgICAgICB9LFxuICAgICAgICByZWNpcGllczoge1xuICAgICAgICAgICAgMDogXCJTZWNyZXQgUmVjaXBlXCIsXG4gICAgICAgICAgICAxOiBcIkRydW5rZW5cIixcbiAgICAgICAgICAgIDI6IFwiQ2lubmFtb25cIixcbiAgICAgICAgICAgIDM6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgNDogXCJDaW5uYW1vblwiLFxuICAgICAgICAgICAgNTogXCJTZWNyZXQgUmVjaXBlXCIsXG4gICAgICAgICAgICA2OiBcIlNlY3JldCBSZWNpcGVcIiAgICAgICAgICAgXG4gICAgICAgIH0sXG5cdFx0d2l0aFBlYW51dHM6IHtcblx0XHRcdDA6IDUwMCxcblx0XHRcdDE6IDgwMCxcblx0XHRcdDI6IDExMDAsXG5cdFx0XHQzOiB7XG5cdFx0XHRcdDE6IDIwMDAsXG5cdFx0XHRcdDI6IDE4MDAsXG5cdFx0XHRcdDM6IDE2MDAsXG5cdFx0XHRcdDQ6IDE0MDBcblx0XHRcdH1cblx0XHR9LFxuXHRcdHdpdGhvdXRQZWFudXRzOiB7XG5cdFx0XHQwOiA3MDAsXG5cdFx0XHQxOiAxMzAwLFxuXHRcdFx0MjogMTgwMCxcblx0XHRcdDM6IHtcblx0XHRcdFx0MDogMjIwMFxuXHRcdFx0fVx0XHRcdFxuXHRcdH0sXG5cdFx0X2Rpc3RpbGxUeXBlOl9kaXN0aWxsVHlwZSxcblx0XHRfZGlzdGlsbEZsYXZvcnM6X2Rpc3RpbGxGbGF2b3JzLFxuXHRcdGNhbGN1bGF0ZVB1cmNoYXNlUHJpY2U6IGNhbGN1bGF0ZVB1cmNoYXNlUHJpY2UsXG5cdFx0YnVpbGREZXNjcmlwdGlvbjogYnVpbGREZXNjcmlwdGlvblxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9kaXN0aWxsVHlwZShyZWYsIG1peCkge1xuXG5cdFx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciB0eXBlT2JqZWN0ID0ge307XG5cdFx0dmFyIG5vT2ZUeXBlcyA9IDA7XG5cdFx0dmFyIHJldHVyblN0cmluZztcblxuXHRcdCRsb2cuaW5mbygnbWl4JywgbWl4KTtcblxuXHRcdC8vY29sbGVjdCBhbGwgdGhlIGtleXMgZnJvbSB0aGUgbWl4XG5cdFx0T2JqZWN0LmtleXMobWl4KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHQvL3VzZSB0aGUga2V5cyB0byBhZGQgbnV0IHR5cGVzIHRvIGEgdHlwZU9iamVjdFxuXHRcdFx0dHlwZU9iamVjdFtyZWZba2V5XV0gPSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Ly9jb3VudCB0aGUgdHlwZXMgaW4gdGhlIHR5cGUgb2JqZWN0IG5vd1xuXHRcdE9iamVjdC5rZXlzKHR5cGVPYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcblx0XHRcdC8vaW5jcmltZW50IHRoZSBudW1iZXIgb2YgdHlwZXNcblx0XHRcdG5vT2ZUeXBlcysrO1xuXG5cdFx0XHQvL3NhdmUgdGhlIHR5cGUgZm9yIGxhdGVyIGlmIG5lZWQgYmVcblx0XHRcdHJldHVyblN0cmluZyA9IGtleTtcblx0XHR9KTtcblxuXHRcdC8vaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgdHlwZS4uLlxuXHRcdGlmKG5vT2ZUeXBlcyA+IDEpIHtcblx0XHRcdC8vaXQncyBhIG1peFxuXHRcdFx0aWYodHlwZW9mIG1peFs2XSAhPSAndW5kZWZpbmVkJyAmJiBtaXhbNl0gPj0gMC41KSByZXR1cm5TdHJpbmcgPSAnUGVhbnV0IE1peCc7XG5cdFx0XHRlbHNlIHJldHVyblN0cmluZyA9ICdNaXgnXG5cblx0XHR9IFxuXG5cdFx0Ly8kbG9nLmluZm8odHlwZU9iamVjdCk7XG5cblx0XHRyZXR1cm4gcmV0dXJuU3RyaW5nO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2Rpc3RpbGxGbGF2b3JzKHJlZiwgbWl4KSB7XG5cdFx0XG5cdFx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBmbGF2b3JPYmplY3QgPSB7fTtcblx0XHR2YXIgZmxhdm9yc0FycmF5ID0gW107XG5cdFx0dmFyIHJldHVyblN0cmluZztcblxuXHRcdC8vY29sbGVjdCBhbGwgdGhlIGtleXMgZnJvbSB0aGUgbWl4XG5cdFx0T2JqZWN0LmtleXMobWl4KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHQvL3VzZSB0aGUga2V5cyB0byBhZGQgbnV0IHR5cGVzIHRvIGEgZmxhdm9yT2JqZWN0XG5cdFx0XHRmbGF2b3JPYmplY3RbcmVmW2tleV1dID0gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdC8vYnVpbGQgYW4gYXJyYXkgb2YgdHlwZXNcblx0XHRPYmplY3Qua2V5cyhmbGF2b3JPYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdGZsYXZvcnNBcnJheS5wdXNoKGtleSk7XG5cdFx0fSk7XHRcdFxuXG5cdFx0c3dpdGNoKGZsYXZvcnNBcnJheS5sZW5ndGgpIHtcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0cmV0dXJuU3RyaW5nID0gZmxhdm9yc0FycmF5WzBdO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuU3RyaW5nID0gZmxhdm9yc0FycmF5WzBdICsgJyAmICcgKyBmbGF2b3JzQXJyYXlbMV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRyZXR1cm5TdHJpbmcgPSBmbGF2b3JzQXJyYXlbMF0gKyAnLCAnICsgZmxhdm9yc0FycmF5WzFdICsgJyAmICcgKyBmbGF2b3JzQXJyYXlbMl07XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0dXJuU3RyaW5nO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2FsY3VsYXRlUHVyY2hhc2VQcmljZSh0aGlzUGFja2FnaW5nLCB0aGlzUHJpY2luZykge1xuXHRcdFxuXHRcdC8vJGxvZy5pbmZvKCdQYWNrYWdpbmc6JywgdGhpc1BhY2thZ2luZyk7XG5cdFx0Ly8kbG9nLmluZm8oJ1ByaWNpbmc6JywgdGhpc1ByaWNpbmcpO1xuXHRcdFxuXHRcdC8vbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGNvc3QgPSAwO1xuXG5cdFx0Ly9maXJzdCBjaGVjayBmb3IgcGVhbnV0c1xuXHRcdGlmKHR5cGVvZiB0aGlzUGFja2FnaW5nLm1peFsnNiddID09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHQvL3BlYW51dHMgYXJlIE5PVCBwcmVzZW50XG5cdFx0XHQvLyRsb2cuaW5mbygnbm8gcGVhbnV0cycpO1xuXHRcdFx0Ly90aGVuIGNoZWNrIGZvciBzaXplXG5cdFx0XHRpZih0aGlzUGFja2FnaW5nLnNpemUgPiAyKSB7XG5cdFx0XHRcdC8vdGhpcyBpcyBhIHBsYXR0ZXJcblx0XHRcdFx0Y29zdCA9IHRoaXNQcmljaW5nLndpdGhvdXRQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXVsnMCddO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly90aGlzIGlzIGEgY29uZVxuXHRcdFx0XHRjb3N0ID0gdGhpc1ByaWNpbmcud2l0aG91dFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vcGVhbnV0cyBhcmUgcHJlc2VudFxuXHRcdFx0Ly8kbG9nLmluZm8oJ3RoZXJlIGFyZSBwZWFudXRzJylcblx0XHRcdC8vdGhlbiBjaGVjayBmb3Igc2l6ZVxuXHRcdFx0aWYodGhpc1BhY2thZ2luZy5zaXplID4gMikge1xuXHRcdFx0XHQvL3RoaXMgaXMgYSBwbGF0dGVyXG5cdFx0XHRcdC8vY291bnQgc2VjdGlvbnMgb2YgcGVhbnV0c1xuXHRcdFx0XHR2YXIgcGVhbnV0U2VjdGlvbnMgPSA0ICogdGhpc1BhY2thZ2luZy5taXhbJzYnXTtcblxuXHRcdFx0XHQvLyRsb2cuaW5mbyhwZWFudXRTZWN0aW9ucywgJ3BlYW51dFNlY3Rpb25zJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb3N0ID0gdGhpc1ByaWNpbmcud2l0aFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldW3BlYW51dFNlY3Rpb25zLnRvU3RyaW5nKCldO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL3RoaXMgaXMgYSBjb25lXG5cdFx0XHRcdC8vaXMgaXQgbW9yZSBvciBsZXNzIHRoYW4gNTAlIHBlYW51dHM/XG5cdFx0XHRcdC8vJGxvZy5pbmZvKFwiJSBwZWFudXRzXCIsIHRoaXNQYWNrYWdpbmcubWl4Wyc2J10pO1xuXHRcdFx0XHRpZih0aGlzUGFja2FnaW5nLm1peFsnNiddID49IDAuNSkge1xuXHRcdFx0XHRcdC8vJGxvZy5pbmZvKCdwZWFudXRzIHByaWNlJywgdGhpc1ByaWNpbmcud2l0aFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldKTtcblx0XHRcdFx0XHRjb3N0ID0gdGhpc1ByaWNpbmcud2l0aFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vJGxvZy5pbmZvKCdObyBQZWFudXRzIHByaWNlJywgdGhpc1ByaWNpbmcud2l0aG91dFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldKTtcblx0XHRcdFx0XHRjb3N0ID0gdGhpc1ByaWNpbmcud2l0aG91dFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvc3Q7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJ1aWxkRGVzY3JpcHRpb24odGhpc1BhY2thZ2luZywgdGhpc1ByaWNpbmcpIHtcblx0XHQvLyRsb2cuaW5mbygnYnVpbGRpbmcgYSBkZXNjcmlwdGlvbicpO1xuXHRcdC8vJGxvZy5pbmZvKCd0eXBlJywgdGhpc1BhY2thZ2luZy5taXgpO1xuXHRcdC8vJGxvZy5pbmZvKCdmbGF2b3JzJywgdGhpc1BhY2thZ2luZy5taXgpO1xuXHRcdC8vJGxvZy5pbmZvKCd0aGlzUHJpY2luZycsIHRoaXNQcmljaW5nKTtcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9ICcnO1xuXG5cdFx0Ly9kZXRlcm1pbmUgdGhlIHNpemUgKHNtYWxsLCBhdmVyYWdlLCBpbXByZXNzaXZlLCBwbGF0dGVyKVxuXHRcdGRlc2NyaXB0aW9uICs9IHRoaXNQcmljaW5nLnBhY2thZ2luZ1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV0udGl0bGU7XG5cdFx0ZGVzY3JpcHRpb24gKz0gXCI6IFwiO1xuXG5cdFx0Ly9kZXRlcm1pbmUgdGhlIHR5cGUgKFBlY2FucywgQWxtb25kcywgQ2FzaGV3cywgUGVhbnV0cywgTWl4LCBQZWFudXQgTWl4KVxuXHRcdGRlc2NyaXB0aW9uICs9IF9kaXN0aWxsVHlwZSh0aGlzUHJpY2luZy50eXBlcywgdGhpc1BhY2thZ2luZy5taXgpO1xuXHRcdGRlc2NyaXB0aW9uICs9IFwiIChcIjtcblxuXHRcdC8vZGV0ZXJtaW5lIHJlY2lwZSAoLi4uKVxuXHRcdGRlc2NyaXB0aW9uICs9IF9kaXN0aWxsRmxhdm9ycyh0aGlzUHJpY2luZy5yZWNpcGllcywgdGhpc1BhY2thZ2luZy5taXgpOztcblx0XHRkZXNjcmlwdGlvbiArPSBcIilcIjtcblxuXHRcdHJldHVybiBkZXNjcmlwdGlvbjtcblx0fVxuXHRyZXR1cm4gYWxsUHJpY2VzO1xuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSk7XG5cbnNob3BwaW5nQ2FydHNGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NhcnRzRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxDYXJ0RWxlbWVudHMgPSB7XG5cdFx0aXRlbXM6IFtcdC8vRVhBTVBMRSBPQkpFQ1Rcblx0XHRcdC8qeyBcblx0XHRcdFx0ZGVzY3JpcHRpb246XCJTbWFsbDogU1IgUGVjYW5zICYgU1IgQ2FzaGV3c1wiLFxuXHRcdFx0XHRwYWNrYWdpbmc6IDAsXG5cdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcIlNSUGVjYW5zXCI6MC41LFxuXHRcdFx0XHRcdFwiU1JDYXNoZXdzXCI6MC41XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHF0eTogNSxcblx0XHRcdFx0Y29zdDogNzAwXG5cdFx0XHR9Ki9cblx0XHRdLFxuXHRcdC8qc2VsZWN0ZWRQYWNrYWdpbmc6IHtcblx0XHRcdHNtYWxsczogMCxcblx0XHRcdG1lZGl1bXM6IDAsXG5cdFx0XHRsYXJnZXM6IDAsXG5cdFx0XHRwbGF0dGVyczogMFxuXHRcdH0sXG5cdFx0ZmlsbGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bWVkaXVtczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bGFyZ2VzOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRwbGF0dGVyczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9XG5cdFx0fSwqL1xuXHRcdGNvc3Q6IHtcblx0XHRcdHN1YnRvdGFsOiAzNTAwLFxuXHRcdFx0dGF4ZXM6IDAsXG5cdFx0XHRkaXNjb3VudHM6IDAsXG5cdFx0XHRzaGlwcGluZzoge1xuXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhZGRBU2l6ZTogYWRkQVNpemUsXG5cdFx0cmVtb3ZlQVNpemU6IHJlbW92ZUFTaXplLFxuXHRcdGFkZEZpbGxlZFBhY2thZ2U6IGFkZEZpbGxlZFBhY2thZ2UsXG5cdFx0cmVtb3ZlQVBhY2thZ2U6IHJlbW92ZUFQYWNrYWdlLFxuXHRcdGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbDogY2FsY3VsYXRlSXRlbVN1YnRvdGFsLFxuXHRcdGNhbGN1bGF0ZVRvdGFsQ29zdDogY2FsY3VsYXRlVG90YWxDb3N0XG5cdH07XG5cblx0ZnVuY3Rpb24gYWRkQVNpemUoc3RhcnRpbmdWYWx1ZSkge1xuXHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHQvL25vdGlmeSB0aGUgdXNlciB3aGF0IGlzIGNvbWluZyBpbiBhbmQgd2hhdCBpcyBnb2luZyBvdXRcblx0XHQvLyRsb2cuaW5mbygnZ290IHRoaXMnLCBzdGFydGluZ1ZhbHVlLCAnIHJldHVybmluZyB0aGlzICcsIHN0YXJ0aW5nVmFsdWUgKyAxKTtcblxuXHRcdC8vaW5jcmltZW50IHRoZSBzdGFydGluZyB2YWx1ZSBcblx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSArIDE7XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlQVNpemUoc3RhcnRpbmdWYWx1ZSkge1xuXHRcdFxuXHRcdGlmKHN0YXJ0aW5nVmFsdWUgPiAwKSB7XG5cdFx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0XHQvL25vdGlmeSB0aGUgdXNlciB3aGF0IGlzIGNvbWluZyBpbiBhbmQgd2hhdCBpcyBnb2luZyBvdXRcblx0XHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSAtIDEpO1xuXG5cdFx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSAtIDE7XG5cdFx0fSBlbHNlIHJldHVybiAwO1x0XHRcblx0fVxuXHRmdW5jdGlvbiBhZGRGaWxsZWRQYWNrYWdlKG5ld1BhY2thZ2UpIHtcblx0XHQvL25vdGlmeSB1cyB0aGF0IHRoZSBwYWNrYWdlIHdhcyByZWNlaXZlZFxuXHRcdCRsb2cuaW5mbygnYWRkaW5nIGEgbmV3IHBhY2thZ2Ugbm93JywgbmV3UGFja2FnZSk7XG5cblx0XHQvL3JldHVybiB0aGUgcGFja2FnZVxuXHRcdHJldHVybiBuZXdQYWNrYWdlO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUFQYWNrYWdlKHNpemUsIGlkKSB7fVxuXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbChpdGVtKSB7XG5cdFx0XG5cdFx0Ly9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHN1YnRvdGFsID0gKChpdGVtLmNvc3QgKiBpdGVtLnF0eSkgLyAxMDApLnRvRml4ZWQoMik7XG5cblx0XHRyZXR1cm4gc3VidG90YWw7XG5cdH1cblxuXHRmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbENvc3QoYWxsSXRlbXMpIHtcblxuXHRcdC8vZGVjYWxyZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciB0b3RhbCA9IDA7XG5cblx0XHRhbGxJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdHRvdGFsICs9ICgoaXRlbS5jb3N0ICogaXRlbS5xdHkpIC8gMTAwKTtcblx0XHR9KTtcdFxuXG5cdFx0cmV0dXJuIHRvdGFsLnRvRml4ZWQoMik7XG5cdH1cblx0XG5cdHJldHVybiBhbGxDYXJ0RWxlbWVudHM7XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdzdGF0ZUZhY3RvcnknLCBzdGF0ZUZhY3RvcnkpO1xuXG5zdGF0ZUZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBzdGF0ZXNGYWN0b3J5ID0ge1xuXHRcdGRlZmF1bHRTdGF0ZTogZGVmYXVsdFN0YXRlLFxuXHRcdGJ1aWxkQnV0dG9uTGlzdDogYnVpbGRCdXR0b25MaXN0XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U3RhdGUoc2VjdGlvbikge1xuXHRcdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciByZXR1cm5PYmplY3Q7XG5cblx0XHRpZihzZWN0aW9uPT0nc2hvcHBpbmcnKSB7XG5cdFx0XHRyZXR1cm5PYmplY3QgPSB7XG5cdFx0XHRcdGFjdGl2ZVRhYjogMCxcblx0XHRcdFx0YWxsVGFiczoge1xuXHRcdFx0XHRcdDA6ICdwYWNrYWdlJyxcblx0XHRcdFx0XHQxOiAnZmxhdm9yJyxcblx0XHRcdFx0XHQyOiAnYWNjZXNzJyxcblx0XHRcdFx0XHQzOiAnY2hlY2tvdXQnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhY2thZ2luZzoge1xuXHRcdFx0XHRcdFwic2VsZWN0ZWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJzaXplXCI6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRcImZsYXZvcnNcIjogMCxcblx0XHRcdFx0XHRcIm1peFwiOiB7fSxcblx0XHRcdFx0XHRcImNvc3RcIjogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRidXR0b25zOiB7XG5cdFx0XHRcdFx0dHlwZUxpc3Q6IHtcblx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ1BlY2FucycsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZWNpcGllczogMyxcblx0XHRcdFx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ1NSJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0MToge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnRHJ1bmsnLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHQyOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdDaW5uJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ0FsbW9uZHMnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVjaXBpZXM6IDIsXG5cdFx0XHRcdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdTUicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ0Npbm4nLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Mjoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnQ2FzaGV3cycsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZWNpcGllczogMSxcblx0XHRcdFx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ1NSJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdDM6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ1BlYW51dHMnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVjaXBpZXM6IDEsXG5cdFx0XHRcdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdTUicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmbGF2b3JMaXN0OiB7XHRcdC8vVE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnUGVjYW5zJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdTZWNyZXQgUmVjaXBlJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHQgICAgXHRcdDE6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6IFwiRHJ1bmtlbiBQZWNhbnNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnUGVjYW5zJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdEcnVua2VuJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHQgICAgXHRcdDI6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ1BlY2FucycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnQ2lubmFtb24nLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdCAgICBcdFx0Mzoge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIEFsbW9uZHNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnQWxtb25kcycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnU2VjcmV0IFJlY2lwZScsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0ICAgIFx0XHQ0OiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOlwiQ2lubmFtb24gQWxtb25kc1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdBbG1vbmRzJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdDaW5uYW1vbicsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCAgICBcdFx0XHRcblx0XHRcdCAgICBcdFx0NToge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdDYXNoZXdzJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdTZWNyZXQgUmVjaXBlJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sICAgIFx0XHRcdFxuXHRcdFx0ICAgIFx0XHQ2OiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBQZWFudXRzXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ1BlYW51dHMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ1NlY3JldCBSZWNpcGUnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSAgICBcdFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YXF1aXNpdGlvbjoge1xuXHRcdFx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0XHRcdHBpY2t1cDoge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHQnZ2x5cGhpY29uJzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHQnZ2x5cGhpY29uLW9rJzogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNoaXA6IHtcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0J2dseXBoaWNvbic6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0J2dseXBoaWNvbi1vayc6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYoc2VjdGlvbj09J3Nob3BwaW5nUHJvZ3Jlc3NCYXInKSB7XG5cdFx0XHRyZXR1cm5PYmplY3QgPSB7XG5cdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQxOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdDI6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fSxcblx0XHRcdFx0Mzoge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBcblxuXHRcdHJldHVybiByZXR1cm5PYmplY3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBidWlsZEJ1dHRvbkxpc3QoLypsaXN0LCBvcHRpb25zLCBzdGF0ZXMqLykge1xuXHRcdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciByZXR1cm5PYmplY3QgPSB7XG5cdFx0XHQwOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0MToge1xuICAgIFx0XHRcdFwidGl0bGVcIjogXCJEcnVua2VuIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0Mjoge1xuICAgIFx0XHRcdFwidGl0bGVcIjogXCJDaW5uYW1vbiBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDM6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBBbG1vbmRzXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQ0OiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOlwiQ2lubmFtb24gUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCAgICBcdFx0XHRcbiAgICBcdFx0NToge1xuICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSwgICAgXHRcdFx0XG4gICAgXHRcdDY6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6XCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0gICAgXHRcdFx0XG5cdFx0fTtcblxuXHRcdHJldHVybiByZXR1cm5PYmplY3Q7XG5cdH1cblxuXHRyZXR1cm4gc3RhdGVzRmFjdG9yeTtcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBzaG9wcGluZyByb3V0ZXNcbiAgICAud2hlbignL3Nob3AnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc2hvcHBpbmcuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Nob3BwaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9zaG9wL3JlY2VpcHQnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvb3JkZXJSZWNlaXB0Lmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgbG9jYXRpb25zIHJvdXRlc1xuICAgIC53aGVuKCcvbG9jYXRpb25zJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pICAgIFxuICAgIC53aGVuKCcvbG9jYXRpb25zLzpzdGF0ZScsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvbG9jYXRpb25zLzpzdGF0ZS86cmVnaW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGNvbnRhY3Qgcm91dGVzXG4gICAgLndoZW4oJy9jb250YWN0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbnRhY3QuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3RDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2FkbWluL3NlcnZlci90ZXN0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2FkbWluLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdhZG1pbkNvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KTtcbn1cbiIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2FxdWlzaXRpb25NYW5hZ2VyJywgYXF1aXNpdGlvbk1hbmFnZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGFxdWlzaXRpb25NYW5hZ2VyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2FxdWlzaXRpb25NYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlOiBcIj1cIixcblx0XHRcdGNoYW5nZVRhYjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBhcXVpc2l0aW9uTWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBhcXVpc2l0aW9uTWFuYWdlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBhcXVpc2l0aW9uTWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICBcbiAgICBcdC8vbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0ubWV0aG9kQ2xpY2tlZCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuXHQgICAgXHQvL2xvY2FsIHZhcmlhYmxlc1xuXHQgICAgXHR2YXIgb3Bwb3NpdGUgPSAnJztcblxuXHQgICAgXHQvL2FjdGl2YXRlIGFkZHJlc3NlZFxuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb24uYWRkcmVzc2VkID0gdHJ1ZTtcblxuXHQgICAgXHQvL3NlbGVjdCB0aGUgcHJvcGVyIG9wdGlvblxuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb25bbWV0aG9kXS5zZWxlY3RlZCA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmJ1dHRvbnMuYXF1aXNpdGlvblttZXRob2RdLmNsYXNzZXNbJ2dseXBoaWNvbi1vayddID0gdHJ1ZTtcblxuXHQgICAgXHQvL3Vuc2VsZWN0IHRoZSBvcHBvc2l0ZVxuXHQgICAgXHRpZihtZXRob2QgPT0gJ3BpY2t1cCcpIG9wcG9zaXRlID0gJ3NoaXAnO1xuXHQgICAgXHRlbHNlIG9wcG9zaXRlID0gJ3BpY2t1cCc7XG5cblx0ICAgIFx0dm0uc3RhdGUuYnV0dG9ucy5hcXVpc2l0aW9uW29wcG9zaXRlXS5zZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb25bb3Bwb3NpdGVdLmNsYXNzZXNbJ2dseXBoaWNvbi1vayddID0gZmFsc2U7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnY2FydFN1bW1hcnknLCBjYXJ0U3VtbWFyeSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2FydFN1bW1hcnkoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2FydFN1bW1hcnkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y2FydDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjYXJ0U3VtbWFyeUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjYXJ0U3VtbWFyeUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjYXJ0U3VtbWFyeUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnY29uZUZpbGxlcicsIGNvbmVGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmVGaWxsZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY29uZUZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjb25lRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbmVGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZUZpbGxlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnZW1haWxIZWxwZXInLCBlbWFpbEhlbHBlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxIZWxwZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxIZWxwZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cmVkaXJlY3Q6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxIZWxwZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxIZWxwZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxIZWxwZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9sb2NhbCB2YXJpYWJsZXNcblx0ICAgIHZtLmFuc3dlcnMgPSB7XG5cdCAgICBcdG5hbWU6IHtcblx0ICAgIFx0XHRhdHRlbXB0ZWQ6IGZhbHNlLFxuXHQgICAgXHRcdHZhbHVlOlwiXCJcblx0ICAgIFx0fSxcblx0ICAgIFx0ZW1haWw6IHtcblx0ICAgIFx0XHRhdHRlbXB0ZWQ6IGZhbHNlLFxuXHQgICAgXHRcdHZhbHVlOlwiXCJcblx0ICAgIFx0fSxcblx0ICAgIFx0bWVzc2FnZToge1xuXHQgICAgXHRcdGF0dGVtcHRlZDogZmFsc2UsXG5cdCAgICBcdFx0dmFsdWU6XCJcIlxuXHQgICAgXHR9XG5cblx0ICAgIH1cblx0ICAgIHZtLmZvcm0gPSB7XG5cdCAgICBcdG5hbWU6IHtcblx0ICAgIFx0XHRlcnJvcjoge1xuXHQgICAgXHRcdFx0J2Rpc3BsYXknOiBmYWxzZSxcblx0ICAgIFx0XHRcdCdtZXNzYWdlJzonVGhpcyBpcyBhIHRlc3QnXG5cdCAgICBcdFx0fSxcblx0ICAgIFx0XHRjbGFzc2VzOiB7fVxuXHQgICAgXHR9LFxuXHQgICAgXHRlbWFpbDoge1xuXHQgICAgXHRcdGVycm9yOiB7XG5cdCAgICBcdFx0XHQnZGlzcGxheSc6IGZhbHNlLFxuXHQgICAgXHRcdFx0J21lc3NhZ2UnOidUaGlzIGlzIGEgdGVzdCdcblx0ICAgIFx0XHR9LFxuXHQgICAgXHRcdGNsYXNzZXM6IHt9XG5cdCAgICBcdH0sXG5cdCAgICBcdG1lc3NhZ2U6IHtcblx0ICAgIFx0XHRlcnJvcjoge1xuXHQgICAgXHRcdFx0J2Rpc3BsYXknOiBmYWxzZSxcblx0ICAgIFx0XHRcdCdtZXNzYWdlJzonVGhpcyBpcyBhIHRlc3QnXG5cdCAgICBcdFx0fSxcblx0ICAgIFx0XHRjbGFzc2VzOiB7fVx0ICAgIFx0XHRcblx0ICAgIFx0fSxcblx0ICAgIFx0YnRuOiB7XG5cdCAgICBcdFx0Y2xhc3Nlczoge1xuXHQgICAgXHRcdFx0XCJidG4tcHJpbWFyeVwiOiBmYWxzZSxcblx0ICAgIFx0XHRcdFwiYnRuLXdhcm5pbmdcIjogdHJ1ZSxcblx0ICAgIFx0XHRcdFwiYnRuLXN1Y2Nlc3NcIjogZmFsc2Vcblx0ICAgIFx0XHR9XG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLy9sb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBsZW5ndGhDaGVja2VyKHN0cmluZywgcmVxdWlyZWQpIHtcblx0ICAgIFx0dmFyIHRydWVPckZhbHNlID0gZmFsc2U7XG5cblx0ICAgIFx0aWYoc3RyaW5nLmxlbmd0aCA+PSByZXF1aXJlZCkgdHJ1ZU9yRmFsc2UgPSB0cnVlO1xuXG5cdCAgICBcdHJldHVybiB0cnVlT3JGYWxzZTtcblx0ICAgIH1cblx0ICAgIC8qXG5cdCAgICAqXHR0aGUgbmFtZSBmaWVsZCBzaG91bGQgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzIGxvbmdcblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZU5hbWUoKSB7fVxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCgpIHt9XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZU1lc3NhZ2UoKSB7fVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2hlY2tOYW1lID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cblx0ICAgIFx0Ly9jaGVjayBmb3IgbGVuZ3RoXG5cdCAgICB9XG5cblx0ICAgIHZtLm5hbWVBdHRlbXB0ID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdCAgICBcdC8vdGhyb3cgdGhlIGF0dGVtcHRlZCBmbGFnXG5cdCAgICBcdHZtLmFuc3dlcnMubmFtZS5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdC8vbWFrZSBzdXJlIHRoZSBhcHByb3ByaWF0ZSBsZW5ndGggd2FzIHJlYWNoZWRcblx0ICAgIFx0aWYobGVuZ3RoQ2hlY2tlcihzdHJpbmcsIDMpKSB7XG5cdCAgICBcdFx0Ly9pZiB0aGUgbmFtZSBpcyBsb25nIGVub3VnaCxcblx0ICAgIFx0XHQkbG9nLmluZm8oXCJnb29kIGNoZWNrXCIpO1xuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdCRsb2cuaW5mbygndG9vIHNob3J0Jylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICB2bS5zdWJtaXRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XG5cblx0ICAgIFx0Ly9wYXNzIHRoZSBhbnN3ZXJzIG9iamVjdCB0byB0aGUgc2VydmVyXG5cdCAgICBcdC8vMS4gSWYgVGhlcmUgV2FzIEFuIEVycm9yXG5cdCAgICBcdC8vMi4gSWYgTWVzc2FnZSBXYXMgU2VudCBTdWNlc3NmdWxseVxuXHQgICAgXHQvL25vdGlmeSB0aGUgdXNlciBvZiB0aGUgc3VjZXNzXG5cdCAgICBcdC8vdGhlbiByZXR1cm4gdG8gdGhlIGhvbWUgcGFnZT8/IFxuXHQgICAgXHR2bS5yZWRpcmVjdCgnJyk7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbGlzdE9mRmxhdm9ycycsIGxpc3RPZkZsYXZvcnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxpc3RPZkZsYXZvcnMoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbGlzdE9mRmxhdm9ycy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRmbGF2b3JzOiAnPScsXG5cdFx0XHRwaWNrQUZsYXZvcjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsaXN0T2ZGbGF2b3JzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxpc3RPZkZsYXZvcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL2xvY2FsIG1ldGhvZHNcblx0ICAgIGZ1bmN0aW9uIHNlbGVjdEFCdG4oaW5kZXgpIHtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5hdmFpbFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5zZWxlY3RlZFByb2R1Y3RGbGF2b3IgPSB0cnVlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnVuQXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHVuc2VsZWN0QUJ0bihpbmRleCkge1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLmF2YWlsUHJvZHVjdEZsYXZvciA9IHRydWU7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuc2VsZWN0ZWRQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMudW5BdmFpbFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcdCAgICBcdFxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gbWFrZUJ0bkF2YWlsKGluZGV4KSB7fVxuXHQgICAgZnVuY3Rpb24gbWFrZUJ0blVuQXZhaWwoaW5kZXgpIHt9XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5jbGlja0FOdXQgPSBmdW5jdGlvbihpbmRleCwgcmVjaXBlKSB7XG5cdCAgICBcdFxuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWNraW5nJywgaW5kZXgsIHJlY2lwZSk7XG5cblx0ICAgIFx0aWYoaW5kZXggPj0xMCkgaW5kZXggPSAoaW5kZXggLyAxMCkgLSAxO1xuXG5cdCAgICBcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdHZhciBhZGRpbmcgPSBmYWxzZTtcblxuXHQgICBcblx0ICAgIFx0Ly93aGVuIGEgZmxhdm9yIGlzIGNsaWNrZWQgbXVzdFxuXHQgICAgXHQvL2NoZWNrIGlmIGl0IGlzIGFsbG93ZWQgdG8gYmUgY2xpY2tlZFxuXHQgICAgXHQvL2ZsaXAgdGhlIHNlbGVjdGVkIHN0YXRlXG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLnNlbGVjdGVkID0gIXZtLmZsYXZvcnNbaW5kZXhdLnNlbGVjdGVkO1xuXG5cdCAgICBcdC8vc2V0IHRoZSBjbGFzc1xuXHQgICAgXHRpZih2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZCkge1xuXHQgICAgXHRcdC8vdXBkYXRlIHRoZSBidG4gc3RhdGVcblx0ICAgIFx0XHRzZWxlY3RBQnRuKGluZGV4KTtcblx0ICAgIFx0XHQvL2FkZGl0aW9uIG9yIHN1YnRyYWN0aW9uIFxuXHQgICAgXHRcdGFkZGluZyA9IHRydWU7XG5cdCAgICBcdH1cblx0ICAgIFx0ZWxzZSB7XG5cdCAgICBcdFx0Ly91cGRhdGUgdGhlIGJ0biBzdGF0ZVxuXHQgICAgXHRcdHVuc2VsZWN0QUJ0bihpbmRleCk7XG5cdCAgICBcdH1cblxuXHQgICAgXHQvL3Bhc3MgdGhlIGZsYXZvciB1cCB0byB0aGUgcGFyZW50XG5cdCAgICBcdHZtLnBpY2tBRmxhdm9yKCkoaW5kZXgsIGFkZGluZyk7XG5cdCAgICB9XG5cblx0ICAgXG5cblx0ICAgIHZtLnRlc3QgPSBmdW5jdGlvbigpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjbGljayBUZXN0Jyk7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zQ2hyb25vVmlldycsIGxvY2F0aW9uc0Nocm9ub1ZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXcoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zQ2hyb25vVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zTWFwVmlldycsIGxvY2F0aW9uc01hcFZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXcoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zTWFwVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvKmZ1bmN0aW9uIGluaXRNYXAoKSB7XG5cdCAgICAgICAgdmFyIHVsdXJ1ID0ge2xhdDogLTI1LjM2MywgbG5nOiAxMzEuMDQ0fTtcblx0ICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIHtcblx0ICAgICAgICAgIHpvb206IDQsXG5cdCAgICAgICAgICBjZW50ZXI6IHVsdXJ1XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHQgICAgICAgICAgcG9zaXRpb246IHVsdXJ1LFxuXHQgICAgICAgICAgbWFwOiBtYXBcblx0ICAgICAgICB9KTtcblx0ICAgIH0qL1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGhpc1dlZWsnLCBsb2NhdGlvbnNUaGlzV2Vlayk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWsoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGhpc1dlZWsuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgXG5cdCAgICAvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGltZUZpbHRlcicsIGxvY2F0aW9uc1RpbWVGaWx0ZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGltZUZpbHRlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVG9kYXknLCBsb2NhdGlvbnNUb2RheSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVG9kYXkoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c2VsZWN0ZWRMb2NhdGlvbjogXCI9XCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIFxuXHQgICAgLy9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9kZWZpbmUgbG9jYWwgbWV0aG9kc1xuXHQgICAgZnVuY3Rpb24gZ2V0VG9kYXlzTG9jYXRpb25zTGlzdChhbGxFdmVudHMpIHtcblxuXHQgICAgXHR2YXIgbGlzdE9mRXZlbnRzID0gW107XG5cblx0ICAgIFx0Ly91bnBhY2sgZnJlcXVlbmN5XG5cdCAgICBcdE9iamVjdC5rZXlzKGFsbEV2ZW50cykuZm9yRWFjaChmdW5jdGlvbihmcmVxdWVuY3lLZXkpIHtcblxuXHQgICAgXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdFx0dmFyIGZyZXF1ZW5jeSA9IGFsbEV2ZW50c1tmcmVxdWVuY3lLZXldO1xuXG5cdCAgICBcdFx0Ly91bnBhY2sgZXZlbnRzXG5cdCAgICBcdFx0T2JqZWN0LmtleXMoZnJlcXVlbmN5KS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50S2V5KSB7XG5cblx0ICAgIFx0XHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgXHRcdFx0dmFyIGFuRXZlbnQgPSBmcmVxdWVuY3lbZXZlbnRLZXldO1xuXHQgICAgXHRcdFx0dmFyIGV2ZW50T2JqZWN0ID0ge1xuXHQgICAgXHRcdFx0XHQnc3RhcnQnOiAnNjQ4MDAwMDAnLFxuXHQgICAgXHRcdFx0XHQnZW5kJzogJzY0ODAwMDAwJyxcblx0ICAgIFx0XHRcdFx0J25hbWUnOiBhbkV2ZW50Lm5hbWUsXG5cdCAgICBcdFx0XHRcdCdhZGRyZXNzJzogJzE0NyBXLiBDZW50ZXIgU3RyZWV0LCBBbmFoZWltJ1xuXHQgICAgXHRcdFx0fTtcblxuXHQgICAgXHRcdFx0bGlzdE9mRXZlbnRzLnB1c2goZXZlbnRPYmplY3QpO1xuXG5cdCAgICBcdFx0fSk7XG5cblx0ICAgIFx0fSk7XG5cblx0ICAgIFx0cmV0dXJuIGxpc3RPZkV2ZW50cztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gaW5pdCgpIHtcblxuXHQgICAgXHQvL2J1aWxkIHRoZSBsaXN0IG9mIGV2ZW50c1xuXHQgICAgXHR2bS5ldmVudHNMaXN0ID0gZ2V0VG9kYXlzTG9jYXRpb25zTGlzdCh2bS5zZWxlY3RlZExvY2F0aW9uKTtcblxuXHQgICAgXHR2bS50b2RheXNEYXRlID0gbmV3IERhdGUoKTtcblxuXHQgICAgXHQkbG9nLmluZm8odm0udG9kYXlzRGF0ZSk7XG5cdCAgICB9XG5cblx0ICAgIC8vYnVpbGQgdGhlIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICAvL3ZtLnRvZGF5c01hcmtldHMgPSBiYWNrZW5kLmdldCgpO1xuXG5cdCAgICAvL2NvbnNvbGUubG9nKHZtLnRvZGF5c01hcmtldHMpO1xuXG5cdCAgICAvL2xvZyB0aGUgaW5pdGlhbCB2YWx1ZXMgdG8gdGhlIHVzZXJcblx0ICAgICRsb2cuaW5mbygndm0uc2VsZWN0ZWRMb2NhdGlvbicsIHZtLnNlbGVjdGVkTG9jYXRpb24pO1xuXG5cdCAgICAvL2luaXQgdGhpcyBkaXJlY3RpdmVcblx0ICAgIGluaXQoKTtcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3BhY2thZ2luZ0ZpbGxlcicsIHBhY2thZ2luZ0ZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjYXJ0OiBcIj1cIixcblx0XHRcdHByaWNpbmc6IFwiPVwiLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJicsXG5cdFx0XHRzdGF0ZTogXCI9XCIsXG5cdFx0XHRhZGRGaWxsZWRQYWNrYWdlOiBcIiZcIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIHZhcmlhYmxlc1xuXHQgICAgdm0ucXR5ID0gMTtcblxuXHQgICAgZnVuY3Rpb24gdXBkYXRlUGFja2FnaW5nU3RhdGUoKSB7XG5cdCAgICBcdC8vdXBkYXRlIHRoZSBvdmVyYWxsIHBhY2thZ2luZ1xuXHQgICAgXHR2bS5zdGF0ZS5wYWNrYWdpbmcuc2VsZWN0ZWQgPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNpemUgPSB1bmRlZmluZWQ7XG5cdCAgICBcdHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzID0gMDtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLm1peCA9IHt9O1xuXHQgICAgXHQvL3VwZGF0ZSB0aGUgZmxhdm9yIGJ1dHRvbnNcblx0ICAgIFx0T2JqZWN0LmtleXModm0uc3RhdGUuYnV0dG9ucy5mbGF2b3JMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHQgICAgXHRcdHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdFtmbGF2b3JdLnNlbGVjdGVkID0gZmFsc2Vcblx0ICAgIFx0XHR2bS5zdGF0ZS5idXR0b25zLmZsYXZvckxpc3RbZmxhdm9yXS5jbGFzc2VzLmF2YWlsUHJvZHVjdEZsYXZvciA9IHRydWU7XG5cdCAgICBcdFx0dm0uc3RhdGUuYnV0dG9ucy5mbGF2b3JMaXN0W2ZsYXZvcl0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHRcdHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdFtmbGF2b3JdLmNsYXNzZXMuc2VsZWN0ZWRQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICBcdH0pXG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRDYWxjdWxhdGVzIGFuIGVxdWFsIHNwbGl0IGJldHdlZW4gZmxhdm9yc1xuXHQgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGVxdWFsU3BsaXQoZGl2aXNpb25zKSB7XG5cdCAgICBcdHJldHVybiAxIC8gZGl2aXNpb25zO1xuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0SWYgYSBmbGF2b3IgaXMgYmVpbmcgYWRkZWQsIGluY3JlYXNlIHRoZSBudW1iZXIgb2YgZmxhdm9ycywgdmljZS12ZXJzYS5cblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiB1cGRhdGVGbGF2b3JDb3VudChhZGRpbmcpIHtcblx0ICAgIFx0Ly91cGRhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBmbGF2b3JzXG5cdCAgICBcdGlmKGFkZGluZykgdm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMrKztcblx0ICAgIFx0ZWxzZSB2bS5zdGF0ZS5wYWNrYWdpbmcuZmxhdm9ycy0tO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRVcGRhdGUgdGhlIG1peCBvZiBmbGF2b3JzIGJhc2VkIG9uIHRoZSBhZGRpdGlvbiBvciBzdWJ0cmFjdGlvbiBvZiBhIGZsYXZvclxuXHQgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHVwZGF0ZUZsYXZvck1peChmbGF2b3IsIGFkZGluZykge1xuXHQgICAgXHRcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzIGZsYXZvcicsIGZsYXZvcik7XG5cdCAgICBcdFxuXHQgICAgXHR2YXIgZmxhdm9yVHh0ID0gZmxhdm9yLnRvU3RyaW5nKCk7XG5cblx0ICAgIFx0Ly9pcyB0aGlzIGFkZHRpb24gb3Igc3VidHJhY3Rpb24/XG5cdCAgICBcdGlmKGFkZGluZykge1xuXHQgICAgXHRcdC8vaWYgYWRkaW5nLi5cblx0ICAgIFx0XHQvL3VwZGF0ZSB0aGUgc3BsaXQgb24gYWxsIHRoZSBjdXJyZW50IGZsYXZvcnNcblx0ICAgIFx0XHRPYmplY3Qua2V5cyh2bS5zdGF0ZS5wYWNrYWdpbmcubWl4KS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHQgICAgXHRcdFx0dm0uc3RhdGUucGFja2FnaW5nLm1peFtmbGF2b3JdID0gZXF1YWxTcGxpdCh2bS5zdGF0ZS5wYWNrYWdpbmcuZmxhdm9ycyk7XG5cdCAgICBcdFx0fSk7XG5cblx0ICAgIFx0XHQvL3RoZW4gYWRkIHRoZSBzcGxpdCB0byB0aGUgbmV3IGZsYXZvclxuXHQgICAgXHRcdHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yVHh0XSA9IGVxdWFsU3BsaXQodm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMpO1xuXHQgICAgXHRcdFxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdC8vaWYgc3VidHJhY3RpbmcuLlxuXHQgICAgXHRcdC8vdXBkYXRlIGFsbCB0aGUgc3BsaXRzIG9uIHRoZSBvdGhlciBmbGF2b3JzXG5cdCAgICBcdFx0T2JqZWN0LmtleXModm0uc3RhdGUucGFja2FnaW5nLm1peCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHRcdHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yXSA9IGVxdWFsU3BsaXQodm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMpO1xuXHQgICAgXHRcdH0pO1xuXG5cdCAgICBcdFx0Ly90aGVuIGRlbGV0ZSB0aGUgZGVzaXJlZCBmbGF2b3Jcblx0ICAgIFx0XHRkZWxldGUgdm0uc3RhdGUucGFja2FnaW5nLm1peFtmbGF2b3JUeHRdO1xuXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICpcdFx0XHRcdFx0VklFV01PREVMIE1FVEhPRFNcdFx0XHRcdFx0XHRcdCpcblx0ICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cdCAgICAvKlxuXHQgICAgKlx0QWRkIG9yIHJlbW92ZSB0aGF0IGZsYXZvciBmcm9tIHRoZSBtaXgsIHRoaXMgaW52b2x2ZXNcblx0ICAgICpcdFx0LSBVcGRhdGluZyB0aGUgdG90YWwgbnVtYmVyIG9mIGZsYXZvcnNcblx0ICAgICpcdFx0LSBBZGRpbmcgb3IgcmVtb3ZlaW5nIGEgdmFsdWUgZnJvbS90byB0aGUgbWl4IG9iamVjdFxuXHQgICAgKlx0XHRcdCogSWYgQWRkaW5nIHRoZW4gdGhlIHNwbGl0IG11c3QgYmUgY2FsY3VsYXRlZFxuXHQgICAgKi9cblx0ICAgIHZtLnBpY2tBRmxhdm9yID0gZnVuY3Rpb24oZmxhdm9yLCBhZGRpbmcpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcyBmbGF2b3InLCBmbGF2b3IpO1xuXG5cdCAgICBcdC8vdXBkYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZmxhdm9yc1xuXHQgICAgXHR1cGRhdGVGbGF2b3JDb3VudChhZGRpbmcpO1xuXG5cdCAgICBcdC8vdXBkYXRlIHRoZSBtaXhcblx0ICAgIFx0dXBkYXRlRmxhdm9yTWl4KGZsYXZvciwgYWRkaW5nKTtcblx0ICAgIH1cblxuXHQgICAgLypcblx0ICAgICpcdFdoZW4gXCJBZGQgVG8gQ2FydFwiIGJ1dHRvbiBpcyBjbGlja2VkLCBhIG5ldyBpdGVtIGlzIGJ1aWx0LCBhbmQgYWRkZWQgdG8gdGhlXG5cdCAgICAqXHRjYXJ0IG9iamVjdC5cblx0ICAgICovXG5cdCAgICB2bS5hZGRUb0NhcnQgPSBmdW5jdGlvbihjaGVja091dCkge1x0XHQvL2FkZCB0aGUgY3VycmVudCBpdGVtIHRvIHRoZSBjYXJ0XG5cblx0ICAgIFx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgXHR2YXIgdGhpc1BhY2thZ2luZyA9IHZtLnN0YXRlLnBhY2thZ2luZy5zaXplO1xuXHQgICAgXHR2YXIgdGhpc01peHR1cmUgPSB2bS5zdGF0ZS5wYWNrYWdpbmcubWl4O1xuXHQgICAgXHR2YXIgdGhpc1F1YW50aXR5ID0gdm0ucXR5O1xuXHQgICAgXHR2YXIgdGhpc0Nvc3QgPSB2bS5wcmljaW5nLmNhbGN1bGF0ZVB1cmNoYXNlUHJpY2Uodm0uc3RhdGUucGFja2FnaW5nLCB2bS5wcmljaW5nKTtcblx0ICAgIFx0dmFyIHRoaXNEZXNjcmlwdGlvbiA9IHZtLnByaWNpbmcuYnVpbGREZXNjcmlwdGlvbih2bS5zdGF0ZS5wYWNrYWdpbmcsIHZtLnByaWNpbmcpO1xuXG5cdCAgICBcdC8vYnVpbGQgdGhlIGl0ZW1cblx0ICAgIFx0dmFyIGl0ZW1Gb3JQdXJjaGFzZSA9IHtcblx0ICAgIFx0XHRkZXNjcmlwdGlvbjogdGhpc0Rlc2NyaXB0aW9uLFxuXHRcdFx0XHRwYWNrYWdpbmc6IHRoaXNQYWNrYWdpbmcsXG5cdFx0XHRcdGZsYXZvcnM6IHRoaXNNaXh0dXJlLFxuXHRcdFx0XHRxdHk6IHRoaXNRdWFudGl0eSxcblx0XHRcdFx0Y29zdDogdGhpc0Nvc3Rcblx0ICAgIFx0fVxuXG5cdCAgICBcdC8vcGFzcyBpdCB0byB0aGUgY2FydFxuXHQgICAgXHR2bS5jYXJ0Lml0ZW1zLnB1c2godm0uYWRkRmlsbGVkUGFja2FnZSgpKGl0ZW1Gb3JQdXJjaGFzZSkpO1xuXG5cdCAgICBcdC8vdXBkYXRlIHRoZSBzdGF0ZVxuXHQgICAgXHR1cGRhdGVQYWNrYWdpbmdTdGF0ZSgpO1xuXG5cdCAgICBcdC8vdGhlbiBtb3ZlIHRvIHRoZSBuZXh0IHRhYlxuXHQgICAgXHRpZihjaGVja091dCkgdm0uY2hhbmdlVGFiKCkoMik7XG5cdCAgICBcdGVsc2Ugdm0uY2hhbmdlVGFiKCkoMCk7XG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRXaGVuIHRoaXMgYnV0dG9uIGlzIGNsaWNrZWQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwYWNrYWdpbmcgaXMgZGlzY2FyZGVkXG5cdCAgICAqL1xuXHQgICAgdm0uZGlzY2FyZEJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbigpIHtcdFxuXHQgICAgXHRcblx0ICAgIFx0Ly9jdXJyZW50bHkgZmlsbGluZyBwYWNrYWdlIHNldCB0byB1bmRlZmluZWRcblx0ICAgIFx0dXBkYXRlUGFja2FnaW5nU3RhdGUoKTtcblxuXHQgICAgXHQvL2FjdGl2ZSB0YWIgc3dpdGNoZWQgYmFjayB0byAwXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDApO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGF5bWVudE1hbmFnZXInLCBwYXltZW50TWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGF5bWVudE1hbmFnZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcGF5bWVudE1hbmFnZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGF5bWVudE1hbmFnZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGF5bWVudE1hbmFnZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2JhY2tlbmRDb21GYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGF5bWVudE1hbmFnZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZywgYmFja2VuZENvbUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwbGF0dGVyRmlsbGVyJywgcGxhdHRlckZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGxhdHRlckZpbGxlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wbGF0dGVyRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBsYXR0ZXJGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGxhdHRlckZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwbGF0dGVyRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdxdHlNYW5hZ2VyJywgcXR5TWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcXR5TWFuYWdlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9xdHlNYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBxdHlNYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHF0eU1hbmFnZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcXR5TWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIHZtLnN1YnRyYWN0ID0gZnVuY3Rpb24oKSB7IGlmKHZtLnF0eSA+IDEpIHZtLnF0eS0tOyB9XG5cdCAgICB2bS5hZGQgPSBmdW5jdGlvbigpIHsgdm0ucXR5Kys7IH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdyZWdpb25GaW5kZXInLCByZWdpb25GaW5kZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHJlZ2lvbkZpbmRlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9yZWdpb25GaW5kZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bG9jYXRpb25SZWRpcmVjdDogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiByZWdpb25GaW5kZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcmVnaW9uRmluZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJlZ2lvbkZpbmRlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zdGF0ZXMgPSBbXG5cdCAgICBcdHsgXG5cdCAgICBcdFx0XCJuYW1lXCI6IFwiQ2FsaWZvcm5pYVwiLFxuXHQgICAgXHRcdFwiaWRcIjogXCJDQVwiXG5cdCAgICBcdH0sXG5cdCAgICBcdHtcblx0ICAgIFx0IFx0XCJuYW1lXCI6IFwiT3JlZ29uXCIsXG5cdCAgICBcdCBcdFwiaWRcIjogXCJPUlwiXG5cdCAgICBcdH0sXG5cdCAgICBcdHtcblx0ICAgIFx0XHRcIm5hbWVcIjogXCJVdGFoXCIsXG5cdCAgICBcdFx0XCJpZFwiOiBcIlVUXCJcblx0ICAgIFx0fVxuXHQgICAgXTtcblx0ICAgIFx0XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5zZWxlY3RTdGF0ZSA9IGZ1bmN0aW9uKGlkKSB7XG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMnLCB2bS5zdGF0ZXNbaWRdKTtcblxuXHQgICAgXHQvL3Bhc3MgdGhlIGlkIGJhY2sgdXAgdG8gdGhlIGxvY2F0aW9ucyBjb250cm9sbGVyXG5cdCAgICBcdHZtLmxvY2F0aW9uUmVkaXJlY3QoKSh2bS5zdGF0ZXNbaWRdKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUVtcHRpZXMnLCBzZWVFbXB0aWVzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVFbXB0aWVzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUZ1bGxzJywgc2VlRnVsbHMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlZUZ1bGxzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUZ1bGxzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUZ1bGxzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlZUZ1bGxzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUZ1bGxzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHBhY2thZ2luZ1NlbGVjdGVkOiAnPScsXG5cdFx0XHRyZW1vdmVBU2l6ZTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIC8vYXNzaWduIGEgYmFnIHRvIGJlIGZpbGxlZFxuXHQgICAgdm0uZmlsbEFQYWNrYWdlID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gcGFja2FnaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWtjZWQnLCBwYWNrYWdpbmcsIHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgXHQvL2RlY3JlbWVudCB0aGUgY291bnQgb2YgdGhpcyBwYWNrYWdlIHRoYXQgd2FzIGNsaWNrZWRcblx0ICAgIFx0dm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSA9IHZtLnJlbW92ZUFTaXplKCkodm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RQYWNrYWdpbmcnLCBzZWxlY3RQYWNrYWdpbmcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGU6ICc9Jyxcblx0XHRcdHByaWNpbmc6ICc9Jyxcblx0XHRcdGNoYW5nZVRhYjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHNpemUpIHtcblxuXHQgICAgXHQvL3ZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gc2l6ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNpemUgPSBzaXplO1xuXG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgc2l6ZSwgJywgdm0ucHJpY2luZy5wYWNrYWdpbmdbc2l6ZV0udGl0bGUpO1xuXG5cdCAgICBcdC8vY2hhbmdlIHRoZSBhY3RpdmUgdGFiXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDEpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdPcHRpb25zJywgc2hpcHBpbmdPcHRpb25zKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ09wdGlvbnMoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdPcHRpb25zLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nT3B0aW9uc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ09wdGlvbnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hpcHBpbmdPcHRpb25zQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIFxuICAgIFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJywgc2hvcHBpbmdQcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaG9wcGluZ1Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFjdGl2ZVRhYjogJz0nLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0Ly9uZWVkcyB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgaW4gYWN0aXZlIHRhYiwgYXMgb3RoZXIgZGlyZWN0aXZlc1xuXHRcdC8vY2FuIHByb21wdCB0aGVzZSBjaGFuZ2VzXG5cdFx0c2NvcGUuJHdhdGNoKCd2bS5hY3RpdmVUYWInLCBmdW5jdGlvbihuZXh0LCBjdXJyZW50KSB7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCd0aGUgdGFiIGNoYW5nZWQnLCBjdXJyZW50LCBuZXh0KTtcblx0XHRcdC8vdXBkYXRlIHN0eWxlc1xuXHQgICAgXHRzY29wZS52bS5jaGFuZ2VUYWJDbGFzcyhuZXh0LCBjdXJyZW50KTtcblxuXHRcdH0pO1xuICAgIH1cblxuICAgIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRmFjdG9yeSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVGYWN0b3J5KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS50YWJzID0gc3RhdGVGYWN0b3J5LmRlZmF1bHRTdGF0ZSgnc2hvcHBpbmdQcm9ncmVzc0JhcicpO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdCAgICB2bS5jaGFuZ2VUYWJDbGFzcyA9IGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0ICAgIFx0Ly91cGRhdGUgc3R5bGVzXG5cdCAgICBcdHZtLnRhYnNbY3VycmVudF0uY2xhc3Nlcy5zcGJ0YWJTZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgXHR2bS50YWJzW25leHRdLmNsYXNzZXMuc3BidGFiU2VsZWN0ZWQgPSB0cnVlO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnRhYkNsaWNrID0gZnVuY3Rpb24odGFiKSB7XG5cblx0ICAgIFx0Ly91cGRhdGUgdGhlIHN0eWxlc1xuXHQgICAgXHR2bS5jaGFuZ2VUYWJDbGFzcyh0YWIsIHZtLmFjdGl2ZVRhYik7XG5cblx0ICAgIFx0Ly91cGRhdGUgcGFyZW50IG1vZGVsXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKHRhYik7XG5cdCAgICB9XG5cdH1cdFxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCd0b29sQmFyJywgdG9vbEJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdG9vbEJhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZENvbUZhY3RvcnknLCBiYWNrZW5kQ29tRmFjdG9yeSk7XG5cbmJhY2tlbmRDb21GYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kQ29tRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldCxcblx0XHRnZXRMb2NhdGlvbnM6IGdldExvY2F0aW9uc1xuXHR9O1xuXG5cdGZ1bmN0aW9uIF9nZXQodXJsKSB7XG5cdFx0cmV0dXJuIGZldGNoKHVybCk7XG5cdH1cblxuXHRmdW5jdGlvbiBfZ2V0SlNPTih1cmwpIHtcblx0XHRyZXR1cm4gX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXQoKSB7XG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XG5cblxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0TG9jYXRpb25zKCkge1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRfZ2V0SlNPTignL2FwaS9nZXQvbGlzdC9ldmVudHMnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL25vdGlmeSB0aGUgdXNlclxuXHRcdFx0XHQkbG9nLmluZm8oJ3N1Y2Nlc3M6JywgcmVzcG9uc2UpO1xuXG5cdFx0XHRcdC8vcGFzcyB0aGUgcmVzcG9uc2UgYmFja1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuXG5cdFx0XHRcdCRsb2cuaW5mbygnZXJyb3I6JywgZSk7XG5cblx0XHRcdFx0cmVqZWN0KGUpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRyZXR1cm4gYmFja2VuZENvbUVsZW1lbnRzO1xuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ2RhdGFTZXJ2aWNlcycsIGRhdGFTZXJ2aWNlcyk7XG5cbmRhdGFTZXJ2aWNlcy4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YVNlcnZpY2VzKCRsb2cpIHtcblxuXHR2YXIgZGF0YVNlcnZpY2VzT2JqZWN0ID0ge1xuXG5cdH07XG5cblx0cmV0dXJuIGRhdGFTZXJ2aWNlc09iamVjdDtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnZmlsbGluZ3NGYWN0b3J5JywgZmlsbGluZ3NGYWN0b3J5KTtcblxuZmlsbGluZ3NGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaWxsaW5nc0ZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsRmlsbGluZ3MgPSB7XG4gICAgXHRwYWNrYWdpbmc6IHVuZGVmaW5lZCxcbiAgICBcdGZsYXZvcnM6IHtcbiAgICBcdFx0MDogXCJTZWNyZXQgUmVjaXBlIFBlY2Fuc1wiLFxuICAgIFx0XHQxOiBcIkRydW5rZW4gUGVjYW5zXCIsXG4gICAgXHRcdDI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG4gICAgXHRcdDM6IFwiU2VjcmV0IFJlY2lwZSBBbG1vbmRzXCIsXG4gICAgXHRcdDQ6IFwiQ2lubmFtb24gQWxtb25kc1wiLFxuICAgIFx0XHQ1OiBcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuICAgIFx0XHQ2OiBcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiXG4gICAgXHR9LFxuICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgMDogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDE6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAyOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMzogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA0OiBcIkFsbW9uZHNcIixcbiAgICAgICAgICAgIDU6IFwiQ2FzaGV3c1wiLFxuICAgICAgICAgICAgNjogXCJQZWFudXRzXCJcbiAgICAgICAgfSxcbiAgICAgICAgcmVjaXBpZXM6IHtcbiAgICAgICAgICAgIDA6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgMTogXCJEcnVua2VuXCIsXG4gICAgICAgICAgICAyOiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICAzOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDQ6IFwiQ2lubmFtb25cIixcbiAgICAgICAgICAgIDU6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgNjogXCJTZWNyZXQgUmVjaXBlXCIgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgXHQvKmZsYXZvcnM6IHtcbiAgICBcdFx0bm9PZkZsYXZvcnM6IDAsXG4gICAgXHRcdHNlbGVjdGVkOiB7XG5cdCAgICBcdFx0U1JQZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdERSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHRDTlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0U1JBbG1vbmQ6IGZhbHNlLFxuXHQgICAgXHRcdENOQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRTUkNhc2hldzogZmFsc2UsXG5cdCAgICBcdFx0U1JQZWFudXQ6IGZhbHNlXG4gICAgXHRcdH0sXG4gICAgXHRcdHByb3BvcnRpb25zOiB7XG5cdCAgICBcdFx0U1JQZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0RFJQZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0Q05QZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0U1JBbG1vbmQ6IDAuMDAsXG5cdCAgICBcdFx0Q05BbG1vbmQ6IDAuMDAsXG5cdCAgICBcdFx0U1JDYXNoZXc6IDAuMDAsXG5cdCAgICBcdFx0U1JQZWFudXQ6IDAuMDBcbiAgICBcdFx0fVxuICAgIFx0fSwqL1xuXG4gICAgfTtcblx0XG5cdHJldHVybiBhbGxGaWxsaW5ncztcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdwcmljZUxpc3RGYWN0b3J5JywgcHJpY2VMaXN0RmFjdG9yeSk7XG5cbnByaWNlTGlzdEZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByaWNlTGlzdEZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsUHJpY2VzID0ge1xuXHRcdHBhY2thZ2luZzoge1xuXHRcdFx0MDoge1xuXHQgICAgXHRcdFwidGl0bGVcIjogXCJTbWFsbFwiLFxuXHQgICAgXHRcdFwidm9sdW1lXCI6IDQsXG5cdCAgICBcdFx0XCJjb21wYXJ0bWVudHNcIjogMSxcblx0ICAgIFx0XHRcIm1heEZsYXZvcnNcIjogMTAwXG5cdCAgICBcdH0sXG5cdCAgICBcdDE6IHtcblx0ICAgIFx0XHRcInRpdGxlXCI6IFwiQXZlcmFnZVwiLFxuXHQgICAgXHRcdFwidm9sdW1lXCI6IDgsXG5cdCAgICBcdFx0XCJjb21wYXJ0bWVudHNcIjogMSxcblx0ICAgIFx0XHRcIm1heEZsYXZvcnNcIjogMTAwXG5cdCAgICBcdH0sXG5cdCAgICBcdDI6IHtcblx0ICAgIFx0XHRcInRpdGxlXCI6IFwiSW1wcmVzc2l2ZVwiLFxuXHQgICAgXHRcdFwidm9sdW1lXCI6IDE2LFxuXHQgICAgXHRcdFwiY29tcGFydG1lbnRzXCI6IDEsXG5cdCAgICBcdFx0XCJtYXhGbGF2b3JzXCI6IDEwMFxuXHQgICAgXHR9LFxuXHQgICAgXHQzOiB7XG5cdCAgICBcdFx0XCJ0aXRsZVwiOiBcIlBsYXR0ZXJcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiAyMCxcblx0ICAgIFx0XHRcImNvbXBhcnRtZW50c1wiOiA0LFxuXHQgICAgXHRcdFwibWF4Rmxhdm9yc1wiOiA0XG5cdCAgICBcdH1cblx0XHR9LFxuXHRcdGZsYXZvcnM6IHtcbiAgICBcdFx0MDogXCJTZWNyZXQgUmVjaXBlIFBlY2Fuc1wiLFxuICAgIFx0XHQxOiBcIkRydW5rZW4gUGVjYW5zXCIsXG4gICAgXHRcdDI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG4gICAgXHRcdDM6IFwiU2VjcmV0IFJlY2lwZSBBbG1vbmRzXCIsXG4gICAgXHRcdDQ6IFwiQ2lubmFtb24gQWxtb25kc1wiLFxuICAgIFx0XHQ1OiBcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuICAgIFx0XHQ2OiBcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiXG4gICAgXHR9LFxuICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgMDogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDE6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAyOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMzogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA0OiBcIkFsbW9uZHNcIixcbiAgICAgICAgICAgIDU6IFwiQ2FzaGV3c1wiLFxuICAgICAgICAgICAgNjogXCJQZWFudXRzXCJcbiAgICAgICAgfSxcbiAgICAgICAgcmVjaXBpZXM6IHtcbiAgICAgICAgICAgIDA6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgMTogXCJEcnVua2VuXCIsXG4gICAgICAgICAgICAyOiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICAzOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDQ6IFwiQ2lubmFtb25cIixcbiAgICAgICAgICAgIDU6IFwiU2VjcmV0IFJlY2lwZVwiLFxuICAgICAgICAgICAgNjogXCJTZWNyZXQgUmVjaXBlXCIgICAgICAgICAgIFxuICAgICAgICB9LFxuXHRcdHdpdGhQZWFudXRzOiB7XG5cdFx0XHQwOiA1MDAsXG5cdFx0XHQxOiA4MDAsXG5cdFx0XHQyOiAxMTAwLFxuXHRcdFx0Mzoge1xuXHRcdFx0XHQxOiAyMDAwLFxuXHRcdFx0XHQyOiAxODAwLFxuXHRcdFx0XHQzOiAxNjAwLFxuXHRcdFx0XHQ0OiAxNDAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR3aXRob3V0UGVhbnV0czoge1xuXHRcdFx0MDogNzAwLFxuXHRcdFx0MTogMTMwMCxcblx0XHRcdDI6IDE4MDAsXG5cdFx0XHQzOiB7XG5cdFx0XHRcdDA6IDIyMDBcblx0XHRcdH1cdFx0XHRcblx0XHR9LFxuXHRcdF9kaXN0aWxsVHlwZTpfZGlzdGlsbFR5cGUsXG5cdFx0X2Rpc3RpbGxGbGF2b3JzOl9kaXN0aWxsRmxhdm9ycyxcblx0XHRjYWxjdWxhdGVQdXJjaGFzZVByaWNlOiBjYWxjdWxhdGVQdXJjaGFzZVByaWNlLFxuXHRcdGJ1aWxkRGVzY3JpcHRpb246IGJ1aWxkRGVzY3JpcHRpb25cblx0fTtcblxuXHRmdW5jdGlvbiBfZGlzdGlsbFR5cGUocmVmLCBtaXgpIHtcblxuXHRcdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgdHlwZU9iamVjdCA9IHt9O1xuXHRcdHZhciBub09mVHlwZXMgPSAwO1xuXHRcdHZhciByZXR1cm5TdHJpbmc7XG5cblx0XHQkbG9nLmluZm8oJ21peCcsIG1peCk7XG5cblx0XHQvL2NvbGxlY3QgYWxsIHRoZSBrZXlzIGZyb20gdGhlIG1peFxuXHRcdE9iamVjdC5rZXlzKG1peCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0Ly91c2UgdGhlIGtleXMgdG8gYWRkIG51dCB0eXBlcyB0byBhIHR5cGVPYmplY3Rcblx0XHRcdHR5cGVPYmplY3RbcmVmW2tleV1dID0gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdC8vY291bnQgdGhlIHR5cGVzIGluIHRoZSB0eXBlIG9iamVjdCBub3dcblx0XHRPYmplY3Qua2V5cyh0eXBlT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XG5cdFx0XHQvL2luY3JpbWVudCB0aGUgbnVtYmVyIG9mIHR5cGVzXG5cdFx0XHRub09mVHlwZXMrKztcblxuXHRcdFx0Ly9zYXZlIHRoZSB0eXBlIGZvciBsYXRlciBpZiBuZWVkIGJlXG5cdFx0XHRyZXR1cm5TdHJpbmcgPSBrZXk7XG5cdFx0fSk7XG5cblx0XHQvL2lmIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIHR5cGUuLi5cblx0XHRpZihub09mVHlwZXMgPiAxKSB7XG5cdFx0XHQvL2l0J3MgYSBtaXhcblx0XHRcdGlmKHR5cGVvZiBtaXhbNl0gIT0gJ3VuZGVmaW5lZCcgJiYgbWl4WzZdID49IDAuNSkgcmV0dXJuU3RyaW5nID0gJ1BlYW51dCBNaXgnO1xuXHRcdFx0ZWxzZSByZXR1cm5TdHJpbmcgPSAnTWl4J1xuXG5cdFx0fSBcblxuXHRcdC8vJGxvZy5pbmZvKHR5cGVPYmplY3QpO1xuXG5cdFx0cmV0dXJuIHJldHVyblN0cmluZztcblx0fVxuXG5cdGZ1bmN0aW9uIF9kaXN0aWxsRmxhdm9ycyhyZWYsIG1peCkge1xuXHRcdFxuXHRcdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgZmxhdm9yT2JqZWN0ID0ge307XG5cdFx0dmFyIGZsYXZvcnNBcnJheSA9IFtdO1xuXHRcdHZhciByZXR1cm5TdHJpbmc7XG5cblx0XHQvL2NvbGxlY3QgYWxsIHRoZSBrZXlzIGZyb20gdGhlIG1peFxuXHRcdE9iamVjdC5rZXlzKG1peCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0Ly91c2UgdGhlIGtleXMgdG8gYWRkIG51dCB0eXBlcyB0byBhIGZsYXZvck9iamVjdFxuXHRcdFx0Zmxhdm9yT2JqZWN0W3JlZltrZXldXSA9IHRydWU7XG5cdFx0fSk7XG5cblx0XHQvL2J1aWxkIGFuIGFycmF5IG9mIHR5cGVzXG5cdFx0T2JqZWN0LmtleXMoZmxhdm9yT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXG5cdFx0XHRmbGF2b3JzQXJyYXkucHVzaChrZXkpO1xuXHRcdH0pO1x0XHRcblxuXHRcdHN3aXRjaChmbGF2b3JzQXJyYXkubGVuZ3RoKSB7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRcdHJldHVyblN0cmluZyA9IGZsYXZvcnNBcnJheVswXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHJldHVyblN0cmluZyA9IGZsYXZvcnNBcnJheVswXSArICcgJiAnICsgZmxhdm9yc0FycmF5WzFdO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMzpcblx0XHRcdFx0cmV0dXJuU3RyaW5nID0gZmxhdm9yc0FycmF5WzBdICsgJywgJyArIGZsYXZvcnNBcnJheVsxXSArICcgJiAnICsgZmxhdm9yc0FycmF5WzJdO1xuXHRcdFx0XHRicmVha1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldHVyblN0cmluZztcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZVB1cmNoYXNlUHJpY2UodGhpc1BhY2thZ2luZywgdGhpc1ByaWNpbmcpIHtcblx0XHRcblx0XHQvLyRsb2cuaW5mbygnUGFja2FnaW5nOicsIHRoaXNQYWNrYWdpbmcpO1xuXHRcdC8vJGxvZy5pbmZvKCdQcmljaW5nOicsIHRoaXNQcmljaW5nKTtcblx0XHRcblx0XHQvL2xvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBjb3N0ID0gMDtcblxuXHRcdC8vZmlyc3QgY2hlY2sgZm9yIHBlYW51dHNcblx0XHRpZih0eXBlb2YgdGhpc1BhY2thZ2luZy5taXhbJzYnXSA9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0Ly9wZWFudXRzIGFyZSBOT1QgcHJlc2VudFxuXHRcdFx0Ly8kbG9nLmluZm8oJ25vIHBlYW51dHMnKTtcblx0XHRcdC8vdGhlbiBjaGVjayBmb3Igc2l6ZVxuXHRcdFx0aWYodGhpc1BhY2thZ2luZy5zaXplID4gMikge1xuXHRcdFx0XHQvL3RoaXMgaXMgYSBwbGF0dGVyXG5cdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV1bJzAnXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vdGhpcyBpcyBhIGNvbmVcblx0XHRcdFx0Y29zdCA9IHRoaXNQcmljaW5nLndpdGhvdXRQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL3BlYW51dHMgYXJlIHByZXNlbnRcblx0XHRcdC8vJGxvZy5pbmZvKCd0aGVyZSBhcmUgcGVhbnV0cycpXG5cdFx0XHQvL3RoZW4gY2hlY2sgZm9yIHNpemVcblx0XHRcdGlmKHRoaXNQYWNrYWdpbmcuc2l6ZSA+IDIpIHtcblx0XHRcdFx0Ly90aGlzIGlzIGEgcGxhdHRlclxuXHRcdFx0XHQvL2NvdW50IHNlY3Rpb25zIG9mIHBlYW51dHNcblx0XHRcdFx0dmFyIHBlYW51dFNlY3Rpb25zID0gNCAqIHRoaXNQYWNrYWdpbmcubWl4Wyc2J107XG5cblx0XHRcdFx0Ly8kbG9nLmluZm8ocGVhbnV0U2VjdGlvbnMsICdwZWFudXRTZWN0aW9ucycpO1xuXHRcdFx0XHRcblx0XHRcdFx0Y29zdCA9IHRoaXNQcmljaW5nLndpdGhQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXVtwZWFudXRTZWN0aW9ucy50b1N0cmluZygpXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly90aGlzIGlzIGEgY29uZVxuXHRcdFx0XHQvL2lzIGl0IG1vcmUgb3IgbGVzcyB0aGFuIDUwJSBwZWFudXRzP1xuXHRcdFx0XHQvLyRsb2cuaW5mbyhcIiUgcGVhbnV0c1wiLCB0aGlzUGFja2FnaW5nLm1peFsnNiddKTtcblx0XHRcdFx0aWYodGhpc1BhY2thZ2luZy5taXhbJzYnXSA+PSAwLjUpIHtcblx0XHRcdFx0XHQvLyRsb2cuaW5mbygncGVhbnV0cyBwcmljZScsIHRoaXNQcmljaW5nLndpdGhQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXSk7XG5cdFx0XHRcdFx0Y29zdCA9IHRoaXNQcmljaW5nLndpdGhQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyRsb2cuaW5mbygnTm8gUGVhbnV0cyBwcmljZScsIHRoaXNQcmljaW5nLndpdGhvdXRQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXSk7XG5cdFx0XHRcdFx0Y29zdCA9IHRoaXNQcmljaW5nLndpdGhvdXRQZWFudXRzW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjb3N0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBidWlsZERlc2NyaXB0aW9uKHRoaXNQYWNrYWdpbmcsIHRoaXNQcmljaW5nKSB7XG5cdFx0Ly8kbG9nLmluZm8oJ2J1aWxkaW5nIGEgZGVzY3JpcHRpb24nKTtcblx0XHQvLyRsb2cuaW5mbygndHlwZScsIHRoaXNQYWNrYWdpbmcubWl4KTtcblx0XHQvLyRsb2cuaW5mbygnZmxhdm9ycycsIHRoaXNQYWNrYWdpbmcubWl4KTtcblx0XHQvLyRsb2cuaW5mbygndGhpc1ByaWNpbmcnLCB0aGlzUHJpY2luZyk7XG5cblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgZGVzY3JpcHRpb24gPSAnJztcblxuXHRcdC8vZGV0ZXJtaW5lIHRoZSBzaXplIChzbWFsbCwgYXZlcmFnZSwgaW1wcmVzc2l2ZSwgcGxhdHRlcilcblx0XHRkZXNjcmlwdGlvbiArPSB0aGlzUHJpY2luZy5wYWNrYWdpbmdbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldLnRpdGxlO1xuXHRcdGRlc2NyaXB0aW9uICs9IFwiOiBcIjtcblxuXHRcdC8vZGV0ZXJtaW5lIHRoZSB0eXBlIChQZWNhbnMsIEFsbW9uZHMsIENhc2hld3MsIFBlYW51dHMsIE1peCwgUGVhbnV0IE1peClcblx0XHRkZXNjcmlwdGlvbiArPSBfZGlzdGlsbFR5cGUodGhpc1ByaWNpbmcudHlwZXMsIHRoaXNQYWNrYWdpbmcubWl4KTtcblx0XHRkZXNjcmlwdGlvbiArPSBcIiAoXCI7XG5cblx0XHQvL2RldGVybWluZSByZWNpcGUgKC4uLilcblx0XHRkZXNjcmlwdGlvbiArPSBfZGlzdGlsbEZsYXZvcnModGhpc1ByaWNpbmcucmVjaXBpZXMsIHRoaXNQYWNrYWdpbmcubWl4KTs7XG5cdFx0ZGVzY3JpcHRpb24gKz0gXCIpXCI7XG5cblx0XHRyZXR1cm4gZGVzY3JpcHRpb247XG5cdH1cblx0cmV0dXJuIGFsbFByaWNlcztcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdzaG9wcGluZ0NhcnRzRmFjdG9yeScsIHNob3BwaW5nQ2FydHNGYWN0b3J5KTtcblxuc2hvcHBpbmdDYXJ0c0ZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ2FydHNGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbENhcnRFbGVtZW50cyA9IHtcblx0XHRpdGVtczogW1x0Ly9FWEFNUExFIE9CSkVDVFxuXHRcdFx0Lyp7IFxuXHRcdFx0XHRkZXNjcmlwdGlvbjpcIlNtYWxsOiBTUiBQZWNhbnMgJiBTUiBDYXNoZXdzXCIsXG5cdFx0XHRcdHBhY2thZ2luZzogMCxcblx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFwiU1JQZWNhbnNcIjowLjUsXG5cdFx0XHRcdFx0XCJTUkNhc2hld3NcIjowLjVcblx0XHRcdFx0fSxcblx0XHRcdFx0cXR5OiA1LFxuXHRcdFx0XHRjb3N0OiA3MDBcblx0XHRcdH0qL1xuXHRcdF0sXG5cdFx0LypzZWxlY3RlZFBhY2thZ2luZzoge1xuXHRcdFx0c21hbGxzOiAwLFxuXHRcdFx0bWVkaXVtczogMCxcblx0XHRcdGxhcmdlczogMCxcblx0XHRcdHBsYXR0ZXJzOiAwXG5cdFx0fSxcblx0XHRmaWxsZWRQYWNrYWdpbmc6IHtcblx0XHRcdHNtYWxsczoge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRtZWRpdW1zOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRsYXJnZXM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdHBsYXR0ZXJzOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH1cblx0XHR9LCovXG5cdFx0Y29zdDoge1xuXHRcdFx0c3VidG90YWw6IDM1MDAsXG5cdFx0XHR0YXhlczogMCxcblx0XHRcdGRpc2NvdW50czogMCxcblx0XHRcdHNoaXBwaW5nOiB7XG5cblx0XHRcdH1cblx0XHR9LFxuXHRcdGFkZEFTaXplOiBhZGRBU2l6ZSxcblx0XHRyZW1vdmVBU2l6ZTogcmVtb3ZlQVNpemUsXG5cdFx0YWRkRmlsbGVkUGFja2FnZTogYWRkRmlsbGVkUGFja2FnZSxcblx0XHRyZW1vdmVBUGFja2FnZTogcmVtb3ZlQVBhY2thZ2UsXG5cdFx0Y2FsY3VsYXRlSXRlbVN1YnRvdGFsOiBjYWxjdWxhdGVJdGVtU3VidG90YWwsXG5cdFx0Y2FsY3VsYXRlVG90YWxDb3N0OiBjYWxjdWxhdGVUb3RhbENvc3Rcblx0fTtcblxuXHRmdW5jdGlvbiBhZGRBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0Ly9UT0RPOiBSRU1PVkUgVEhJUyBMQVRFUlxuXHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSArIDEpO1xuXG5cdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdHJldHVybiBzdGFydGluZ1ZhbHVlICsgMTtcblx0fVxuXHRmdW5jdGlvbiByZW1vdmVBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0XG5cdFx0aWYoc3RhcnRpbmdWYWx1ZSA+IDApIHtcblx0XHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzJywgc3RhcnRpbmdWYWx1ZSwgJyByZXR1cm5pbmcgdGhpcyAnLCBzdGFydGluZ1ZhbHVlIC0gMSk7XG5cblx0XHRcdC8vaW5jcmltZW50IHRoZSBzdGFydGluZyB2YWx1ZSBcblx0XHRcdHJldHVybiBzdGFydGluZ1ZhbHVlIC0gMTtcblx0XHR9IGVsc2UgcmV0dXJuIDA7XHRcdFxuXHR9XG5cdGZ1bmN0aW9uIGFkZEZpbGxlZFBhY2thZ2UobmV3UGFja2FnZSkge1xuXHRcdC8vbm90aWZ5IHVzIHRoYXQgdGhlIHBhY2thZ2Ugd2FzIHJlY2VpdmVkXG5cdFx0JGxvZy5pbmZvKCdhZGRpbmcgYSBuZXcgcGFja2FnZSBub3cnLCBuZXdQYWNrYWdlKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwYWNrYWdlXG5cdFx0cmV0dXJuIG5ld1BhY2thZ2U7XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlQVBhY2thZ2Uoc2l6ZSwgaWQpIHt9XG5cblx0ZnVuY3Rpb24gY2FsY3VsYXRlSXRlbVN1YnRvdGFsKGl0ZW0pIHtcblx0XHRcblx0XHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgc3VidG90YWwgPSAoKGl0ZW0uY29zdCAqIGl0ZW0ucXR5KSAvIDEwMCkudG9GaXhlZCgyKTtcblxuXHRcdHJldHVybiBzdWJ0b3RhbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsQ29zdChhbGxJdGVtcykge1xuXG5cdFx0Ly9kZWNhbHJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHRvdGFsID0gMDtcblxuXHRcdGFsbEl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuXHRcdFx0dG90YWwgKz0gKChpdGVtLmNvc3QgKiBpdGVtLnF0eSkgLyAxMDApO1xuXHRcdH0pO1x0XG5cblx0XHRyZXR1cm4gdG90YWwudG9GaXhlZCgyKTtcblx0fVxuXHRcblx0cmV0dXJuIGFsbENhcnRFbGVtZW50cztcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdzdGF0ZUZhY3RvcnknLCBzdGF0ZUZhY3RvcnkpO1xuXG5zdGF0ZUZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBzdGF0ZXNGYWN0b3J5ID0ge1xuXHRcdGRlZmF1bHRTdGF0ZTogZGVmYXVsdFN0YXRlLFxuXHRcdGJ1aWxkQnV0dG9uTGlzdDogYnVpbGRCdXR0b25MaXN0XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0U3RhdGUoc2VjdGlvbikge1xuXHRcdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciByZXR1cm5PYmplY3Q7XG5cblx0XHRpZihzZWN0aW9uPT0nc2hvcHBpbmcnKSB7XG5cdFx0XHRyZXR1cm5PYmplY3QgPSB7XG5cdFx0XHRcdGFjdGl2ZVRhYjogMCxcblx0XHRcdFx0YWxsVGFiczoge1xuXHRcdFx0XHRcdDA6ICdwYWNrYWdlJyxcblx0XHRcdFx0XHQxOiAnZmxhdm9yJyxcblx0XHRcdFx0XHQyOiAnYWNjZXNzJyxcblx0XHRcdFx0XHQzOiAnY2hlY2tvdXQnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhY2thZ2luZzoge1xuXHRcdFx0XHRcdFwic2VsZWN0ZWRcIjogZmFsc2UsXG5cdFx0XHRcdFx0XCJzaXplXCI6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRcImZsYXZvcnNcIjogMCxcblx0XHRcdFx0XHRcIm1peFwiOiB7fSxcblx0XHRcdFx0XHRcImNvc3RcIjogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRidXR0b25zOiB7XG5cdFx0XHRcdFx0dHlwZUxpc3Q6IHtcblx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ1BlY2FucycsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZWNpcGllczogMyxcblx0XHRcdFx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ1NSJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0MToge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnRHJ1bmsnLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHQyOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdDaW5uJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ0FsbW9uZHMnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVjaXBpZXM6IDIsXG5cdFx0XHRcdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdTUicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ0Npbm4nLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Mjoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnQ2FzaGV3cycsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZWNpcGllczogMSxcblx0XHRcdFx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ1NSJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdDM6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ1BlYW51dHMnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVjaXBpZXM6IDEsXG5cdFx0XHRcdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdTUicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmbGF2b3JMaXN0OiB7XHRcdC8vVE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnUGVjYW5zJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdTZWNyZXQgUmVjaXBlJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHQgICAgXHRcdDE6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6IFwiRHJ1bmtlbiBQZWNhbnNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnUGVjYW5zJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdEcnVua2VuJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHQgICAgXHRcdDI6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ1BlY2FucycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnQ2lubmFtb24nLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdCAgICBcdFx0Mzoge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIEFsbW9uZHNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnQWxtb25kcycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnU2VjcmV0IFJlY2lwZScsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0ICAgIFx0XHQ0OiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOlwiQ2lubmFtb24gQWxtb25kc1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdBbG1vbmRzJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdDaW5uYW1vbicsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCAgICBcdFx0XHRcblx0XHRcdCAgICBcdFx0NToge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdDYXNoZXdzJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdTZWNyZXQgUmVjaXBlJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sICAgIFx0XHRcdFxuXHRcdFx0ICAgIFx0XHQ2OiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBQZWFudXRzXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ1BlYW51dHMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ1NlY3JldCBSZWNpcGUnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSAgICBcdFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0YXF1aXNpdGlvbjoge1xuXHRcdFx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0XHRcdHBpY2t1cDoge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHQnZ2x5cGhpY29uJzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHQnZ2x5cGhpY29uLW9rJzogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNoaXA6IHtcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0J2dseXBoaWNvbic6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0J2dseXBoaWNvbi1vayc6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYoc2VjdGlvbj09J3Nob3BwaW5nUHJvZ3Jlc3NCYXInKSB7XG5cdFx0XHRyZXR1cm5PYmplY3QgPSB7XG5cdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogdHJ1ZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQxOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdDI6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fSxcblx0XHRcdFx0Mzoge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBcblxuXHRcdHJldHVybiByZXR1cm5PYmplY3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBidWlsZEJ1dHRvbkxpc3QoLypsaXN0LCBvcHRpb25zLCBzdGF0ZXMqLykge1xuXHRcdC8vZGVjbGFyZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciByZXR1cm5PYmplY3QgPSB7XG5cdFx0XHQwOiB7XG5cdFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0MToge1xuICAgIFx0XHRcdFwidGl0bGVcIjogXCJEcnVua2VuIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0Mjoge1xuICAgIFx0XHRcdFwidGl0bGVcIjogXCJDaW5uYW1vbiBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDM6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBBbG1vbmRzXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQ0OiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOlwiQ2lubmFtb24gUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCAgICBcdFx0XHRcbiAgICBcdFx0NToge1xuICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSwgICAgXHRcdFx0XG4gICAgXHRcdDY6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6XCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0gICAgXHRcdFx0XG5cdFx0fTtcblxuXHRcdHJldHVybiByZXR1cm5PYmplY3Q7XG5cdH1cblxuXHRyZXR1cm4gc3RhdGVzRmFjdG9yeTtcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb25maWcoY29uZmlnKTtcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7ICAgXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAvL2RlZmluZSB0aGUgbGFuZGluZyBwYWdlXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbGFuZGluZ1BhZ2UuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xhbmRpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgc2hvcHBpbmcgcm91dGVzXG4gICAgLndoZW4oJy9zaG9wJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3Nob3BwaW5nLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzaG9wcGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvc2hvcC9yZWNlaXB0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL29yZGVyUmVjZWlwdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnc2hvcHBpbmdSZWNlaXB0Q29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGxvY2F0aW9ucyByb3V0ZXNcbiAgICAud2hlbignL2xvY2F0aW9ucycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KSAgICBcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUvOnJlZ2lvbicsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBjb250YWN0IHJvdXRlc1xuICAgIC53aGVuKCcvY29udGFjdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jb250YWN0Lmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9hZG1pbi9zZXJ2ZXIvdGVzdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9hZG1pbi5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnYWRtaW5Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG59XG4iLCIvLyBNT0RVTEVcbnZhciBhaE51dHNXZWJBcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWhOdXRzV2ViQXBwJywgWyduZ1JvdXRlJ10pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
