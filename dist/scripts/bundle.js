function contactController(){}function landingController(e,t,r){function o(){}var l=this;l.navButtonClicked=function(t){var o="/"+t;e.info("redirecting to: "+o),r.path(o)},o()}function locationsController(e,t){e.info("params are: ",t)}function shoppingController(e,t,r,o,l){var n=this;n.currentlyFilling=r,n.cart=t,n.priceList=o,n.currentState=l.defaultState("shopping"),n.currentState.flavorsBtnList=l.buildButtonList(),e.info(n.currentState.flavorsBtnList),n.updateSelectedTab=function(t){n.currentState.activeTab=t,e.info("changing to tab",n.currentState.activeTab)}}function aquisitionManager(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/aquisitionManager.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function cartSummary(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/cartSummary.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function coneFiller(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/coneFiller.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function emailHelper(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/emailHelper.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function listOfFlavors(){function e(e,t,r,o){}function t(e,t){function r(e){l.flavors[e].classes.availProductFlavor=!1,l.flavors[e].classes.selectedProductFlavor=!0,l.flavors[e].classes.unAvailProductFlavor=!1}function o(e){l.flavors[e].classes.availProductFlavor=!0,l.flavors[e].classes.selectedProductFlavor=!1,l.flavors[e].classes.unAvailProductFlavor=!1}var l=this;l.clickAFlavor=function(e){l.flavors[e].selected=!l.flavors[e].selected,l.flavors[e].selected?r(e):o(e)}}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/listOfFlavors.directive.htm",replace:!0,scope:{flavors:"=",pickAFlavor:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function locationsChronoView(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/locationsChronoView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function locationsMapView(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/locationsMapView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function locationsThisWeek(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/locationsThisWeek.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function locationsTimeFilter(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/locationsTimeFilter.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function locationsToday(){function e(e,t,r,o){}function t(e,t,r){var o=this,l=r;o.todaysMarkets=l.get(),console.log(o.todaysMarkets)}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/locationsToday.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","backendComFactory"],r}function packagingFiller(){function e(e,t,r,o){}function t(e,t){function r(e){return 1/e}function o(e){Object.keys(a.currentlyFilling.flavors.selected).forEach(function(t){a.currentlyFilling.flavors.selected[t]?a.currentlyFilling.flavors.proportions[t]=e:a.currentlyFilling.flavors.proportions[t]=0})}function l(e){var t={};return Object.keys(e).forEach(function(r){e[r]>0&&(t[r]=e[r])}),t}function n(e,t){var r=void 0;return r="platter"==e?t.SRPeanut>0:t.SRPeanut>=.5}function c(e,t){var r=0,o="withoutPeanuts",l=0,c=n(e,t);return c&&(o="withPeanuts",l=4*t.SRPeanut),r="platter"==e?a.pricing[o][e][l]:a.pricing[o][e]}function i(e,t,r){var o=c(e,t);return o*r}var a=this;a.qty=1,a.pickAFlavor=function(e){a.currentlyFilling.flavors.selected[e]=!a.currentlyFilling.flavors.selected[e],a.currentlyFilling.flavors.selected[e]?a.currentlyFilling.flavors.noOfFlavors++:a.currentlyFilling.flavors.noOfFlavors--;var l=r(a.currentlyFilling.flavors.noOfFlavors);o(l),t.info("# of Flavors",a.currentlyFilling.flavors.noOfFlavors,"split",l,"propritions",a.currentlyFilling.flavors.proportions)},a.addToCart=function(){var e=a.currentlyFilling.packaging,t=l(a.currentlyFilling.flavors.proportions),r=a.qty,o={selectedPackaging:e,mixture:t,qty:r,subtotatl:i(e,t,r)};a.addFilledPackage()(o),a.changeTab()(2)},a.discardButtonClicked=function(){a.currentlyFilling.packaging=void 0,a.changeTab()(0)}}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/packagingFiller.directive.htm",replace:!0,scope:{pricing:"=",changeTab:"&",productFlavorList:"=",currentlyFilling:"=",addFilledPackage:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function paymentManager(){function e(e,t,r,o){}function t(e,t,r){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/paymentManager.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","backendComFactory"],r}function platterFiller(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/platterFiller.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function qtyManager(){function e(e,t,r,o){}function t(e,t){var r=this;r.subtract=function(){r.qty>1&&r.qty--},r.add=function(){r.qty++}}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/qtyManager.directive.htm",replace:!0,scope:{qty:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function seeEmpties(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/seeEmpties.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function seeFulls(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/seeFulls.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function selectFlavors(){function e(e,t,r,o){}function t(e,t){var r=this;r.fillAPackage=function(e){r.currentlyFilling.packaging=e},r.sizeBtnClicked=function(e){t.info("clikced",e,r.packagingSelected[e]),r.packagingSelected[e]=r.removeASize()(r.packagingSelected[e])}}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/selectFlavors.directive.htm",replace:!0,scope:{packagingSelected:"=",removeASize:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function selectPackaging(){function e(e,t,r,o){}function t(e,t){var r=this;r.sizeBtnClicked=function(e){r.currentlyFilling.packaging=e,t.info("got this size, ",e),r.changeTab()(1)}}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/selectPackaging.directive.htm",replace:!0,scope:{currentlyFilling:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function shoppingProgressBar(){function e(e,t,r,o){e.$watch("vm.activeTab",function(t,r){console.log("the tab changed",r,t),e.vm.changeTabClass(t,r)})}function t(e,t,r){var o=this;o.tabs=r.defaultState("shoppingProgressBar"),o.changeTabClass=function(e,t){o.tabs[t].classes.spbtabSelected=!1,o.tabs[e].classes.spbtabSelected=!0},o.tabClick=function(e){o.changeTabClass(e,o.activeTab),o.changeTab()(e)}}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shoppingProgressBar.directive.htm",replace:!0,scope:{activeTab:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","stateFactory"],r}function toolBar(){function e(e,t,r,o){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],r}function backendComFactory(e){function t(){return new Promise(function(e,t){e("it worked")})}var r={get:t};return r}function fillingsFactory(e){var t={packaging:void 0,flavors:{0:"Secret Recipe Pecans",1:"Drunken Pecans",2:"Cinnamon Pecans",3:"Secret Recipe Almonds",4:"Cinnamon Pecans",5:"Secret Recipe Cashews",6:"Secret Recipe Peanuts"}};return t}function priceListFactory(e){var t={withPeanuts:{small:500,medium:800,large:1100,platter:{1:2e3,2:1800,3:1600,4:1400}},withoutPeanuts:{small:700,medium:1300,large:1800,platter:{0:2200}}};return t}function shoppingCartsFactory(e){function t(t){return e.info("got this",t," returning this ",t+1),t+1}function r(t){return t>0?(e.info("got this",t," returning this ",t-1),t-1):0}function o(t){e.info("adding a new package now",t)}function l(e,t){}var n={selectedPackaging:{smalls:0,mediums:0,larges:0,platters:0},filledPackaging:{smalls:{qty:0,mixes:[],subtotal:0},mediums:{qty:0,mixes:[],subtotal:0},larges:{qty:0,mixes:[],subtotal:0},platters:{qty:0,mixes:[],subtotal:0}},cost:{subtotal:0,taxes:0,discounts:0},addASize:t,removeASize:r,addFilledPackage:o,removeAPackage:l};return n}function stateFactory(e){function t(e){var t;return"shopping"==e?t={activeTab:0,allTabs:{0:"package",1:"flavor",2:"access",3:"checkout"},sizeSelected:!1}:"shoppingProgressBar"==e&&(t={0:{classes:{spbtabSelected:!0},styles:{}},1:{classes:{spbtabSelected:!1},styles:{}},2:{classes:{spbtabSelected:!1},styles:{}},3:{classes:{spbtabSelected:!1},styles:{}}}),t}function r(){var e={0:{title:"Secret Recipe Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},1:{title:"Drunken Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},2:{title:"Cinnamon Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},3:{title:"Secret Recipe Almonds",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},4:{title:"Cinnamon Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},5:{title:"Secret Recipe Cashews",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},6:{title:"Secret Recipe Peanuts",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}}};return e}var o={defaultState:t,buildButtonList:r};return o}function config(e){e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/shop",{templateUrl:"views/shopping.htm",controller:"shoppingController",controllerAs:"vm"}).when("/locations",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/locations/:state/:region",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm"}).when("/contact",{templateUrl:"views/contact.htm",controller:"contactController",controllerAs:"vm"})}config.$inject=["$routeProvider"];var ahNutsWebApp=angular.module("ahNutsWebApp",["ngRoute"]);angular.module("ahNutsWebApp").controller("contactController",contactController),contactController.$inject=[],angular.module("ahNutsWebApp").controller("landingController",landingController),landingController.$inject=["$log","$routeParams","$location"],angular.module("ahNutsWebApp").controller("locationsController",locationsController),locationsController.$inject=["$log","$routeParams"],angular.module("ahNutsWebApp").controller("shoppingController",shoppingController),shoppingController.$inject=["$log","shoppingCartsFactory","fillingsFactory","priceListFactory","stateFactory"],angular.module("ahNutsWebApp").directive("aquisitionManager",aquisitionManager),angular.module("ahNutsWebApp").directive("cartSummary",cartSummary),angular.module("ahNutsWebApp").directive("coneFiller",coneFiller),angular.module("ahNutsWebApp").directive("emailHelper",emailHelper),angular.module("ahNutsWebApp").directive("listOfFlavors",listOfFlavors),angular.module("ahNutsWebApp").directive("locationsChronoView",locationsChronoView),angular.module("ahNutsWebApp").directive("locationsMapView",locationsMapView),angular.module("ahNutsWebApp").directive("locationsThisWeek",locationsThisWeek),angular.module("ahNutsWebApp").directive("locationsTimeFilter",locationsTimeFilter),angular.module("ahNutsWebApp").directive("locationsToday",locationsToday),angular.module("ahNutsWebApp").directive("packagingFiller",packagingFiller),angular.module("ahNutsWebApp").directive("paymentManager",paymentManager),angular.module("ahNutsWebApp").directive("platterFiller",platterFiller),angular.module("ahNutsWebApp").directive("qtyManager",qtyManager),angular.module("ahNutsWebApp").directive("seeEmpties",seeEmpties),angular.module("ahNutsWebApp").directive("seeFulls",seeFulls),angular.module("ahNutsWebApp").directive("selectFlavors",selectFlavors),angular.module("ahNutsWebApp").directive("selectPackaging",selectPackaging),angular.module("ahNutsWebApp").directive("shoppingProgressBar",shoppingProgressBar),angular.module("ahNutsWebApp").directive("toolBar",toolBar),angular.module("ahNutsWebApp").factory("backendComFactory",backendComFactory),backendComFactory.$inject=["$log","$http"],angular.module("ahNutsWebApp").factory("fillingsFactory",fillingsFactory),fillingsFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("priceListFactory",priceListFactory),priceListFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("shoppingCartsFactory",shoppingCartsFactory),shoppingCartsFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("ahNutsWebApp").config(config);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvY29udGFjdC5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sYW5kaW5nLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xvY2F0aW9ucy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZy5jb250cm9sbGVyLmpzIiwiYnVuZGxlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2FxdWlzaXRpb25NYW5hZ2VyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jYXJ0U3VtbWFyeS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY29uZUZpbGxlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvZW1haWxIZWxwZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xpc3RPZkZsYXZvcnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvY2F0aW9uc0Nocm9ub1ZpZXcuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvY2F0aW9uc01hcFZpZXcuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RoaXNXZWVrLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUb2RheS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcGFja2FnaW5nRmlsbGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9wYXltZW50TWFuYWdlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcGxhdHRlckZpbGxlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcXR5TWFuYWdlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRW1wdGllcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VlRnVsbHMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NlbGVjdFBhY2thZ2luZy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hvcHBpbmdQcm9ncmVzc0Jhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvdG9vbGJhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9iYWNrZW5kQ29tLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9maWxsaW5ncy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvcHJpY2VMaXN0cy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvc2hvcHBpbmdDYXJ0cy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvc3RhdGUuZmFjdG9yeS5qcyIsInNjcmlwdHMvcm91dGVzL3JvdXRlLWNvbmZpZy5qcyIsInNjcmlwdHMvYXBwLmpzIl0sIm5hbWVzIjpbImNvbnRhY3RDb250cm9sbGVyIiwibGFuZGluZ0NvbnRyb2xsZXIiLCIkbG9nIiwiJHJvdXRlUGFyYW1zIiwiJGxvY2F0aW9uIiwiaW5pdCIsInZtIiwidGhpcyIsIm5hdkJ1dHRvbkNsaWNrZWQiLCJwYXJhbSIsImZ1bGxQYXRoIiwiaW5mbyIsInBhdGgiLCJsb2NhdGlvbnNDb250cm9sbGVyIiwic2hvcHBpbmdDb250cm9sbGVyIiwic2hvcHBpbmdDYXJ0c0ZhY3RvcnkiLCJmaWxsaW5nc0ZhY3RvcnkiLCJwcmljZUxpc3RGYWN0b3J5Iiwic3RhdGVGYWN0b3J5IiwiY3VycmVudGx5RmlsbGluZyIsImNhcnQiLCJwcmljZUxpc3QiLCJjdXJyZW50U3RhdGUiLCJkZWZhdWx0U3RhdGUiLCJmbGF2b3JzQnRuTGlzdCIsImJ1aWxkQnV0dG9uTGlzdCIsInVwZGF0ZVNlbGVjdGVkVGFiIiwidGFiIiwiYWN0aXZlVGFiIiwiYXF1aXNpdGlvbk1hbmFnZXIiLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsImFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlciIsIiRzY29wZSIsIiRpbmplY3QiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwicmVwbGFjZSIsImxpbmsiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiYmluZFRvQ29udHJvbGxlciIsImNhcnRTdW1tYXJ5IiwiY2FydFN1bW1hcnlDb250cm9sbGVyIiwiY29uZUZpbGxlciIsImNvbmVGaWxsZXJDb250cm9sbGVyIiwiZW1haWxIZWxwZXIiLCJlbWFpbEhlbHBlckNvbnRyb2xsZXIiLCJsaXN0T2ZGbGF2b3JzIiwibGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIiLCJzZWxlY3RBQnRuIiwiaW5kZXgiLCJmbGF2b3JzIiwiY2xhc3NlcyIsImF2YWlsUHJvZHVjdEZsYXZvciIsInNlbGVjdGVkUHJvZHVjdEZsYXZvciIsInVuQXZhaWxQcm9kdWN0Rmxhdm9yIiwidW5zZWxlY3RBQnRuIiwiY2xpY2tBRmxhdm9yIiwic2VsZWN0ZWQiLCJwaWNrQUZsYXZvciIsImxvY2F0aW9uc0Nocm9ub1ZpZXciLCJsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlciIsImxvY2F0aW9uc01hcFZpZXciLCJsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlciIsImxvY2F0aW9uc1RoaXNXZWVrIiwibG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyIiwibG9jYXRpb25zVGltZUZpbHRlciIsImxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyIiwibG9jYXRpb25zVG9kYXkiLCJsb2NhdGlvbnNUb2RheUNvbnRyb2xsZXIiLCJiYWNrZW5kQ29tRmFjdG9yeSIsImJhY2tlbmQiLCJ0b2RheXNNYXJrZXRzIiwiZ2V0IiwiY29uc29sZSIsImxvZyIsInBhY2thZ2luZ0ZpbGxlciIsInBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIiLCJlcXVhbFNwbGl0IiwiZGl2aXNpb25zIiwiYXNzaWduRXF1YWxTcGxpdCIsImVxdWFsUG9ydGlvbiIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiZmxhdm9yIiwicHJvcG9ydGlvbnMiLCJzdXBwbHlNaXh0dXJlT2JqZWN0IiwiZmxhdm9yUHJvcG9ydGlvbnMiLCJyZXR1cm5PYmplY3QiLCJjaGVja0ZvclBlYW51dHMiLCJwYWNrYWdpbmciLCJtaXh0dXJlIiwiaGFzUGVhbnV0cyIsInVuZGVmaW5lZCIsIlNSUGVhbnV0IiwiY2FsY3VsYXRlUHVyY2hhc2VQcmljZSIsInNhbGVQcmljZSIsInBlYW51dFN0YXR1cyIsInBlYW51dFNlY3Rpb25zIiwicGVhbnV0c0FyZVByZXNlbnQiLCJwcmljaW5nIiwiY2FsY3VsYXRlSXRlbVN1YnRvdGFsIiwicXR5IiwicHVyY2hhc2VQcmljZSIsIm5vT2ZGbGF2b3JzIiwiZXF1YWxQb3J0aW9ucyIsImFkZFRvQ2FydCIsInRoaXNQYWNrYWdpbmciLCJ0aGlzTWl4dHVyZSIsInRoaXNRdWFudGl0eSIsIm5ld1BhY2thZ2UiLCJzZWxlY3RlZFBhY2thZ2luZyIsInN1YnRvdGF0bCIsImFkZEZpbGxlZFBhY2thZ2UiLCJjaGFuZ2VUYWIiLCJkaXNjYXJkQnV0dG9uQ2xpY2tlZCIsInByb2R1Y3RGbGF2b3JMaXN0IiwicGF5bWVudE1hbmFnZXIiLCJwYXltZW50TWFuYWdlckNvbnRyb2xsZXIiLCJwbGF0dGVyRmlsbGVyIiwicGxhdHRlckZpbGxlckNvbnRyb2xsZXIiLCJxdHlNYW5hZ2VyIiwicXR5TWFuYWdlckNvbnRyb2xsZXIiLCJzdWJ0cmFjdCIsImFkZCIsInNlZUVtcHRpZXMiLCJzZWVFbXB0aWVzQ29udHJvbGxlciIsInNlZUZ1bGxzIiwic2VlRnVsbHNDb250cm9sbGVyIiwic2VsZWN0Rmxhdm9ycyIsInNlbGVjdEZsYXZvcnNDb250cm9sbGVyIiwiZmlsbEFQYWNrYWdlIiwic2l6ZUJ0bkNsaWNrZWQiLCJwYWNrYWdpbmdTZWxlY3RlZCIsInJlbW92ZUFTaXplIiwic2VsZWN0UGFja2FnaW5nIiwic2VsZWN0UGFja2FnaW5nQ29udHJvbGxlciIsInNpemUiLCJzaG9wcGluZ1Byb2dyZXNzQmFyIiwiJHdhdGNoIiwibmV4dCIsImN1cnJlbnQiLCJjaGFuZ2VUYWJDbGFzcyIsInNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyIiwidGFicyIsInNwYnRhYlNlbGVjdGVkIiwidGFiQ2xpY2siLCJ0b29sQmFyIiwiVG9vbEJhckNvbnRyb2xsZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJhY2tlbmRDb21FbGVtZW50cyIsImFsbEZpbGxpbmdzIiwiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsImFsbFByaWNlcyIsIndpdGhQZWFudXRzIiwic21hbGwiLCJtZWRpdW0iLCJsYXJnZSIsInBsYXR0ZXIiLCJ3aXRob3V0UGVhbnV0cyIsImFkZEFTaXplIiwic3RhcnRpbmdWYWx1ZSIsInJlbW92ZUFQYWNrYWdlIiwiaWQiLCJhbGxDYXJ0RWxlbWVudHMiLCJzbWFsbHMiLCJtZWRpdW1zIiwibGFyZ2VzIiwicGxhdHRlcnMiLCJmaWxsZWRQYWNrYWdpbmciLCJtaXhlcyIsInN1YnRvdGFsIiwiY29zdCIsInRheGVzIiwiZGlzY291bnRzIiwic2VjdGlvbiIsImFsbFRhYnMiLCJzaXplU2VsZWN0ZWQiLCJzdHlsZXMiLCJ0aXRsZSIsInByb3BvcnRpb24iLCJzdGF0ZXNGYWN0b3J5IiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwiYWhOdXRzV2ViQXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiXSwibWFwcGluZ3MiOiJBQU9BLFFBQUFBLHNCQ0FBLFFBQUFDLG1CQUFBQyxFQUFBQyxFQUFBQyxHQU1BLFFBQUFDLE1BSEEsR0FBQUMsR0FBQUMsSUFXQUQsR0FBQUUsaUJBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBLElBQUFELENBRUFQ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Q0FDLE9BQUEsZ0JBQ0FDLFFBQUEsb0JBQUEvSCxtQkFFQUEsa0JBQUF0QyxTQUFBLE9BQUEsU0NKQW1LLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsa0JBQUExTCxpQkFFQUEsZ0JBQUFxQixTQUFBLFFDSkFtSyxRQUNBQyxPQUFBLGdCQUNBQyxRQUFBLG1CQUFBekwsa0JBRUFBLGlCQUFBb0IsU0FBQSxRQ0pBbUssUUFDQUMsT0FBQSxnQkFDQUMsUUFBQSx1QkFBQTNMLHNCQUVBQSxxQkFBQXNCLFNBQUEsUUNKQW1LLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsZUFBQXhMLGNBRUFBLGFBQUFtQixTQUFBLFFDSkFtSyxRQUNBQyxPQUFBLGdCQUNBTCxPQUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignY29udGFjdENvbnRyb2xsZXInLCBjb250YWN0Q29udHJvbGxlcik7XG5cbmNvbnRhY3RDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb250YWN0Q29udHJvbGxlcigpIHtcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24pIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIHN0YXRlIG9mIHRoaXMgcGFnZVxuXHRcdFxuXHRcdFxuXG5cdH07XG5cblx0Ly92aWV3IG1ldGhvZHNcblx0dm0ubmF2QnV0dG9uQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhcmFtKSB7XG5cdFx0dmFyIGZ1bGxQYXRoID0gJy8nICsgcGFyYW07XG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2cuaW5mbygncmVkaXJlY3RpbmcgdG86ICcgKyBmdWxsUGF0aCk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG5cblx0Ly9ydW4gaW5pdCBmdW5jdGlvblxuXHRpbml0KCk7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xvY2F0aW9uc0NvbnRyb2xsZXInLCBsb2NhdGlvbnNDb250cm9sbGVyKTtcblxubG9jYXRpb25zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRyb3V0ZVBhcmFtcyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbm90aWZ5IHRoZSBwYXJhbXMgZm9yIHRoZSB0aW1lIGJlaW5nXHRUT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cdCRsb2cuaW5mbygncGFyYW1zIGFyZTogJywgJHJvdXRlUGFyYW1zKTtcblxuXHQvL2xvY2FsIG1ldGhvZHNcblxuXHQvL3ZpZXcgbWV0aG9kc1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdzaG9wcGluZ0NvbnRyb2xsZXInLCBzaG9wcGluZ0NvbnRyb2xsZXIpO1xuXG5zaG9wcGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICdzaG9wcGluZ0NhcnRzRmFjdG9yeScsICdmaWxsaW5nc0ZhY3RvcnknLCAncHJpY2VMaXN0RmFjdG9yeScsICdzdGF0ZUZhY3RvcnknXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NvbnRyb2xsZXIoJGxvZywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnksIGZpbGxpbmdzRmFjdG9yeSwgcHJpY2VMaXN0RmFjdG9yeSwgc3RhdGVGYWN0b3J5KSB7XG5cblx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9pbXBvcnQgcmVxdWlyZWQgb2JqZWN0c1xuICAgIHZtLmN1cnJlbnRseUZpbGxpbmcgPSBmaWxsaW5nc0ZhY3Rvcnk7XG5cdHZtLmNhcnQgPSBzaG9wcGluZ0NhcnRzRmFjdG9yeTtcblx0dm0ucHJpY2VMaXN0ID0gcHJpY2VMaXN0RmFjdG9yeTtcblxuXHQvL3N0YXRlIHRyYWNraW5nXG5cdHZtLmN1cnJlbnRTdGF0ZSA9IHN0YXRlRmFjdG9yeS5kZWZhdWx0U3RhdGUoJ3Nob3BwaW5nJyk7XG5cdHZtLmN1cnJlbnRTdGF0ZS5mbGF2b3JzQnRuTGlzdCA9IHN0YXRlRmFjdG9yeS5idWlsZEJ1dHRvbkxpc3QoXG5cdFx0Ly92bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMsIFx0XHRcdC8vbGlzdFxuXHRcdC8vWydzZWxlY3RlZCcsICdwcm9wb3J0aW9ucyddLFx0XHRcdC8vb3B0aW9uc1xuXHRcdC8ve30sIFx0XHQvL3N0YXRlXG5cdCk7XG5cblx0JGxvZy5pbmZvKHZtLmN1cnJlbnRTdGF0ZS5mbGF2b3JzQnRuTGlzdCk7XG5cdFxuXHQvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cblx0Ly93aGVuIGEgdGFiIGlzIHNlbGVjdGVkIGNoYW5nZSB0aGUgdGFiXG5cdHZtLnVwZGF0ZVNlbGVjdGVkVGFiID0gZnVuY3Rpb24odGFiKSB7XG5cdFx0dm0uY3VycmVudFN0YXRlLmFjdGl2ZVRhYiA9IHRhYjtcblx0XHQkbG9nLmluZm8oJ2NoYW5naW5nIHRvIHRhYicsIHZtLmN1cnJlbnRTdGF0ZS5hY3RpdmVUYWIpO1xuXHR9XG5cblxufSIsIi8vIE1PRFVMRVxuY29uZmlnLiRpbmplY3QgPSBbXCIkcm91dGVQcm92aWRlclwiXTtcbnZhciBhaE51dHNXZWJBcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWhOdXRzV2ViQXBwJywgWyduZ1JvdXRlJ10pO1xuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdjb250YWN0Q29udHJvbGxlcicsIGNvbnRhY3RDb250cm9sbGVyKTtcblxuY29udGFjdENvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RDb250cm9sbGVyKCkge1xuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbG9jYWwgbWV0aG9kc1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBzdGF0ZSBvZiB0aGlzIHBhZ2Vcblx0XHRcblx0XHRcblxuXHR9O1xuXG5cdC8vdmlldyBtZXRob2RzXG5cdHZtLm5hdkJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbihwYXJhbSkge1xuXHRcdHZhciBmdWxsUGF0aCA9ICcvJyArIHBhcmFtO1xuXHRcdC8vcmVkaXJlY3Rcblx0XHQkbG9nLmluZm8oJ3JlZGlyZWN0aW5nIHRvOiAnICsgZnVsbFBhdGgpO1xuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxuXG5cdC8vcnVuIGluaXQgZnVuY3Rpb25cblx0aW5pdCgpO1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xvY2F0aW9uc0NvbnRyb2xsZXInLCBsb2NhdGlvbnNDb250cm9sbGVyKTtcblxubG9jYXRpb25zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRyb3V0ZVBhcmFtcyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbm90aWZ5IHRoZSBwYXJhbXMgZm9yIHRoZSB0aW1lIGJlaW5nXHRUT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cdCRsb2cuaW5mbygncGFyYW1zIGFyZTogJywgJHJvdXRlUGFyYW1zKTtcblxuXHQvL2xvY2FsIG1ldGhvZHNcblxuXHQvL3ZpZXcgbWV0aG9kc1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ3Nob3BwaW5nQ29udHJvbGxlcicsIHNob3BwaW5nQ29udHJvbGxlcik7XG5cbnNob3BwaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJ3Nob3BwaW5nQ2FydHNGYWN0b3J5JywgJ2ZpbGxpbmdzRmFjdG9yeScsICdwcmljZUxpc3RGYWN0b3J5JywgJ3N0YXRlRmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ29udHJvbGxlcigkbG9nLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSwgZmlsbGluZ3NGYWN0b3J5LCBwcmljZUxpc3RGYWN0b3J5LCBzdGF0ZUZhY3RvcnkpIHtcblxuXHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2ltcG9ydCByZXF1aXJlZCBvYmplY3RzXG4gICAgdm0uY3VycmVudGx5RmlsbGluZyA9IGZpbGxpbmdzRmFjdG9yeTtcblx0dm0uY2FydCA9IHNob3BwaW5nQ2FydHNGYWN0b3J5O1xuXHR2bS5wcmljZUxpc3QgPSBwcmljZUxpc3RGYWN0b3J5O1xuXG5cdC8vc3RhdGUgdHJhY2tpbmdcblx0dm0uY3VycmVudFN0YXRlID0gc3RhdGVGYWN0b3J5LmRlZmF1bHRTdGF0ZSgnc2hvcHBpbmcnKTtcblx0dm0uY3VycmVudFN0YXRlLmZsYXZvcnNCdG5MaXN0ID0gc3RhdGVGYWN0b3J5LmJ1aWxkQnV0dG9uTGlzdChcblx0XHQvL3ZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycywgXHRcdFx0Ly9saXN0XG5cdFx0Ly9bJ3NlbGVjdGVkJywgJ3Byb3BvcnRpb25zJ10sXHRcdFx0Ly9vcHRpb25zXG5cdFx0Ly97fSwgXHRcdC8vc3RhdGVcblx0KTtcblxuXHQkbG9nLmluZm8odm0uY3VycmVudFN0YXRlLmZsYXZvcnNCdG5MaXN0KTtcblx0XG5cdC8vdmlldyBtb2RlbCBmdW5jdGlvbnNcblxuXHQvL3doZW4gYSB0YWIgaXMgc2VsZWN0ZWQgY2hhbmdlIHRoZSB0YWJcblx0dm0udXBkYXRlU2VsZWN0ZWRUYWIgPSBmdW5jdGlvbih0YWIpIHtcblx0XHR2bS5jdXJyZW50U3RhdGUuYWN0aXZlVGFiID0gdGFiO1xuXHRcdCRsb2cuaW5mbygnY2hhbmdpbmcgdG8gdGFiJywgdm0uY3VycmVudFN0YXRlLmFjdGl2ZVRhYik7XG5cdH1cblxuXG59XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdhcXVpc2l0aW9uTWFuYWdlcicsIGFxdWlzaXRpb25NYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBhcXVpc2l0aW9uTWFuYWdlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2FxdWlzaXRpb25NYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2NhcnRTdW1tYXJ5JywgY2FydFN1bW1hcnkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNhcnRTdW1tYXJ5KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2FydFN1bW1hcnkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2FydFN1bW1hcnlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2FydFN1bW1hcnlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2FydFN1bW1hcnlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnY29uZUZpbGxlcicsIGNvbmVGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmVGaWxsZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jb25lRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbmVGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY29uZUZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25lRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2VtYWlsSGVscGVyJywgZW1haWxIZWxwZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGVtYWlsSGVscGVyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxIZWxwZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxIZWxwZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxIZWxwZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxIZWxwZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbGlzdE9mRmxhdm9ycycsIGxpc3RPZkZsYXZvcnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxpc3RPZkZsYXZvcnMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9saXN0T2ZGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGZsYXZvcnM6ICc9Jyxcblx0XHRcdHBpY2tBRmxhdm9yOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxpc3RPZkZsYXZvcnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsaXN0T2ZGbGF2b3JzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vbG9jYWwgbWV0aG9kc1xuXHQgICAgZnVuY3Rpb24gc2VsZWN0QUJ0bihpbmRleCkge1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLmF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IHRydWU7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMudW5BdmFpbFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gdW5zZWxlY3RBQnRuKGluZGV4KSB7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuYXZhaWxQcm9kdWN0Rmxhdm9yID0gdHJ1ZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5zZWxlY3RlZFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1x0ICAgIFx0XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBtYWtlQnRuQXZhaWwoaW5kZXgpIHt9XG5cdCAgICBmdW5jdGlvbiBtYWtlQnRuVW5BdmFpbChpbmRleCkge31cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNsaWNrQUZsYXZvciA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICBcdC8vd2hlbiBhIGZsYXZvciBpcyBjbGlja2VkIG11c3Rcblx0ICAgIFx0Ly9jaGVjayBpZiBpdCBpcyBhbGxvd2VkIHRvIGJlIGNsaWNrZWRcblx0ICAgIFx0Ly9mbGlwIHRoZSBzZWxlY3RlZCBzdGF0ZVxuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZCA9ICF2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZDtcblxuXHQgICAgXHQvL3NldCB0aGUgY2xhc3Ncblx0ICAgIFx0aWYodm0uZmxhdm9yc1tpbmRleF0uc2VsZWN0ZWQpIHNlbGVjdEFCdG4oaW5kZXgpO1xuXHQgICAgXHRlbHNlIHVuc2VsZWN0QUJ0bihpbmRleCk7XG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNDaHJvbm9WaWV3JywgbG9jYXRpb25zQ2hyb25vVmlldyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlldygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc0Nocm9ub1ZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zTWFwVmlldycsIGxvY2F0aW9uc01hcFZpZXcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXcoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNNYXBWaWV3LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8qZnVuY3Rpb24gaW5pdE1hcCgpIHtcblx0ICAgICAgICB2YXIgdWx1cnUgPSB7bGF0OiAtMjUuMzYzLCBsbmc6IDEzMS4wNDR9O1xuXHQgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuXHQgICAgICAgICAgem9vbTogNCxcblx0ICAgICAgICAgIGNlbnRlcjogdWx1cnVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdCAgICAgICAgICBwb3NpdGlvbjogdWx1cnUsXG5cdCAgICAgICAgICBtYXA6IG1hcFxuXHQgICAgICAgIH0pO1xuXHQgICAgfSovXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RoaXNXZWVrJywgbG9jYXRpb25zVGhpc1dlZWspO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGhpc1dlZWsuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGltZUZpbHRlcicsIGxvY2F0aW9uc1RpbWVGaWx0ZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RvZGF5JywgbG9jYXRpb25zVG9kYXkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RvZGF5KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2JhY2tlbmRDb21GYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVG9kYXlDb250cm9sbGVyKCRzY29wZSwgJGxvZywgYmFja2VuZENvbUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2YXIgYmFja2VuZCA9IGJhY2tlbmRDb21GYWN0b3J5O1xuXG5cdCAgICB2bS50b2RheXNNYXJrZXRzID0gYmFja2VuZC5nZXQoKTtcblxuXHQgICAgY29uc29sZS5sb2codm0udG9kYXlzTWFya2V0cyk7XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwYWNrYWdpbmdGaWxsZXInLCBwYWNrYWdpbmdGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHBhY2thZ2luZ0ZpbGxlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRwcmljaW5nOiBcIj1cIixcblx0XHRcdGNoYW5nZVRhYjogJyYnLFxuXHRcdFx0cHJvZHVjdEZsYXZvckxpc3Q6IFwiPVwiLFxuXHRcdFx0Y3VycmVudGx5RmlsbGluZzogXCI9XCIsXG5cdFx0XHRhZGRGaWxsZWRQYWNrYWdlOiBcIiZcIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIHZhcmlhYmxlc1xuXHQgICAgdm0ucXR5ID0gMTtcblxuXHQgICAgZnVuY3Rpb24gZXF1YWxTcGxpdChkaXZpc2lvbnMpIHtcblx0ICAgIFx0cmV0dXJuIDEgLyBkaXZpc2lvbnM7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGFzc2lnbkVxdWFsU3BsaXQoZXF1YWxQb3J0aW9uKSB7XG5cblx0ICAgIFx0T2JqZWN0LmtleXModm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkKS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHQgICAgXHRcdFxuXHQgICAgXHRcdGlmKHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5zZWxlY3RlZFtmbGF2b3JdKVxuXHQgICAgXHRcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnByb3BvcnRpb25zW2ZsYXZvcl0gPSBlcXVhbFBvcnRpb247XG5cdCAgICBcdFx0ZWxzZVxuXHQgICAgXHRcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnByb3BvcnRpb25zW2ZsYXZvcl0gPSAwLjAwXG5cblx0ICAgIFx0fSlcblxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBzdXBwbHlNaXh0dXJlT2JqZWN0KGZsYXZvclByb3BvcnRpb25zKSB7XHRcdC8vcmVjZWl2ZSBhbGwgdGhlIHByb3BydGlvbnNcblx0ICAgIFx0Ly9pbml0aWFsaXplIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdHZhciByZXR1cm5PYmplY3QgPSB7fTtcblxuXHQgICAgXHQvL2N5Y2xlIHRocm91Z2ggYWxsIHRoZSBmbGF2b3JzLCBpZiBwcm9wb3J0aW9uIGlzIGdyZWF0IHRoYW4gXG5cdCAgICBcdE9iamVjdC5rZXlzKGZsYXZvclByb3BvcnRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXG5cdCAgICBcdFx0aWYoZmxhdm9yUHJvcG9ydGlvbnNbZmxhdm9yXSA+IDApXG5cdCAgICBcdFx0XHRyZXR1cm5PYmplY3RbZmxhdm9yXSA9IGZsYXZvclByb3BvcnRpb25zW2ZsYXZvcl1cblxuXHQgICAgXHR9KTtcblxuXHQgICAgXHRyZXR1cm4gcmV0dXJuT2JqZWN0XHRcdC8vcmV0dXJuIGEgZGlzdGlsbGVkIGxpc3Qgb2YgcHJvcG9ydGlvbnNcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2hlY2tGb3JQZWFudXRzKHBhY2thZ2luZywgbWl4dHVyZSkge1xuXG5cdCAgICBcdHZhciBoYXNQZWFudXRzID0gdW5kZWZpbmVkO1xuXG5cdCAgICBcdC8vaXMgdGhpcyBhIG1peHR1cmUgb3IgYSBwbGF0dGVyP1xuXHQgICAgXHRpZihwYWNrYWdpbmc9PSdwbGF0dGVyJykge1xuXHQgICAgXHRcdC8vYSBwbGF0dGVyIHdpdGggYXQgbGVhc3Qgb25lIHNlY3Rpb24gb2YgcGVhbnV0cyBoYXMgcGVhbnV0c1xuXHQgICAgXHRcdGlmKG1peHR1cmUuU1JQZWFudXQgPiAwKSBoYXNQZWFudXRzID0gdHJ1ZTtcblx0ICAgIFx0XHRlbHNlIGhhc1BlYW51dHMgPSBmYWxzZTtcblxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdC8vYSBtaXh0dXJlIG11c3QgaGF2ZSBhdCBsZWFzdCA1MCUgcGVhbnV0cyB0byBiZSBjb25zaWRlcmVkIHBlYW51dFxuXHQgICAgXHRcdGlmKG1peHR1cmUuU1JQZWFudXQgPj0gMC41KSBoYXNQZWFudXRzID0gdHJ1ZTtcblx0ICAgIFx0XHRlbHNlIGhhc1BlYW51dHMgPSBmYWxzZTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdHJldHVybiBoYXNQZWFudXRzO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjYWxjdWxhdGVQdXJjaGFzZVByaWNlKHBhY2thZ2luZywgbWl4dHVyZSkge1xuXHQgICAgXHRcblx0ICAgIFx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlXG5cdCAgICBcdHZhciBzYWxlUHJpY2UgPSAwO1xuXHQgICAgXHR2YXIgcGVhbnV0U3RhdHVzID0gJ3dpdGhvdXRQZWFudXRzJztcblx0ICAgIFx0dmFyIHBlYW51dFNlY3Rpb25zID0gMDtcblxuXHQgICAgXHQvL2RldGVybWluZSBwZWFudXRzIHByZXNlbmNlIGFuZCBxdHlcblx0ICAgIFx0dmFyIHBlYW51dHNBcmVQcmVzZW50ID0gY2hlY2tGb3JQZWFudXRzKHBhY2thZ2luZywgbWl4dHVyZSk7XG5cblx0ICAgIFx0aWYocGVhbnV0c0FyZVByZXNlbnQpIHtcblx0ICAgIFx0XHQvL3NldCB0aGUgb2JqZWN0IHZhbHVlXG5cdCAgICBcdFx0cGVhbnV0U3RhdHVzID0gJ3dpdGhQZWFudXRzJztcblx0ICAgIFx0XHQvL2NhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHBlYW51dCBzZWN0aW9uc1xuXHQgICAgXHRcdHBlYW51dFNlY3Rpb25zID0gbWl4dHVyZS5TUlBlYW51dCAqIDQ7XG5cdCAgICBcdH1cblxuXHQgICAgXHQvL3BhY2thZ2luZyBkaWZmZXJzIGZvciBwbGF0dGVycyBhbmQgYmFnc1xuXHQgICAgXHRpZihwYWNrYWdpbmc9PSdwbGF0dGVyJykge1xuXHQgICAgXHRcdHNhbGVQcmljZSA9IHZtLnByaWNpbmdbcGVhbnV0U3RhdHVzXVtwYWNrYWdpbmddW3BlYW51dFNlY3Rpb25zXTtcblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHRzYWxlUHJpY2UgPSB2bS5wcmljaW5nW3BlYW51dFN0YXR1c11bcGFja2FnaW5nXTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdHJldHVybiBzYWxlUHJpY2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbChwYWNrYWdpbmcsIG1peHR1cmUsIHF0eSkge1xuXG5cdCAgICBcdHZhciBwdXJjaGFzZVByaWNlID0gY2FsY3VsYXRlUHVyY2hhc2VQcmljZShwYWNrYWdpbmcsIG1peHR1cmUpO1xuXG5cdCAgICBcdHJldHVybiBwdXJjaGFzZVByaWNlICogcXR5O1xuXHQgICAgfVxuXG5cdCAgICAvL3ZpZXdtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5waWNrQUZsYXZvciA9IGZ1bmN0aW9uKGZsYXZvcikge1xuXG5cdCAgICBcdC8vZmlyc3QgZmxpcCB0aGUgY2hlY2tib3hcblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl0gPSAhdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl07XG5cblx0ICAgIFx0Ly9pbmNyZWFzZSBvciBkZWNyZWFzZSB0aGUgbnVtYmVyIG9mIGZsYXZvcnMgYmFzZWQgb24gdGhlIHNpZ25cblx0ICAgIFx0aWYodm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl0pXG5cdCAgICBcdFx0dm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLm5vT2ZGbGF2b3JzKys7XG5cdCAgICBcdGVsc2Vcblx0ICAgIFx0XHR2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMubm9PZkZsYXZvcnMtLTtcblxuXHQgICAgXHQvL3RoZW4gZm9yIGVxdWFsIHNwbGl0IGNhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSwgYmFzZWQgb24gdGhlIG51bWJlciBvZiBmbGF2b3JzXG5cdCAgICBcdHZhciBlcXVhbFBvcnRpb25zID0gZXF1YWxTcGxpdCh2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMubm9PZkZsYXZvcnMpO1xuXHQgICAgXHRhc3NpZ25FcXVhbFNwbGl0KGVxdWFsUG9ydGlvbnMpO1xuXG5cdCAgICBcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdCAgICBcdCRsb2cuaW5mbygnIyBvZiBGbGF2b3JzJywgdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLm5vT2ZGbGF2b3JzLCBcInNwbGl0XCIsIGVxdWFsUG9ydGlvbnMsICdwcm9wcml0aW9ucycsIHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5wcm9wb3J0aW9ucyk7XG5cdCAgICB9XG5cblx0ICAgIHZtLmFkZFRvQ2FydCA9IGZ1bmN0aW9uKCkge1x0XHQvL2FkZCB0aGUgY3VycmVudCBpdGVtIHRvIHRoZSBjYXJ0XG5cdCAgICBcdFxuXHQgICAgXHQvL2Rpc3RpbGwgdGhlIG1peHR1cmVcblx0ICAgIFx0dmFyIHRoaXNQYWNrYWdpbmcgPSB2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZztcblx0ICAgIFx0dmFyIHRoaXNNaXh0dXJlID0gc3VwcGx5TWl4dHVyZU9iamVjdCh2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMucHJvcG9ydGlvbnMpO1xuXHQgICAgXHR2YXIgdGhpc1F1YW50aXR5ID0gdm0ucXR5O1xuXG5cdCAgICBcdC8vZm9ybWF0IHRoZSBvYmplY3QgdG8gYmUgYWRkZWQgdG8gdGhlIGNhcnRcblx0ICAgIFx0dmFyIG5ld1BhY2thZ2UgPSB7XG5cdCAgICBcdFx0c2VsZWN0ZWRQYWNrYWdpbmc6IHRoaXNQYWNrYWdpbmcsXG5cdCAgICBcdFx0bWl4dHVyZTogdGhpc01peHR1cmUsXG5cdCAgICBcdFx0cXR5OiB0aGlzUXVhbnRpdHksXG5cdCAgICBcdFx0c3VidG90YXRsOiBjYWxjdWxhdGVJdGVtU3VidG90YWwodGhpc1BhY2thZ2luZywgdGhpc01peHR1cmUsIHRoaXNRdWFudGl0eSlcblx0ICAgIFx0fTtcblxuXHQgICAgXHQvL3Bhc3MgaXQgdG8gdGhlIGNhcnRcblx0ICAgIFx0dm0uYWRkRmlsbGVkUGFja2FnZSgpKG5ld1BhY2thZ2UpO1xuXG5cdCAgICBcdC8vdGhlbiBtb3ZlIHRvIHRoZSBuZXh0IHRhYlxuXHQgICAgXHR2bS5jaGFuZ2VUYWIoKSgyKTtcblx0ICAgIH1cblxuXHQgICAgdm0uZGlzY2FyZEJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbigpIHtcdC8vd2hlbiB0aGUgYnRuIGlzIGNsaWNrZWQgdGhpcyBoYXBwZW5zXG5cdCAgICBcdFxuXHQgICAgXHQvL2N1cnJlbnRseSBmaWxsaW5nIHBhY2thZ2Ugc2V0IHRvIHVuZGVmaW5lZFxuXHQgICAgXHR2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZyA9IHVuZGVmaW5lZDtcblxuXHQgICAgXHQvL2FjdGl2ZSB0YWIgc3dpdGNoZWQgYmFjayB0byAwXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDApO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwYXltZW50TWFuYWdlcicsIHBheW1lbnRNYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwYXltZW50TWFuYWdlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BheW1lbnRNYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBheW1lbnRNYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHBheW1lbnRNYW5hZ2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICdiYWNrZW5kQ29tRmFjdG9yeSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHBheW1lbnRNYW5hZ2VyQ29udHJvbGxlcigkc2NvcGUsICRsb2csIGJhY2tlbmRDb21GYWN0b3J5KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwbGF0dGVyRmlsbGVyJywgcGxhdHRlckZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGxhdHRlckZpbGxlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BsYXR0ZXJGaWxsZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGxhdHRlckZpbGxlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwbGF0dGVyRmlsbGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHBsYXR0ZXJGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncXR5TWFuYWdlcicsIHF0eU1hbmFnZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHF0eU1hbmFnZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9xdHlNYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBxdHlNYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHF0eU1hbmFnZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcXR5TWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIHZtLnN1YnRyYWN0ID0gZnVuY3Rpb24oKSB7IGlmKHZtLnF0eSA+IDEpIHZtLnF0eS0tOyB9XG5cdCAgICB2bS5hZGQgPSBmdW5jdGlvbigpIHsgdm0ucXR5Kys7IH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUVtcHRpZXMnLCBzZWVFbXB0aWVzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVFbXB0aWVzKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2VlRW1wdGllcy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWVFbXB0aWVzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlZUVtcHRpZXNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VlRW1wdGllc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWVGdWxscycsIHNlZUZ1bGxzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVGdWxscygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUZ1bGxzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUZ1bGxzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlZUZ1bGxzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUZ1bGxzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlbGVjdEZsYXZvcnMnLCBzZWxlY3RGbGF2b3JzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RGbGF2b3JzKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2VsZWN0Rmxhdm9ycy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRwYWNrYWdpbmdTZWxlY3RlZDogJz0nLFxuXHRcdFx0cmVtb3ZlQVNpemU6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWxlY3RGbGF2b3JzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXG5cdCAgICAvL2Fzc2lnbiBhIGJhZyB0byBiZSBmaWxsZWRcblx0ICAgIHZtLmZpbGxBUGFja2FnZSA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHR2bS5jdXJyZW50bHlGaWxsaW5nLnBhY2thZ2luZyA9IHBhY2thZ2luZztcblx0ICAgIH1cblxuXHQgICAgdm0uc2l6ZUJ0bkNsaWNrZWQgPSBmdW5jdGlvbihwYWNrYWdpbmcpIHtcblx0ICAgIFx0JGxvZy5pbmZvKCdjbGlrY2VkJywgcGFja2FnaW5nLCB2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddKTtcblx0ICAgIFx0Ly9kZWNyZW1lbnQgdGhlIGNvdW50IG9mIHRoaXMgcGFja2FnZSB0aGF0IHdhcyBjbGlja2VkXG5cdCAgICBcdHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10gPSB2bS5yZW1vdmVBU2l6ZSgpKHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RQYWNrYWdpbmcnLCBzZWxlY3RQYWNrYWdpbmcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlbGVjdFBhY2thZ2luZy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjdXJyZW50bHlGaWxsaW5nOiAnPScsXG5cdFx0XHRjaGFuZ2VUYWI6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgdm0uc2l6ZUJ0bkNsaWNrZWQgPSBmdW5jdGlvbihzaXplKSB7XG5cblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmcgPSBzaXplO1xuXHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHNpemUsICcsIHNpemUpO1xuXG5cdCAgICBcdC8vY2hhbmdlIHRoZSBhY3RpdmUgdGFiXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDEpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJywgc2hvcHBpbmdQcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Nob3BwaW5nUHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZlVGFiOiAnPScsXG5cdFx0XHRjaGFuZ2VUYWI6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblx0XHQvL25lZWRzIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBpbiBhY3RpdmUgdGFiLCBhcyBvdGhlciBkaXJlY3RpdmVzXG5cdFx0Ly9jYW4gcHJvbXB0IHRoZXNlIGNoYW5nZXNcblx0XHRzY29wZS4kd2F0Y2goJ3ZtLmFjdGl2ZVRhYicsIGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0XHRcdGNvbnNvbGUubG9nKCd0aGUgdGFiIGNoYW5nZWQnLCBjdXJyZW50LCBuZXh0KTtcblx0XHRcdC8vdXBkYXRlIHN0eWxlc1xuXHQgICAgXHRzY29wZS52bS5jaGFuZ2VUYWJDbGFzcyhuZXh0LCBjdXJyZW50KTtcblxuXHRcdH0pO1xuICAgIH1cblxuICAgIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRmFjdG9yeSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVGYWN0b3J5KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS50YWJzID0gc3RhdGVGYWN0b3J5LmRlZmF1bHRTdGF0ZSgnc2hvcHBpbmdQcm9ncmVzc0JhcicpO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdCAgICB2bS5jaGFuZ2VUYWJDbGFzcyA9IGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0ICAgIFx0Ly91cGRhdGUgc3R5bGVzXG5cdCAgICBcdHZtLnRhYnNbY3VycmVudF0uY2xhc3Nlcy5zcGJ0YWJTZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgXHR2bS50YWJzW25leHRdLmNsYXNzZXMuc3BidGFiU2VsZWN0ZWQgPSB0cnVlO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnRhYkNsaWNrID0gZnVuY3Rpb24odGFiKSB7XG5cblx0ICAgIFx0Ly91cGRhdGUgdGhlIHN0eWxlc1xuXHQgICAgXHR2bS5jaGFuZ2VUYWJDbGFzcyh0YWIsIHZtLmFjdGl2ZVRhYik7XG5cblx0ICAgIFx0Ly91cGRhdGUgcGFyZW50IG1vZGVsXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKHRhYik7XG5cdCAgICB9XG5cdH1cdFxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZENvbUZhY3RvcnknLCBiYWNrZW5kQ29tRmFjdG9yeSk7XG5cbmJhY2tlbmRDb21GYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kQ29tRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRyZXNvbHZlKCdpdCB3b3JrZWQnKTtcblxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRDb21FbGVtZW50cztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ2ZpbGxpbmdzRmFjdG9yeScsIGZpbGxpbmdzRmFjdG9yeSk7XG5cbmZpbGxpbmdzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZmlsbGluZ3NGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbEZpbGxpbmdzID0ge1xuICAgIFx0cGFja2FnaW5nOiB1bmRlZmluZWQsXG4gICAgXHRmbGF2b3JzOiB7XG4gICAgXHRcdDA6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcbiAgICBcdFx0MTogXCJEcnVua2VuIFBlY2Fuc1wiLFxuICAgIFx0XHQyOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuICAgIFx0XHQzOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuICAgIFx0XHQ0OiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuICAgIFx0XHQ1OiBcIlNlY3JldCBSZWNpcGUgQ2FzaGV3c1wiLFxuICAgIFx0XHQ2OiBcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiXG4gICAgXHR9XG4gICAgXHQvKmZsYXZvcnM6IHtcbiAgICBcdFx0bm9PZkZsYXZvcnM6IDAsXG4gICAgXHRcdHNlbGVjdGVkOiB7XG5cdCAgICBcdFx0U1JQZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdERSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHRDTlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0U1JBbG1vbmQ6IGZhbHNlLFxuXHQgICAgXHRcdENOQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRTUkNhc2hldzogZmFsc2UsXG5cdCAgICBcdFx0U1JQZWFudXQ6IGZhbHNlXG4gICAgXHRcdH0sXG4gICAgXHRcdHByb3BvcnRpb25zOiB7XG5cdCAgICBcdFx0U1JQZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0RFJQZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0Q05QZWNhbnM6IDAuMDAsXG5cdCAgICBcdFx0U1JBbG1vbmQ6IDAuMDAsXG5cdCAgICBcdFx0Q05BbG1vbmQ6IDAuMDAsXG5cdCAgICBcdFx0U1JDYXNoZXc6IDAuMDAsXG5cdCAgICBcdFx0U1JQZWFudXQ6IDAuMDBcbiAgICBcdFx0fVxuICAgIFx0fSwqL1xuXG4gICAgfTtcblx0XG5cdHJldHVybiBhbGxGaWxsaW5ncztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3ByaWNlTGlzdEZhY3RvcnknLCBwcmljZUxpc3RGYWN0b3J5KTtcblxucHJpY2VMaXN0RmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJpY2VMaXN0RmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxQcmljZXMgPSB7XG5cdFx0d2l0aFBlYW51dHM6IHtcblx0XHRcdHNtYWxsOiA1MDAsXG5cdFx0XHRtZWRpdW06IDgwMCxcblx0XHRcdGxhcmdlOiAxMTAwLFxuXHRcdFx0cGxhdHRlcjoge1xuXHRcdFx0XHQxOiAyMDAwLFxuXHRcdFx0XHQyOiAxODAwLFxuXHRcdFx0XHQzOiAxNjAwLFxuXHRcdFx0XHQ0OiAxNDAwXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR3aXRob3V0UGVhbnV0czoge1xuXHRcdFx0c21hbGw6IDcwMCxcblx0XHRcdG1lZGl1bTogMTMwMCxcblx0XHRcdGxhcmdlOiAxODAwLFxuXHRcdFx0cGxhdHRlcjoge1xuXHRcdFx0XHQwOiAyMjAwXG5cdFx0XHR9XHRcdFx0XG5cdFx0fVxuXHR9O1xuXHRcblx0cmV0dXJuIGFsbFByaWNlcztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3Nob3BwaW5nQ2FydHNGYWN0b3J5Jywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnkpO1xuXG5zaG9wcGluZ0NhcnRzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdDYXJ0c0ZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsQ2FydEVsZW1lbnRzID0ge1xuXHRcdHNlbGVjdGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IDAsXG5cdFx0XHRtZWRpdW1zOiAwLFxuXHRcdFx0bGFyZ2VzOiAwLFxuXHRcdFx0cGxhdHRlcnM6IDBcblx0XHR9LFxuXHRcdGZpbGxlZFBhY2thZ2luZzoge1xuXHRcdFx0c21hbGxzOiB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdG1lZGl1bXM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdGxhcmdlczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0cGxhdHRlcnM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y29zdDoge1xuXHRcdFx0c3VidG90YWw6IDAsXG5cdFx0XHR0YXhlczogMCxcblx0XHRcdGRpc2NvdW50czogMFxuXHRcdH0sXG5cdFx0YWRkQVNpemU6IGFkZEFTaXplLFxuXHRcdHJlbW92ZUFTaXplOiByZW1vdmVBU2l6ZSxcblx0XHRhZGRGaWxsZWRQYWNrYWdlOiBhZGRGaWxsZWRQYWNrYWdlLFxuXHRcdHJlbW92ZUFQYWNrYWdlOiByZW1vdmVBUGFja2FnZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGFkZEFTaXplKHN0YXJ0aW5nVmFsdWUpIHtcblx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXIgd2hhdCBpcyBjb21pbmcgaW4gYW5kIHdoYXQgaXMgZ29pbmcgb3V0XG5cdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSArIDEpO1xuXG5cdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdHJldHVybiBzdGFydGluZ1ZhbHVlICsgMTtcblx0fVxuXHRmdW5jdGlvbiByZW1vdmVBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0XG5cdFx0aWYoc3RhcnRpbmdWYWx1ZSA+IDApIHtcblx0XHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSAtIDEpO1xuXG5cdFx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSAtIDE7XG5cdFx0fSBlbHNlIHJldHVybiAwO1x0XHRcblx0fVxuXHRmdW5jdGlvbiBhZGRGaWxsZWRQYWNrYWdlKG5ld1BhY2thZ2UpIHtcblx0XHQkbG9nLmluZm8oJ2FkZGluZyBhIG5ldyBwYWNrYWdlIG5vdycsIG5ld1BhY2thZ2UpO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUFQYWNrYWdlKHNpemUsIGlkKSB7fVxuXG5cdFxuXHRyZXR1cm4gYWxsQ2FydEVsZW1lbnRzO1xuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnc3RhdGVGYWN0b3J5Jywgc3RhdGVGYWN0b3J5KTtcblxuc3RhdGVGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZUZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgc3RhdGVzRmFjdG9yeSA9IHtcblx0XHRkZWZhdWx0U3RhdGU6IGRlZmF1bHRTdGF0ZSxcblx0XHRidWlsZEJ1dHRvbkxpc3Q6IGJ1aWxkQnV0dG9uTGlzdFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFN0YXRlKHNlY3Rpb24pIHtcblx0XHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgcmV0dXJuT2JqZWN0O1xuXG5cdFx0aWYoc2VjdGlvbj09J3Nob3BwaW5nJykge1xuXHRcdFx0cmV0dXJuT2JqZWN0ID0ge1xuXHRcdFx0XHRhY3RpdmVUYWI6IDAsXG5cdFx0XHRcdGFsbFRhYnM6IHtcblx0XHRcdFx0XHQwOiAncGFja2FnZScsXG5cdFx0XHRcdFx0MTogJ2ZsYXZvcicsXG5cdFx0XHRcdFx0MjogJ2FjY2VzcycsXG5cdFx0XHRcdFx0MzogJ2NoZWNrb3V0J1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRzaXplU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmKHNlY3Rpb249PSdzaG9wcGluZ1Byb2dyZXNzQmFyJykge1xuXHRcdFx0cmV0dXJuT2JqZWN0ID0ge1xuXHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IHRydWVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fSxcblx0XHRcdFx0MToge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQyOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdDM6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gXG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cblx0ZnVuY3Rpb24gYnVpbGRCdXR0b25MaXN0KC8qbGlzdCwgb3B0aW9ucywgc3RhdGVzKi8pIHtcblx0XHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgcmV0dXJuT2JqZWN0ID0ge1xuXHRcdFx0MDoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDE6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6IFwiRHJ1bmtlbiBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDI6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQzOiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0NDoge1xuICAgIFx0XHRcdFwidGl0bGVcIjpcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSwgICAgXHRcdFx0XG4gICAgXHRcdDU6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6XCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sICAgIFx0XHRcdFxuICAgIFx0XHQ2OiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBQZWFudXRzXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9ICAgIFx0XHRcdFxuXHRcdH07XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cblx0cmV0dXJuIHN0YXRlc0ZhY3Rvcnk7XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb25maWcoY29uZmlnKTtcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7ICAgXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAvL2RlZmluZSB0aGUgbGFuZGluZyBwYWdlXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbGFuZGluZ1BhZ2UuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xhbmRpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgc2hvcHBpbmcgcm91dGVzXG4gICAgLndoZW4oJy9zaG9wJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3Nob3BwaW5nLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzaG9wcGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBsb2NhdGlvbnMgcm91dGVzXG4gICAgLndoZW4oJy9sb2NhdGlvbnMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSkgICAgXG4gICAgLndoZW4oJy9sb2NhdGlvbnMvOnN0YXRlJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9sb2NhdGlvbnMvOnN0YXRlLzpyZWdpb24nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgY29udGFjdCByb3V0ZXNcbiAgICAud2hlbignL2NvbnRhY3QnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29udGFjdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KTtcbn1cbiIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2FxdWlzaXRpb25NYW5hZ2VyJywgYXF1aXNpdGlvbk1hbmFnZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGFxdWlzaXRpb25NYW5hZ2VyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2FxdWlzaXRpb25NYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdjYXJ0U3VtbWFyeScsIGNhcnRTdW1tYXJ5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjYXJ0U3VtbWFyeSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jYXJ0U3VtbWFyeS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjYXJ0U3VtbWFyeUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjYXJ0U3VtbWFyeUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjYXJ0U3VtbWFyeUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnY29uZUZpbGxlcicsIGNvbmVGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmVGaWxsZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY29uZUZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjb25lRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbmVGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZUZpbGxlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnZW1haWxIZWxwZXInLCBlbWFpbEhlbHBlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZW1haWxIZWxwZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxIZWxwZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxIZWxwZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxIZWxwZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxIZWxwZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xpc3RPZkZsYXZvcnMnLCBsaXN0T2ZGbGF2b3JzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsaXN0T2ZGbGF2b3JzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xpc3RPZkZsYXZvcnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Zmxhdm9yczogJz0nLFxuXHRcdFx0cGlja0FGbGF2b3I6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsaXN0T2ZGbGF2b3JzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxpc3RPZkZsYXZvcnNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9sb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBzZWxlY3RBQnRuKGluZGV4KSB7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuYXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuc2VsZWN0ZWRQcm9kdWN0Rmxhdm9yID0gdHJ1ZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiB1bnNlbGVjdEFCdG4oaW5kZXgpIHtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5hdmFpbFByb2R1Y3RGbGF2b3IgPSB0cnVlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnVuQXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XHQgICAgXHRcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIG1ha2VCdG5BdmFpbChpbmRleCkge31cblx0ICAgIGZ1bmN0aW9uIG1ha2VCdG5VbkF2YWlsKGluZGV4KSB7fVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2xpY2tBRmxhdm9yID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0ICAgIFx0Ly93aGVuIGEgZmxhdm9yIGlzIGNsaWNrZWQgbXVzdFxuXHQgICAgXHQvL2NoZWNrIGlmIGl0IGlzIGFsbG93ZWQgdG8gYmUgY2xpY2tlZFxuXHQgICAgXHQvL2ZsaXAgdGhlIHNlbGVjdGVkIHN0YXRlXG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLnNlbGVjdGVkID0gIXZtLmZsYXZvcnNbaW5kZXhdLnNlbGVjdGVkO1xuXG5cdCAgICBcdC8vc2V0IHRoZSBjbGFzc1xuXHQgICAgXHRpZih2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZCkgc2VsZWN0QUJ0bihpbmRleCk7XG5cdCAgICBcdGVsc2UgdW5zZWxlY3RBQnRuKGluZGV4KTtcblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNDaHJvbm9WaWV3JywgbG9jYXRpb25zQ2hyb25vVmlldyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlldygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNDaHJvbm9WaWV3LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNNYXBWaWV3JywgbG9jYXRpb25zTWFwVmlldyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zTWFwVmlldygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNNYXBWaWV3LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8qZnVuY3Rpb24gaW5pdE1hcCgpIHtcblx0ICAgICAgICB2YXIgdWx1cnUgPSB7bGF0OiAtMjUuMzYzLCBsbmc6IDEzMS4wNDR9O1xuXHQgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuXHQgICAgICAgICAgem9vbTogNCxcblx0ICAgICAgICAgIGNlbnRlcjogdWx1cnVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdCAgICAgICAgICBwb3NpdGlvbjogdWx1cnUsXG5cdCAgICAgICAgICBtYXA6IG1hcFxuXHQgICAgICAgIH0pO1xuXHQgICAgfSovXG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUaGlzV2VlaycsIGxvY2F0aW9uc1RoaXNXZWVrKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNUaGlzV2VlaygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaGlzV2Vlay5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGltZUZpbHRlcicsIGxvY2F0aW9uc1RpbWVGaWx0ZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVGltZUZpbHRlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVG9kYXknLCBsb2NhdGlvbnNUb2RheSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVG9kYXkoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zVG9kYXkuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2JhY2tlbmRDb21GYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVG9kYXlDb250cm9sbGVyKCRzY29wZSwgJGxvZywgYmFja2VuZENvbUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICB2YXIgYmFja2VuZCA9IGJhY2tlbmRDb21GYWN0b3J5O1xuXG5cdCAgICB2bS50b2RheXNNYXJrZXRzID0gYmFja2VuZC5nZXQoKTtcblxuXHQgICAgY29uc29sZS5sb2codm0udG9kYXlzTWFya2V0cyk7XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGFja2FnaW5nRmlsbGVyJywgcGFja2FnaW5nRmlsbGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcGFja2FnaW5nRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHByaWNpbmc6IFwiPVwiLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJicsXG5cdFx0XHRwcm9kdWN0Rmxhdm9yTGlzdDogXCI9XCIsXG5cdFx0XHRjdXJyZW50bHlGaWxsaW5nOiBcIj1cIixcblx0XHRcdGFkZEZpbGxlZFBhY2thZ2U6IFwiJlwiXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS5xdHkgPSAxO1xuXG5cdCAgICBmdW5jdGlvbiBlcXVhbFNwbGl0KGRpdmlzaW9ucykge1xuXHQgICAgXHRyZXR1cm4gMSAvIGRpdmlzaW9ucztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gYXNzaWduRXF1YWxTcGxpdChlcXVhbFBvcnRpb24pIHtcblxuXHQgICAgXHRPYmplY3Qua2V5cyh2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMuc2VsZWN0ZWQpLmZvckVhY2goZnVuY3Rpb24oZmxhdm9yKSB7XG5cdCAgICBcdFx0XG5cdCAgICBcdFx0aWYodm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnNlbGVjdGVkW2ZsYXZvcl0pXG5cdCAgICBcdFx0XHR2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMucHJvcG9ydGlvbnNbZmxhdm9yXSA9IGVxdWFsUG9ydGlvbjtcblx0ICAgIFx0XHRlbHNlXG5cdCAgICBcdFx0XHR2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMucHJvcG9ydGlvbnNbZmxhdm9yXSA9IDAuMDBcblxuXHQgICAgXHR9KVxuXG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHN1cHBseU1peHR1cmVPYmplY3QoZmxhdm9yUHJvcG9ydGlvbnMpIHtcdFx0Ly9yZWNlaXZlIGFsbCB0aGUgcHJvcHJ0aW9uc1xuXHQgICAgXHQvL2luaXRpYWxpemUgbG9jYWwgdmFyaWFibGVcblx0ICAgIFx0dmFyIHJldHVybk9iamVjdCA9IHt9O1xuXG5cdCAgICBcdC8vY3ljbGUgdGhyb3VnaCBhbGwgdGhlIGZsYXZvcnMsIGlmIHByb3BvcnRpb24gaXMgZ3JlYXQgdGhhbiBcblx0ICAgIFx0T2JqZWN0LmtleXMoZmxhdm9yUHJvcG9ydGlvbnMpLmZvckVhY2goZnVuY3Rpb24oZmxhdm9yKSB7XG5cblx0ICAgIFx0XHRpZihmbGF2b3JQcm9wb3J0aW9uc1tmbGF2b3JdID4gMClcblx0ICAgIFx0XHRcdHJldHVybk9iamVjdFtmbGF2b3JdID0gZmxhdm9yUHJvcG9ydGlvbnNbZmxhdm9yXVxuXG5cdCAgICBcdH0pO1xuXG5cdCAgICBcdHJldHVybiByZXR1cm5PYmplY3RcdFx0Ly9yZXR1cm4gYSBkaXN0aWxsZWQgbGlzdCBvZiBwcm9wb3J0aW9uc1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjaGVja0ZvclBlYW51dHMocGFja2FnaW5nLCBtaXh0dXJlKSB7XG5cblx0ICAgIFx0dmFyIGhhc1BlYW51dHMgPSB1bmRlZmluZWQ7XG5cblx0ICAgIFx0Ly9pcyB0aGlzIGEgbWl4dHVyZSBvciBhIHBsYXR0ZXI/XG5cdCAgICBcdGlmKHBhY2thZ2luZz09J3BsYXR0ZXInKSB7XG5cdCAgICBcdFx0Ly9hIHBsYXR0ZXIgd2l0aCBhdCBsZWFzdCBvbmUgc2VjdGlvbiBvZiBwZWFudXRzIGhhcyBwZWFudXRzXG5cdCAgICBcdFx0aWYobWl4dHVyZS5TUlBlYW51dCA+IDApIGhhc1BlYW51dHMgPSB0cnVlO1xuXHQgICAgXHRcdGVsc2UgaGFzUGVhbnV0cyA9IGZhbHNlO1xuXG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0Ly9hIG1peHR1cmUgbXVzdCBoYXZlIGF0IGxlYXN0IDUwJSBwZWFudXRzIHRvIGJlIGNvbnNpZGVyZWQgcGVhbnV0XG5cdCAgICBcdFx0aWYobWl4dHVyZS5TUlBlYW51dCA+PSAwLjUpIGhhc1BlYW51dHMgPSB0cnVlO1xuXHQgICAgXHRcdGVsc2UgaGFzUGVhbnV0cyA9IGZhbHNlO1xuXHQgICAgXHR9XG5cblx0ICAgIFx0cmV0dXJuIGhhc1BlYW51dHM7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVB1cmNoYXNlUHJpY2UocGFja2FnaW5nLCBtaXh0dXJlKSB7XG5cdCAgICBcdFxuXHQgICAgXHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVcblx0ICAgIFx0dmFyIHNhbGVQcmljZSA9IDA7XG5cdCAgICBcdHZhciBwZWFudXRTdGF0dXMgPSAnd2l0aG91dFBlYW51dHMnO1xuXHQgICAgXHR2YXIgcGVhbnV0U2VjdGlvbnMgPSAwO1xuXG5cdCAgICBcdC8vZGV0ZXJtaW5lIHBlYW51dHMgcHJlc2VuY2UgYW5kIHF0eVxuXHQgICAgXHR2YXIgcGVhbnV0c0FyZVByZXNlbnQgPSBjaGVja0ZvclBlYW51dHMocGFja2FnaW5nLCBtaXh0dXJlKTtcblxuXHQgICAgXHRpZihwZWFudXRzQXJlUHJlc2VudCkge1xuXHQgICAgXHRcdC8vc2V0IHRoZSBvYmplY3QgdmFsdWVcblx0ICAgIFx0XHRwZWFudXRTdGF0dXMgPSAnd2l0aFBlYW51dHMnO1xuXHQgICAgXHRcdC8vY2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgcGVhbnV0IHNlY3Rpb25zXG5cdCAgICBcdFx0cGVhbnV0U2VjdGlvbnMgPSBtaXh0dXJlLlNSUGVhbnV0ICogNDtcblx0ICAgIFx0fVxuXG5cdCAgICBcdC8vcGFja2FnaW5nIGRpZmZlcnMgZm9yIHBsYXR0ZXJzIGFuZCBiYWdzXG5cdCAgICBcdGlmKHBhY2thZ2luZz09J3BsYXR0ZXInKSB7XG5cdCAgICBcdFx0c2FsZVByaWNlID0gdm0ucHJpY2luZ1twZWFudXRTdGF0dXNdW3BhY2thZ2luZ11bcGVhbnV0U2VjdGlvbnNdO1xuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdHNhbGVQcmljZSA9IHZtLnByaWNpbmdbcGVhbnV0U3RhdHVzXVtwYWNrYWdpbmddO1xuXHQgICAgXHR9XG5cblx0ICAgIFx0cmV0dXJuIHNhbGVQcmljZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gY2FsY3VsYXRlSXRlbVN1YnRvdGFsKHBhY2thZ2luZywgbWl4dHVyZSwgcXR5KSB7XG5cblx0ICAgIFx0dmFyIHB1cmNoYXNlUHJpY2UgPSBjYWxjdWxhdGVQdXJjaGFzZVByaWNlKHBhY2thZ2luZywgbWl4dHVyZSk7XG5cblx0ICAgIFx0cmV0dXJuIHB1cmNoYXNlUHJpY2UgKiBxdHk7XG5cdCAgICB9XG5cblx0ICAgIC8vdmlld21vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnBpY2tBRmxhdm9yID0gZnVuY3Rpb24oZmxhdm9yKSB7XG5cblx0ICAgIFx0Ly9maXJzdCBmbGlwIHRoZSBjaGVja2JveFxuXHQgICAgXHR2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMuc2VsZWN0ZWRbZmxhdm9yXSA9ICF2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMuc2VsZWN0ZWRbZmxhdm9yXTtcblxuXHQgICAgXHQvL2luY3JlYXNlIG9yIGRlY3JlYXNlIHRoZSBudW1iZXIgb2YgZmxhdm9ycyBiYXNlZCBvbiB0aGUgc2lnblxuXHQgICAgXHRpZih2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMuc2VsZWN0ZWRbZmxhdm9yXSlcblx0ICAgIFx0XHR2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMubm9PZkZsYXZvcnMrKztcblx0ICAgIFx0ZWxzZVxuXHQgICAgXHRcdHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5ub09mRmxhdm9ycy0tO1xuXG5cdCAgICBcdC8vdGhlbiBmb3IgZXF1YWwgc3BsaXQgY2FsY3VsYXRlIHRoZSBwZXJjZW50YWdlLCBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGZsYXZvcnNcblx0ICAgIFx0dmFyIGVxdWFsUG9ydGlvbnMgPSBlcXVhbFNwbGl0KHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5ub09mRmxhdm9ycyk7XG5cdCAgICBcdGFzc2lnbkVxdWFsU3BsaXQoZXF1YWxQb3J0aW9ucyk7XG5cblx0ICAgIFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0ICAgIFx0JGxvZy5pbmZvKCcjIG9mIEZsYXZvcnMnLCB2bS5jdXJyZW50bHlGaWxsaW5nLmZsYXZvcnMubm9PZkZsYXZvcnMsIFwic3BsaXRcIiwgZXF1YWxQb3J0aW9ucywgJ3Byb3ByaXRpb25zJywgdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLnByb3BvcnRpb25zKTtcblx0ICAgIH1cblxuXHQgICAgdm0uYWRkVG9DYXJ0ID0gZnVuY3Rpb24oKSB7XHRcdC8vYWRkIHRoZSBjdXJyZW50IGl0ZW0gdG8gdGhlIGNhcnRcblx0ICAgIFx0XG5cdCAgICBcdC8vZGlzdGlsbCB0aGUgbWl4dHVyZVxuXHQgICAgXHR2YXIgdGhpc1BhY2thZ2luZyA9IHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nO1xuXHQgICAgXHR2YXIgdGhpc01peHR1cmUgPSBzdXBwbHlNaXh0dXJlT2JqZWN0KHZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycy5wcm9wb3J0aW9ucyk7XG5cdCAgICBcdHZhciB0aGlzUXVhbnRpdHkgPSB2bS5xdHk7XG5cblx0ICAgIFx0Ly9mb3JtYXQgdGhlIG9iamVjdCB0byBiZSBhZGRlZCB0byB0aGUgY2FydFxuXHQgICAgXHR2YXIgbmV3UGFja2FnZSA9IHtcblx0ICAgIFx0XHRzZWxlY3RlZFBhY2thZ2luZzogdGhpc1BhY2thZ2luZyxcblx0ICAgIFx0XHRtaXh0dXJlOiB0aGlzTWl4dHVyZSxcblx0ICAgIFx0XHRxdHk6IHRoaXNRdWFudGl0eSxcblx0ICAgIFx0XHRzdWJ0b3RhdGw6IGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbCh0aGlzUGFja2FnaW5nLCB0aGlzTWl4dHVyZSwgdGhpc1F1YW50aXR5KVxuXHQgICAgXHR9O1xuXG5cdCAgICBcdC8vcGFzcyBpdCB0byB0aGUgY2FydFxuXHQgICAgXHR2bS5hZGRGaWxsZWRQYWNrYWdlKCkobmV3UGFja2FnZSk7XG5cblx0ICAgIFx0Ly90aGVuIG1vdmUgdG8gdGhlIG5leHQgdGFiXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDIpO1xuXHQgICAgfVxuXG5cdCAgICB2bS5kaXNjYXJkQnV0dG9uQ2xpY2tlZCA9IGZ1bmN0aW9uKCkge1x0Ly93aGVuIHRoZSBidG4gaXMgY2xpY2tlZCB0aGlzIGhhcHBlbnNcblx0ICAgIFx0XG5cdCAgICBcdC8vY3VycmVudGx5IGZpbGxpbmcgcGFja2FnZSBzZXQgdG8gdW5kZWZpbmVkXG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gdW5kZWZpbmVkO1xuXG5cdCAgICBcdC8vYWN0aXZlIHRhYiBzd2l0Y2hlZCBiYWNrIHRvIDBcblx0ICAgIFx0dm0uY2hhbmdlVGFiKCkoMCk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwYXltZW50TWFuYWdlcicsIHBheW1lbnRNYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwYXltZW50TWFuYWdlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wYXltZW50TWFuYWdlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnYmFja2VuZENvbUZhY3RvcnknXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBiYWNrZW5kQ29tRmFjdG9yeSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3BsYXR0ZXJGaWxsZXInLCBwbGF0dGVyRmlsbGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwbGF0dGVyRmlsbGVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BsYXR0ZXJGaWxsZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGxhdHRlckZpbGxlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwbGF0dGVyRmlsbGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHBsYXR0ZXJGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3F0eU1hbmFnZXInLCBxdHlNYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBxdHlNYW5hZ2VyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3F0eU1hbmFnZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cXR5OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHF0eU1hbmFnZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcXR5TWFuYWdlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBxdHlNYW5hZ2VyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblxuXHQgICAgdm0uc3VidHJhY3QgPSBmdW5jdGlvbigpIHsgaWYodm0ucXR5ID4gMSkgdm0ucXR5LS07IH1cblx0ICAgIHZtLmFkZCA9IGZ1bmN0aW9uKCkgeyB2bS5xdHkrKzsgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUVtcHRpZXMnLCBzZWVFbXB0aWVzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVFbXB0aWVzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUZ1bGxzJywgc2VlRnVsbHMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlZUZ1bGxzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUZ1bGxzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUZ1bGxzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlZUZ1bGxzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUZ1bGxzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHBhY2thZ2luZ1NlbGVjdGVkOiAnPScsXG5cdFx0XHRyZW1vdmVBU2l6ZTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIC8vYXNzaWduIGEgYmFnIHRvIGJlIGZpbGxlZFxuXHQgICAgdm0uZmlsbEFQYWNrYWdlID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gcGFja2FnaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWtjZWQnLCBwYWNrYWdpbmcsIHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgXHQvL2RlY3JlbWVudCB0aGUgY291bnQgb2YgdGhpcyBwYWNrYWdlIHRoYXQgd2FzIGNsaWNrZWRcblx0ICAgIFx0dm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSA9IHZtLnJlbW92ZUFTaXplKCkodm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RQYWNrYWdpbmcnLCBzZWxlY3RQYWNrYWdpbmcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y3VycmVudGx5RmlsbGluZzogJz0nLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIHZtLnNpemVCdG5DbGlja2VkID0gZnVuY3Rpb24oc2l6ZSkge1xuXG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gc2l6ZTtcblx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBzaXplLCAnLCBzaXplKTtcblxuXHQgICAgXHQvL2NoYW5nZSB0aGUgYWN0aXZlIHRhYlxuXHQgICAgXHR2bS5jaGFuZ2VUYWIoKSgxKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3Nob3BwaW5nUHJvZ3Jlc3NCYXInLCBzaG9wcGluZ1Byb2dyZXNzQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ1Byb2dyZXNzQmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Nob3BwaW5nUHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZlVGFiOiAnPScsXG5cdFx0XHRjaGFuZ2VUYWI6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblx0XHQvL25lZWRzIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBpbiBhY3RpdmUgdGFiLCBhcyBvdGhlciBkaXJlY3RpdmVzXG5cdFx0Ly9jYW4gcHJvbXB0IHRoZXNlIGNoYW5nZXNcblx0XHRzY29wZS4kd2F0Y2goJ3ZtLmFjdGl2ZVRhYicsIGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0XHRcdGNvbnNvbGUubG9nKCd0aGUgdGFiIGNoYW5nZWQnLCBjdXJyZW50LCBuZXh0KTtcblx0XHRcdC8vdXBkYXRlIHN0eWxlc1xuXHQgICAgXHRzY29wZS52bS5jaGFuZ2VUYWJDbGFzcyhuZXh0LCBjdXJyZW50KTtcblxuXHRcdH0pO1xuICAgIH1cblxuICAgIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRmFjdG9yeSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVGYWN0b3J5KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS50YWJzID0gc3RhdGVGYWN0b3J5LmRlZmF1bHRTdGF0ZSgnc2hvcHBpbmdQcm9ncmVzc0JhcicpO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdCAgICB2bS5jaGFuZ2VUYWJDbGFzcyA9IGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0ICAgIFx0Ly91cGRhdGUgc3R5bGVzXG5cdCAgICBcdHZtLnRhYnNbY3VycmVudF0uY2xhc3Nlcy5zcGJ0YWJTZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgXHR2bS50YWJzW25leHRdLmNsYXNzZXMuc3BidGFiU2VsZWN0ZWQgPSB0cnVlO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnRhYkNsaWNrID0gZnVuY3Rpb24odGFiKSB7XG5cblx0ICAgIFx0Ly91cGRhdGUgdGhlIHN0eWxlc1xuXHQgICAgXHR2bS5jaGFuZ2VUYWJDbGFzcyh0YWIsIHZtLmFjdGl2ZVRhYik7XG5cblx0ICAgIFx0Ly91cGRhdGUgcGFyZW50IG1vZGVsXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKHRhYik7XG5cdCAgICB9XG5cdH1cdFxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCd0b29sQmFyJywgdG9vbEJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdG9vbEJhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZENvbUZhY3RvcnknLCBiYWNrZW5kQ29tRmFjdG9yeSk7XG5cbmJhY2tlbmRDb21GYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kQ29tRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldFxuXHR9O1xuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRyZXNvbHZlKCdpdCB3b3JrZWQnKTtcblxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRDb21FbGVtZW50cztcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdmaWxsaW5nc0ZhY3RvcnknLCBmaWxsaW5nc0ZhY3RvcnkpO1xuXG5maWxsaW5nc0ZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGZpbGxpbmdzRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxGaWxsaW5ncyA9IHtcbiAgICBcdHBhY2thZ2luZzogdW5kZWZpbmVkLFxuICAgIFx0Zmxhdm9yczoge1xuICAgIFx0XHQwOiBcIlNlY3JldCBSZWNpcGUgUGVjYW5zXCIsXG4gICAgXHRcdDE6IFwiRHJ1bmtlbiBQZWNhbnNcIixcbiAgICBcdFx0MjogXCJDaW5uYW1vbiBQZWNhbnNcIixcbiAgICBcdFx0MzogXCJTZWNyZXQgUmVjaXBlIEFsbW9uZHNcIixcbiAgICBcdFx0NDogXCJDaW5uYW1vbiBQZWNhbnNcIixcbiAgICBcdFx0NTogXCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcbiAgICBcdFx0NjogXCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIlxuICAgIFx0fVxuICAgIFx0LypmbGF2b3JzOiB7XG4gICAgXHRcdG5vT2ZGbGF2b3JzOiAwLFxuICAgIFx0XHRzZWxlY3RlZDoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHREUlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0Q05QZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdFNSQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRDTkFsbW9uZDogZmFsc2UsXG5cdCAgICBcdFx0U1JDYXNoZXc6IGZhbHNlLFxuXHQgICAgXHRcdFNSUGVhbnV0OiBmYWxzZVxuICAgIFx0XHR9LFxuICAgIFx0XHRwcm9wb3J0aW9uczoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdERSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdENOUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdFNSQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdENOQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdFNSQ2FzaGV3OiAwLjAwLFxuXHQgICAgXHRcdFNSUGVhbnV0OiAwLjAwXG4gICAgXHRcdH1cbiAgICBcdH0sKi9cblxuICAgIH07XG5cdFxuXHRyZXR1cm4gYWxsRmlsbGluZ3M7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgncHJpY2VMaXN0RmFjdG9yeScsIHByaWNlTGlzdEZhY3RvcnkpO1xuXG5wcmljZUxpc3RGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcmljZUxpc3RGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbFByaWNlcyA9IHtcblx0XHR3aXRoUGVhbnV0czoge1xuXHRcdFx0c21hbGw6IDUwMCxcblx0XHRcdG1lZGl1bTogODAwLFxuXHRcdFx0bGFyZ2U6IDExMDAsXG5cdFx0XHRwbGF0dGVyOiB7XG5cdFx0XHRcdDE6IDIwMDAsXG5cdFx0XHRcdDI6IDE4MDAsXG5cdFx0XHRcdDM6IDE2MDAsXG5cdFx0XHRcdDQ6IDE0MDBcblx0XHRcdH1cblx0XHR9LFxuXHRcdHdpdGhvdXRQZWFudXRzOiB7XG5cdFx0XHRzbWFsbDogNzAwLFxuXHRcdFx0bWVkaXVtOiAxMzAwLFxuXHRcdFx0bGFyZ2U6IDE4MDAsXG5cdFx0XHRwbGF0dGVyOiB7XG5cdFx0XHRcdDA6IDIyMDBcblx0XHRcdH1cdFx0XHRcblx0XHR9XG5cdH07XG5cdFxuXHRyZXR1cm4gYWxsUHJpY2VzO1xuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3Nob3BwaW5nQ2FydHNGYWN0b3J5Jywgc2hvcHBpbmdDYXJ0c0ZhY3RvcnkpO1xuXG5zaG9wcGluZ0NhcnRzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdDYXJ0c0ZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgYWxsQ2FydEVsZW1lbnRzID0ge1xuXHRcdHNlbGVjdGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IDAsXG5cdFx0XHRtZWRpdW1zOiAwLFxuXHRcdFx0bGFyZ2VzOiAwLFxuXHRcdFx0cGxhdHRlcnM6IDBcblx0XHR9LFxuXHRcdGZpbGxlZFBhY2thZ2luZzoge1xuXHRcdFx0c21hbGxzOiB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdG1lZGl1bXM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdGxhcmdlczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0cGxhdHRlcnM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y29zdDoge1xuXHRcdFx0c3VidG90YWw6IDAsXG5cdFx0XHR0YXhlczogMCxcblx0XHRcdGRpc2NvdW50czogMFxuXHRcdH0sXG5cdFx0YWRkQVNpemU6IGFkZEFTaXplLFxuXHRcdHJlbW92ZUFTaXplOiByZW1vdmVBU2l6ZSxcblx0XHRhZGRGaWxsZWRQYWNrYWdlOiBhZGRGaWxsZWRQYWNrYWdlLFxuXHRcdHJlbW92ZUFQYWNrYWdlOiByZW1vdmVBUGFja2FnZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGFkZEFTaXplKHN0YXJ0aW5nVmFsdWUpIHtcblx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXIgd2hhdCBpcyBjb21pbmcgaW4gYW5kIHdoYXQgaXMgZ29pbmcgb3V0XG5cdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSArIDEpO1xuXG5cdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdHJldHVybiBzdGFydGluZ1ZhbHVlICsgMTtcblx0fVxuXHRmdW5jdGlvbiByZW1vdmVBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0XG5cdFx0aWYoc3RhcnRpbmdWYWx1ZSA+IDApIHtcblx0XHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdFx0JGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSAtIDEpO1xuXG5cdFx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSAtIDE7XG5cdFx0fSBlbHNlIHJldHVybiAwO1x0XHRcblx0fVxuXHRmdW5jdGlvbiBhZGRGaWxsZWRQYWNrYWdlKG5ld1BhY2thZ2UpIHtcblx0XHQkbG9nLmluZm8oJ2FkZGluZyBhIG5ldyBwYWNrYWdlIG5vdycsIG5ld1BhY2thZ2UpO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUFQYWNrYWdlKHNpemUsIGlkKSB7fVxuXG5cdFxuXHRyZXR1cm4gYWxsQ2FydEVsZW1lbnRzO1xuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3N0YXRlRmFjdG9yeScsIHN0YXRlRmFjdG9yeSk7XG5cbnN0YXRlRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGVGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIHN0YXRlc0ZhY3RvcnkgPSB7XG5cdFx0ZGVmYXVsdFN0YXRlOiBkZWZhdWx0U3RhdGUsXG5cdFx0YnVpbGRCdXR0b25MaXN0OiBidWlsZEJ1dHRvbkxpc3Rcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTdGF0ZShzZWN0aW9uKSB7XG5cdFx0Ly9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHJldHVybk9iamVjdDtcblxuXHRcdGlmKHNlY3Rpb249PSdzaG9wcGluZycpIHtcblx0XHRcdHJldHVybk9iamVjdCA9IHtcblx0XHRcdFx0YWN0aXZlVGFiOiAwLFxuXHRcdFx0XHRhbGxUYWJzOiB7XG5cdFx0XHRcdFx0MDogJ3BhY2thZ2UnLFxuXHRcdFx0XHRcdDE6ICdmbGF2b3InLFxuXHRcdFx0XHRcdDI6ICdhY2Nlc3MnLFxuXHRcdFx0XHRcdDM6ICdjaGVja291dCdcblx0XHRcdFx0fSxcblx0XHRcdFx0c2l6ZVNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZihzZWN0aW9uPT0nc2hvcHBpbmdQcm9ncmVzc0JhcicpIHtcblx0XHRcdHJldHVybk9iamVjdCA9IHtcblx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiB0cnVlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fSxcblx0XHRcdFx0Mjoge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQzOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IFxuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ1aWxkQnV0dG9uTGlzdCgvKmxpc3QsIG9wdGlvbnMsIHN0YXRlcyovKSB7XG5cdFx0Ly9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHtcblx0XHRcdDA6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3JldCBSZWNpcGUgUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQxOiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOiBcIkRydW5rZW4gUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQyOiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0Mzoge1xuICAgIFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIEFsbW9uZHNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDQ6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6XCJDaW5uYW1vbiBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sICAgIFx0XHRcdFxuICAgIFx0XHQ1OiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBDYXNoZXdzXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCAgICBcdFx0XHRcbiAgICBcdFx0Njoge1xuICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSAgICBcdFx0XHRcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG5cdHJldHVybiBzdGF0ZXNGYWN0b3J5O1xuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBzaG9wcGluZyByb3V0ZXNcbiAgICAud2hlbignL3Nob3AnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc2hvcHBpbmcuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Nob3BwaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIGxvY2F0aW9ucyByb3V0ZXNcbiAgICAud2hlbignL2xvY2F0aW9ucycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KSAgICBcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2xvY2F0aW9ucy86c3RhdGUvOnJlZ2lvbicsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2NhdGlvbnMuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xvY2F0aW9uc0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBjb250YWN0IHJvdXRlc1xuICAgIC53aGVuKCcvY29udGFjdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jb250YWN0Lmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0Q29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuIiwiLy8gTU9EVUxFXG52YXIgYWhOdXRzV2ViQXBwID0gYW5ndWxhci5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcsIFsnbmdSb3V0ZSddKTtcblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
