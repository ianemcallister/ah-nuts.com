"use strict";function adminController(e,t,o){function n(e){return fetch(e)}function r(e){return n(e).then(function(e){return e.json()})}var i=this;i.testText={},r("/api/get/list/regions").then(function(t){e.info(t),i.testText=t})["catch"](function(t){e.info("got this error",t)})}function contactController(e,t){var o=this;o.returnHome=function(o){var n="/";e.info("redirecting to: "+n),t.path(n)}}function landingController(e,t,o){function n(){}var r=this;r.navButtonClicked=function(t){var n="/"+t;e.info("redirecting to: "+n),o.path(n)},n()}function locationsController(e,t,o,n,r){var i=this;i.locationsModel=n,i.selectedLocation={state:t.state,region:t.region},i.state=r.state(t.state,i.locationsModel),e.info("locationsModel",i.locationsModel),i.locationRedirect=function(e,t){var n="locations/";n+=e,o.path(n)}}function shoppingController(e,t,o,n,r){var i=this;i.currentlyFilling=o,i.cart=t,i.priceList=n,i.currentState=r.defaultState("shopping"),i.currentState.flavorsBtnList=r.buildButtonList(),i.updateSelectedTab=function(t){i.currentState.activeTab=t,e.info("changing to tab",i.currentState.activeTab)}}function shoppingReceiptController(e){}function aquisitionManager(){function e(e,t,o,n){}function t(e,t){var o=this;o.methodClicked=function(e){var t="";o.state.buttons.aquisition.addressed=!0,o.state.buttons.aquisition[e].selected=!0,o.state.buttons.aquisition[e].classes["glyphicon-ok"]=!0,t="pickup"==e?"ship":"pickup",o.state.buttons.aquisition[t].selected=!1,o.state.buttons.aquisition[t].classes["glyphicon-ok"]=!1}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/aquisitionManager.directive.htm",replace:!0,scope:{state:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function cartSummary(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/cartSummary.directive.htm",replace:!0,scope:{cart:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function coneFiller(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/coneFiller.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function emailHelper(){function e(e,t,o,n){}function t(e,t){function o(e,t){var o=!1;return e.length>=t&&(o=!0),o}var n=this;n.answers={name:{attempted:!1,value:""},email:{attempted:!1,value:""},message:{attempted:!1,value:""}},n.form={name:{error:{display:!1,message:"This is a test"},classes:{}},email:{error:{display:!1,message:"This is a test"},classes:{}},message:{error:{display:!1,message:"This is a test"},classes:{}},btn:{classes:{"btn-primary":!1,"btn-warning":!0,"btn-success":!1}}},n.checkName=function(e){},n.nameAttempt=function(e){n.answers.name.attempted=!0,o(e,3)?t.info("good check"):t.info("too short")},n.submitMessage=function(){n.redirect("")}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/emailHelper.directive.htm",replace:!0,scope:{redirect:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function errorMessage(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/errorMessage.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function listOfFlavors(){function e(e,t,o,n){}function t(e,t){function o(e){r.flavors[e].classes.availProductFlavor=!1,r.flavors[e].classes.selectedProductFlavor=!0,r.flavors[e].classes.unAvailProductFlavor=!1}function n(e){r.flavors[e].classes.availProductFlavor=!0,r.flavors[e].classes.selectedProductFlavor=!1,r.flavors[e].classes.unAvailProductFlavor=!1}var r=this;r.clickANut=function(e,i){t.info("clicking",e,i),e>=10&&(e=e/10-1);var a=!1;r.flavors[e].selected=!r.flavors[e].selected,r.flavors[e].selected?(o(e),a=!0):n(e),r.pickAFlavor()(e,a)},r.test=function(){t.info("click Test")}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/listOfFlavors.directive.htm",replace:!0,scope:{flavors:"=",pickAFlavor:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsChronoView(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsChronoView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsMapView(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsMapView.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsThisWeek(){function e(e,t,o,n){}function t(e,t,o){function n(){var e=new Date,t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)}var r=this;r.locationsThisWeek=o.weekly(r.locations,n())}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsThisWeek.directive.htm",replace:!0,scope:{locations:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","locationsFilter"],o}function locationsTimeFilter(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsTimeFilter.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function locationsToday(){function e(e,t,o,n){}function t(e,t){function o(e){var o=[];return Object.keys(e).forEach(function(n){var i=e[n];Object.keys(i).forEach(function(e){var n=i[e],a=new Date,c=a.getDay();if(t.info("weekeday",c),n.weekday==c){r.eventsToday=!0;var l={start:"64800000",end:"64800000",name:n.name,address:"147 W. Center Street, Anaheim"};o.push(l)}})}),o}function n(){r.eventsList=o(r.selectedLocation),r.todaysDate=new Date,t.info(r.todaysDate)}var r=this;r.eventsToday=!1,t.info("vm.selectedLocation",r.selectedLocation),n()}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/locationsToday.directive.htm",replace:!0,scope:{selectedLocation:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function packagingFiller(){function e(e,t,o,n){}function t(e,t){function o(){a.state.packaging.selected=!1,a.state.packaging.size=void 0,a.state.packaging.flavors=0,a.state.packaging.mix={},Object.keys(a.state.buttons.flavorList).forEach(function(e){a.state.buttons.flavorList[e].selected=!1,a.state.buttons.flavorList[e].classes.availProductFlavor=!0,a.state.buttons.flavorList[e].classes.unAvailProductFlavor=!1,a.state.buttons.flavorList[e].classes.selectedProductFlavor=!1})}function n(e){return 1/e}function r(e){e?a.state.packaging.flavors++:a.state.packaging.flavors--}function i(e,t){var o=e.toString();t?(Object.keys(a.state.packaging.mix).forEach(function(e){a.state.packaging.mix[e]=n(a.state.packaging.flavors)}),a.state.packaging.mix[o]=n(a.state.packaging.flavors)):(Object.keys(a.state.packaging.mix).forEach(function(e){a.state.packaging.mix[e]=n(a.state.packaging.flavors)}),delete a.state.packaging.mix[o])}var a=this;a.qty=1,a.pickAFlavor=function(e,t){r(t),i(e,t)},a.addToCart=function(e){var t=a.state.packaging.size,n=a.state.packaging.mix,r=a.qty,i=a.pricing.calculatePurchasePrice(a.state.packaging,a.pricing),c=a.pricing.buildDescription(a.state.packaging,a.pricing),l={description:c,packaging:t,flavors:n,qty:r,cost:i};a.cart.items.push(a.addFilledPackage()(l)),o(),e?a.changeTab()(2):a.changeTab()(0)},a.discardButtonClicked=function(){o(),a.changeTab()(0)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/packagingFiller.directive.htm",replace:!0,scope:{cart:"=",pricing:"=",changeTab:"&",state:"=",addFilledPackage:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function paymentManager(){function e(e,t,o,n){}function t(e,t,o){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/paymentManager.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","backendComFactory"],o}function platterFiller(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/platterFiller.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function qtyManager(){function e(e,t,o,n){}function t(e,t){var o=this;o.subtract=function(){o.qty>1&&o.qty--},o.add=function(){o.qty++}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/qtyManager.directive.htm",replace:!0,scope:{qty:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function regionFinder(){function e(e,t,o,n){}function t(e,t){var o=this,n=[];o.selectState=function(e){Object.keys(o.states).forEach(function(e){n.push(e)});var r=n[e];t.info("selectedState:",r),o.locationRedirect()(r)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/regionFinder.directive.htm",replace:!0,scope:{locationRedirect:"&",states:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeEmpties(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeEmpties.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function seeFulls(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/seeFulls.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectFlavors(){function e(e,t,o,n){}function t(e,t){var o=this;o.fillAPackage=function(e){o.currentlyFilling.packaging=e},o.sizeBtnClicked=function(e){t.info("clikced",e,o.packagingSelected[e]),o.packagingSelected[e]=o.removeASize()(o.packagingSelected[e])}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectFlavors.directive.htm",replace:!0,scope:{packagingSelected:"=",removeASize:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function selectPackaging(){function e(e,t,o,n){}function t(e,t){var o=this;o.sizeBtnClicked=function(e){o.state.packaging.selected=!0,o.state.packaging.size=e,t.info("got this size, ",o.pricing.packaging[e].title),o.changeTab()(1)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/selectPackaging.directive.htm",replace:!0,scope:{state:"=",pricing:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function shippingOptions(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/shippingOptions.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function shoppingProgressBar(){function e(e,t,o,n){e.$watch("vm.activeTab",function(t,o){e.vm.changeTabClass(t,o)})}function t(e,t,o){var n=this;n.tabs=o.defaultState("shoppingProgressBar"),n.changeTabClass=function(e,t){n.tabs[t].classes.spbtabSelected=!1,n.tabs[e].classes.spbtabSelected=!0},n.tabClick=function(e){n.changeTabClass(e,n.activeTab),n.changeTab()(e)}}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/shoppingProgressBar.directive.htm",replace:!0,scope:{activeTab:"=",changeTab:"&"},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log","stateFactory"],o}function toolBar(){function e(e,t,o,n){}function t(e,t){}e.$inject=["scope","el","attr","ctrl"];var o={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:e,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$scope","$log"],o}function backend(e,t){function o(e){return fetch(e)}function n(e){return o(e).then(function(e){return e.json()})}function r(){return new Promise(function(e,t){})}function i(){return new Promise(function(t,o){n("/api/get/list/regions").then(function(e){t(e)})["catch"](function(t){e.info("error:",t),o(t)})})}var a={get:r,getLocations:i};return a}function dataServices(e){var t={};return t}function fillingsFactory(e){var t={packaging:void 0,flavors:{0:"Secret Recipe Pecans",1:"Drunken Pecans",2:"Cinnamon Pecans",3:"Secret Recipe Almonds",4:"Cinnamon Almonds",5:"Secret Recipe Cashews",6:"Secret Recipe Peanuts"},types:{0:"Pecans",1:"Pecans",2:"Pecans",3:"Almonds",4:"Almonds",5:"Cashews",6:"Peanuts"},recipies:{0:"Secret Recipe",1:"Drunken",2:"Cinnamon",3:"Secret Recipe",4:"Cinnamon",5:"Secret Recipe",6:"Secret Recipe"}};return t}function locationsFilter(e){function t(e,t){return["test","testing","awesome"]}var o={weekly:t};return o}function locationsState(e){function t(e,t){return void 0!=e?(o.regionFinder.visable=!1,o.locationLabel.visable=!0,o.everyDayLocations.visable=!1,o.eventsAndMarkets.visable=!0,o.locationsToday.visable=!0,o.locationsThisWeek.visable=!0,o.locationsChronoView.visable=!1):(o.regionFinder.visable=!0,o.locationLabel.visable=!1,o.everyDayLocations.visable=!1,o.eventsAndMarkets.visable=!1,o.locationsToday.visable=!1,o.locationsThisWeek.visable=!1,o.locationsChronoView.visable=!1),o}var o={regionFinder:{visable:!0},locationLabel:{visable:!1},everyDayLocations:{visable:!1},eventsAndMarkets:{visable:!1},locationsToday:{visable:!1},locationsThisWeek:{visable:!1},locationsChronoView:{visable:!1},state:t};return o}function priceListFactory(e){function t(t,o){var n,r={},i=0;return e.info("mix",o),Object.keys(o).forEach(function(e){r[t[e]]=!0}),Object.keys(r).forEach(function(e){i++,n=e}),i>1&&(n="undefined"!=typeof o[6]&&o[6]>=.5?"Peanut Mix":"Mix"),n}function o(e,t){var o,n={},r=[];switch(Object.keys(t).forEach(function(t){n[e[t]]=!0}),Object.keys(n).forEach(function(e){r.push(e)}),r.length){case 1:o=r[0];break;case 2:o=r[0]+" & "+r[1];break;case 3:o=r[0]+", "+r[1]+" & "+r[2]}return o}function n(e,t){var o=0;if("undefined"==typeof e.mix[6])o=e.size>2?t.withoutPeanuts[e.size.toString()][0]:t.withoutPeanuts[e.size.toString()];else if(e.size>2){var n=4*e.mix[6];o=t.withPeanuts[e.size.toString()][n.toString()]}else o=e.mix[6]>=.5?t.withPeanuts[e.size.toString()]:t.withoutPeanuts[e.size.toString()];return o}function r(e,n){var r="";return r+=n.packaging[e.size.toString()].title,r+=": ",r+=t(n.types,e.mix),r+=" (",r+=o(n.recipies,e.mix),r+=")"}var i={packaging:{0:{title:"Small",volume:4,compartments:1,maxFlavors:100},1:{title:"Average",volume:8,compartments:1,maxFlavors:100},2:{title:"Impressive",volume:16,compartments:1,maxFlavors:100},3:{title:"Platter",volume:20,compartments:4,maxFlavors:4}},flavors:{0:"Secret Recipe Pecans",1:"Drunken Pecans",2:"Cinnamon Pecans",3:"Secret Recipe Almonds",4:"Cinnamon Almonds",5:"Secret Recipe Cashews",6:"Secret Recipe Peanuts"},types:{0:"Pecans",1:"Pecans",2:"Pecans",3:"Almonds",4:"Almonds",5:"Cashews",6:"Peanuts"},recipies:{0:"Secret Recipe",1:"Drunken",2:"Cinnamon",3:"Secret Recipe",4:"Cinnamon",5:"Secret Recipe",6:"Secret Recipe"},withPeanuts:{0:500,1:800,2:1100,3:{1:2e3,2:1800,3:1600,4:1400}},withoutPeanuts:{0:700,1:1300,2:1800,3:{0:2200}},_distillType:t,_distillFlavors:o,calculatePurchasePrice:n,buildDescription:r};return i}function shoppingCartsFactory(e){function t(e){return e+1}function o(e){return e>0?e-1:0}function n(t){return e.info("adding a new package now",t),t}function r(e,t){}function i(e){var t=(e.cost*e.qty/100).toFixed(2);return t}function a(e){var t=0;return e.forEach(function(e){t+=e.cost*e.qty/100}),t.toFixed(2)}var c={items:[],cost:{subtotal:3500,taxes:0,discounts:0,shipping:{}},addASize:t,removeASize:o,addFilledPackage:n,removeAPackage:r,calculateItemSubtotal:i,calculateTotalCost:a};return c}function stateFactory(e){function t(e){var t;return"shopping"==e?t={activeTab:0,allTabs:{0:"package",1:"flavor",2:"access",3:"checkout"},packaging:{selected:!1,size:void 0,flavors:0,mix:{},cost:0},buttons:{typeList:{0:{type:"Pecans",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:3,flavors:{0:{recipe:"SR",selected:!1},1:{recipe:"Drunk",selected:!1},2:{recipe:"Cinn",selected:!1}}},1:{type:"Almonds",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:2,flavors:{0:{recipe:"SR",selected:!1},1:{recipe:"Cinn",selected:!1}}},2:{type:"Cashews",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:1,flavors:{0:{recipe:"SR",selected:!1}}},3:{type:"Peanuts",selected:!1,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1},recipies:1,flavors:{0:{recipe:"SR",selected:!1}}}},flavorList:{0:{title:"Secret Recipe Pecans",type:"Pecans",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},1:{title:"Drunken Pecans",type:"Pecans",recipe:"Drunken",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},2:{title:"Cinnamon Pecans",type:"Pecans",recipe:"Cinnamon",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},3:{title:"Secret Recipe Almonds",type:"Almonds",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},4:{title:"Cinnamon Almonds",type:"Almonds",recipe:"Cinnamon",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},5:{title:"Secret Recipe Cashews",type:"Cashews",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},6:{title:"Secret Recipe Peanuts",type:"Peanuts",recipe:"Secret Recipe",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}}},aquisition:{addressed:!1,pickup:{selected:!1,classes:{glyphicon:!0,"glyphicon-ok":!1}},ship:{selected:!1,classes:{glyphicon:!0,"glyphicon-ok":!1}}}}}:"shoppingProgressBar"==e&&(t={0:{classes:{spbtabSelected:!0},styles:{}},1:{classes:{spbtabSelected:!1},styles:{}},2:{classes:{spbtabSelected:!1},styles:{}},3:{classes:{spbtabSelected:!1},styles:{}}}),t}function o(){var e={0:{title:"Secret Recipe Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},1:{title:"Drunken Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},2:{title:"Cinnamon Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},3:{title:"Secret Recipe Almonds",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},4:{title:"Cinnamon Pecans",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},5:{title:"Secret Recipe Cashews",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}},6:{title:"Secret Recipe Peanuts",selected:!1,proportion:0,classes:{availProductFlavor:!0,unAvailProductFlavor:!1,selectedProductFlavor:!1}}};return e}var n={defaultState:t,buildButtonList:o};return n}function config(e){e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/shop",{templateUrl:"views/shopping.htm",controller:"shoppingController",controllerAs:"vm"}).when("/shop/receipt",{templateUrl:"views/orderReceipt.htm",controller:"shoppingReceiptController",controllerAs:"vm"}).when("/locations",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm",resolve:{locationsModel:loadLocationsModel}}).when("/locations/:state",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm",resolve:{locationsModel:loadLocationsModel}}).when("/locations/:state/:region",{templateUrl:"views/locations.htm",controller:"locationsController",controllerAs:"vm",resolve:{locationsModel:loadLocationsModel}}).when("/contact",{templateUrl:"views/contact.htm",controller:"contactController",controllerAs:"vm"}).when("/admin/server/test",{templateUrl:"views/admin.htm",controller:"adminController",controllerAs:"vm"})}function loadLocationsModel(e){return console.log("trying to load location model"),new Promise(function(t,o){e.getList("states").then(function(e){t(e)})["catch"](function(e){o("an error occured",e)})})}function firebase(e){this.test=function(){e.info("in firebase"),e.info(AH_NUTS_FB_APIKEY),e.info("got here in firebase")},this.init=function(){var e={apiKey:AH_NUTS_FB_APIKEY,authDomain:AH_NUTS_FB_AUTHDOMAIN,databaseURL:AH_NUTS_FB_DATABASEURL,storageBucket:AH_NUTS_FB_STORAGEBUCKET};firebase.initializeApp(e)}}function locationData(e,t,o){var n={states:0},r=[];this.set=function(e,t){this[e]=t},this.download=function(){var e=this;return new Promise(function(o,n){t.getLocations().then(function(t){e.set("_raw",t),e.set("_states",["California","Oregon"]),o(t)})["catch"](function(e){})})},this.getStates=function(){return r},this.getList=function(t){var o=this;switch(n[t]){case 0:return 0===r.length?new Promise(function(e,t){e(o.download())}):new Promise(function(e,t){e(o.getStates())});default:e.info("got the default case")}}}config.$inject=["$routeProvider"],loadLocationsModel.$inject=["locationData"];var ahNutsWebApp=angular.module("ahNutsWebApp",["ngRoute"]);angular.module("ahNutsWebApp").controller("adminController",adminController),adminController.$inject=["$log","$location"],angular.module("ahNutsWebApp").controller("contactController",contactController),contactController.$inject=["$log","$location"],angular.module("ahNutsWebApp").controller("landingController",landingController),landingController.$inject=["$log","$routeParams","$location"],angular.module("ahNutsWebApp").controller("locationsController",locationsController),locationsController.$inject=["$log","$routeParams","$location","locationsModel","locationsState"],angular.module("ahNutsWebApp").controller("shoppingController",shoppingController),shoppingController.$inject=["$log","shoppingCartsFactory","fillingsFactory","priceListFactory","stateFactory"],angular.module("ahNutsWebApp").controller("shoppingReceiptController",shoppingReceiptController),shoppingReceiptController.$inject=["$log"],angular.module("ahNutsWebApp").directive("aquisitionManager",aquisitionManager),angular.module("ahNutsWebApp").directive("cartSummary",cartSummary),angular.module("ahNutsWebApp").directive("coneFiller",coneFiller),angular.module("ahNutsWebApp").directive("emailHelper",emailHelper),angular.module("ahNutsWebApp").directive("errorMessage",errorMessage),angular.module("ahNutsWebApp").directive("listOfFlavors",listOfFlavors),angular.module("ahNutsWebApp").directive("locationsChronoView",locationsChronoView),angular.module("ahNutsWebApp").directive("locationsMapView",locationsMapView),angular.module("ahNutsWebApp").directive("locationsThisWeek",locationsThisWeek),angular.module("ahNutsWebApp").directive("locationsTimeFilter",locationsTimeFilter),angular.module("ahNutsWebApp").directive("locationsToday",locationsToday),angular.module("ahNutsWebApp").directive("packagingFiller",packagingFiller),angular.module("ahNutsWebApp").directive("paymentManager",paymentManager),angular.module("ahNutsWebApp").directive("platterFiller",platterFiller),angular.module("ahNutsWebApp").directive("qtyManager",qtyManager),angular.module("ahNutsWebApp").directive("regionFinder",regionFinder),angular.module("ahNutsWebApp").directive("seeEmpties",seeEmpties),angular.module("ahNutsWebApp").directive("seeFulls",seeFulls),angular.module("ahNutsWebApp").directive("selectFlavors",selectFlavors),angular.module("ahNutsWebApp").directive("selectPackaging",selectPackaging),angular.module("ahNutsWebApp").directive("shippingOptions",shippingOptions),angular.module("ahNutsWebApp").directive("shoppingProgressBar",shoppingProgressBar),angular.module("ahNutsWebApp").directive("toolBar",toolBar),angular.module("ahNutsWebApp").factory("backend",backend),backend.$inject=["$log","$http","firebase"],angular.module("ahNutsWebApp").factory("dataServices",dataServices),dataServices.$inject=["$log"],angular.module("ahNutsWebApp").factory("fillingsFactory",fillingsFactory),fillingsFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("locationsFilter",locationsFilter),locationsFilter.$inject=["$log"],angular.module("ahNutsWebApp").factory("locationsState",locationsState),locationsState.$inject=["$log"],angular.module("ahNutsWebApp").factory("priceListFactory",priceListFactory),priceListFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("shoppingCartsFactory",shoppingCartsFactory),shoppingCartsFactory.$inject=["$log"],angular.module("ahNutsWebApp").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("ahNutsWebApp").config(config),angular.module("ahNutsWebApp").service("firebase",firebase),firebase.$inject=["$log"],angular.module("ahNutsWebApp").service("locationData",locationData),locationData.$inject=["$log","backend","firebase"];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1bmRsZS5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvYWRtaW4uY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvY29udGFjdC5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sYW5kaW5nLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xvY2F0aW9ucy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zaG9wcGluZ1JlY2VpcHQuY29udHJvbGxlci5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9hcXVpc2l0aW9uTWFuYWdlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2FydFN1bW1hcnkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NvbmVGaWxsZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsSGVscGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9lcnJvck1lc3NhZ2UuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xpc3RPZkZsYXZvcnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvY2F0aW9uc0Nocm9ub1ZpZXcuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvY2F0aW9uc01hcFZpZXcuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RoaXNXZWVrLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2NhdGlvbnNUb2RheS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcGFja2FnaW5nRmlsbGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9wYXltZW50TWFuYWdlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcGxhdHRlckZpbGxlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcXR5TWFuYWdlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcmVnaW9uRmluZGVyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zZWVFbXB0aWVzLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zZWVGdWxscy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VsZWN0Rmxhdm9ycy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2VsZWN0UGFja2FnaW5nLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaGlwcGluZ09wdGlvbnMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Nob3BwaW5nUHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Rvb2xiYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvYmFja2VuZENvbS5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvZGF0YVNlcnZpY2VzLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9maWxsaW5ncy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvbG9jYXRpb25zRmlsdGVyLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9sb2NhdGlvbnNTdGF0ZS5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvcHJpY2VMaXN0cy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvc2hvcHBpbmdDYXJ0cy5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvc3RhdGUuZmFjdG9yeS5qcyIsInNjcmlwdHMvcm91dGVzL3JvdXRlLWNvbmZpZy5qcyIsInNjcmlwdHMvc2VydmljZS9maXJlYmFzZS5zZXJ2aWNlLmpzIiwic2NyaXB0cy9zZXJ2aWNlL2xvY2F0aW9uRGF0YS5zZXJ2aWNlLmpzIiwic2NyaXB0cy9hcHAuanMiXSwibmFtZXMiOlsiYWRtaW5Db250cm9sbGVyIiwiJGxvZyIsIiRsb2NhdGlvbiIsIiRodHRwIiwiX2dldCIsInVybCIsImZldGNoIiwiX2dldEpTT04iLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwidm0iLCJ0aGlzIiwidGVzdFRleHQiLCJpbmZvIiwiZSIsImNvbnRhY3RDb250cm9sbGVyIiwicmV0dXJuSG9tZSIsInBhcmFtIiwiZnVsbFBhdGgiLCJwYXRoIiwibGFuZGluZ0NvbnRyb2xsZXIiLCIkcm91dGVQYXJhbXMiLCJpbml0IiwibmF2QnV0dG9uQ2xpY2tlZCIsImxvY2F0aW9uc0NvbnRyb2xsZXIiLCJsb2NhdGlvbnNNb2RlbCIsImxvY2F0aW9uc1N0YXRlIiwic2VsZWN0ZWRMb2NhdGlvbiIsInN0YXRlIiwicmVnaW9uIiwibG9jYXRpb25SZWRpcmVjdCIsInNob3BwaW5nQ29udHJvbGxlciIsInNob3BwaW5nQ2FydHNGYWN0b3J5IiwiZmlsbGluZ3NGYWN0b3J5IiwicHJpY2VMaXN0RmFjdG9yeSIsInN0YXRlRmFjdG9yeSIsImN1cnJlbnRseUZpbGxpbmciLCJjYXJ0IiwicHJpY2VMaXN0IiwiY3VycmVudFN0YXRlIiwiZGVmYXVsdFN0YXRlIiwiZmxhdm9yc0J0bkxpc3QiLCJidWlsZEJ1dHRvbkxpc3QiLCJ1cGRhdGVTZWxlY3RlZFRhYiIsInRhYiIsImFjdGl2ZVRhYiIsInNob3BwaW5nUmVjZWlwdENvbnRyb2xsZXIiLCJhcXVpc2l0aW9uTWFuYWdlciIsImxpbmtGdW5jIiwic2NvcGUiLCJlbCIsImF0dHIiLCJjdHJsIiwiYXF1aXNpdGlvbk1hbmFnZXJDb250cm9sbGVyIiwiJHNjb3BlIiwibWV0aG9kQ2xpY2tlZCIsIm1ldGhvZCIsIm9wcG9zaXRlIiwiYnV0dG9ucyIsImFxdWlzaXRpb24iLCJhZGRyZXNzZWQiLCJzZWxlY3RlZCIsImNsYXNzZXMiLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInJlcGxhY2UiLCJjaGFuZ2VUYWIiLCJsaW5rIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJjYXJ0U3VtbWFyeSIsImNhcnRTdW1tYXJ5Q29udHJvbGxlciIsImNvbmVGaWxsZXIiLCJjb25lRmlsbGVyQ29udHJvbGxlciIsImVtYWlsSGVscGVyIiwiZW1haWxIZWxwZXJDb250cm9sbGVyIiwibGVuZ3RoQ2hlY2tlciIsInN0cmluZyIsInJlcXVpcmVkIiwidHJ1ZU9yRmFsc2UiLCJsZW5ndGgiLCJhbnN3ZXJzIiwibmFtZSIsImF0dGVtcHRlZCIsInZhbHVlIiwiZW1haWwiLCJtZXNzYWdlIiwiZm9ybSIsImVycm9yIiwiZGlzcGxheSIsImJ0biIsImJ0bi1wcmltYXJ5IiwiYnRuLXdhcm5pbmciLCJidG4tc3VjY2VzcyIsImNoZWNrTmFtZSIsIm5hbWVBdHRlbXB0Iiwic3VibWl0TWVzc2FnZSIsInJlZGlyZWN0IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JNZXNzYWdlQ29udHJvbGxlciIsImxpc3RPZkZsYXZvcnMiLCJsaXN0T2ZGbGF2b3JzQ29udHJvbGxlciIsInNlbGVjdEFCdG4iLCJpbmRleCIsImZsYXZvcnMiLCJhdmFpbFByb2R1Y3RGbGF2b3IiLCJzZWxlY3RlZFByb2R1Y3RGbGF2b3IiLCJ1bkF2YWlsUHJvZHVjdEZsYXZvciIsInVuc2VsZWN0QUJ0biIsImNsaWNrQU51dCIsInJlY2lwZSIsImFkZGluZyIsInBpY2tBRmxhdm9yIiwidGVzdCIsImxvY2F0aW9uc0Nocm9ub1ZpZXciLCJsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlciIsImxvY2F0aW9uc01hcFZpZXciLCJsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlciIsImxvY2F0aW9uc1RoaXNXZWVrIiwibG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyIiwibG9jYXRpb25zRmlsdGVyIiwiZ2V0V2VlayIsInRvZGF5IiwiRGF0ZSIsIm9uZWphbiIsImdldEZ1bGxZZWFyIiwiTWF0aCIsImNlaWwiLCJnZXREYXkiLCJ3ZWVrbHkiLCJsb2NhdGlvbnMiLCJsb2NhdGlvbnNUaW1lRmlsdGVyIiwibG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIiLCJsb2NhdGlvbnNUb2RheSIsImxvY2F0aW9uc1RvZGF5Q29udHJvbGxlciIsImdldFRvZGF5c0xvY2F0aW9uc0xpc3QiLCJhbGxFdmVudHMiLCJsaXN0T2ZFdmVudHMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImZyZXF1ZW5jeUtleSIsImZyZXF1ZW5jeSIsImV2ZW50S2V5IiwiYW5FdmVudCIsIndlZWtkYXkiLCJldmVudHNUb2RheSIsImV2ZW50T2JqZWN0Iiwic3RhcnQiLCJlbmQiLCJhZGRyZXNzIiwicHVzaCIsImV2ZW50c0xpc3QiLCJ0b2RheXNEYXRlIiwicGFja2FnaW5nRmlsbGVyIiwicGFja2FnaW5nRmlsbGVyQ29udHJvbGxlciIsInVwZGF0ZVBhY2thZ2luZ1N0YXRlIiwicGFja2FnaW5nIiwic2l6ZSIsInVuZGVmaW5lZCIsIm1peCIsImZsYXZvckxpc3QiLCJmbGF2b3IiLCJlcXVhbFNwbGl0IiwiZGl2aXNpb25zIiwidXBkYXRlRmxhdm9yQ291bnQiLCJ1cGRhdGVGbGF2b3JNaXgiLCJmbGF2b3JUeHQiLCJ0b1N0cmluZyIsInF0eSIsImFkZFRvQ2FydCIsImNoZWNrT3V0IiwidGhpc1BhY2thZ2luZyIsInRoaXNNaXh0dXJlIiwidGhpc1F1YW50aXR5IiwidGhpc0Nvc3QiLCJwcmljaW5nIiwiY2FsY3VsYXRlUHVyY2hhc2VQcmljZSIsInRoaXNEZXNjcmlwdGlvbiIsImJ1aWxkRGVzY3JpcHRpb24iLCJpdGVtRm9yUHVyY2hhc2UiLCJkZXNjcmlwdGlvbiIsImNvc3QiLCJpdGVtcyIsImFkZEZpbGxlZFBhY2thZ2UiLCJkaXNjYXJkQnV0dG9uQ2xpY2tlZCIsInBheW1lbnRNYW5hZ2VyIiwicGF5bWVudE1hbmFnZXJDb250cm9sbGVyIiwiYmFja2VuZENvbUZhY3RvcnkiLCJwbGF0dGVyRmlsbGVyIiwicGxhdHRlckZpbGxlckNvbnRyb2xsZXIiLCJxdHlNYW5hZ2VyIiwicXR5TWFuYWdlckNvbnRyb2xsZXIiLCJzdWJ0cmFjdCIsImFkZCIsInJlZ2lvbkZpbmRlciIsInJlZ2lvbkZpbmRlckNvbnRyb2xsZXIiLCJzdGF0ZXNBcnJheSIsInNlbGVjdFN0YXRlIiwiaWQiLCJzdGF0ZXMiLCJrZXkiLCJzZWxlY3RlZFN0YXRlIiwic2VlRW1wdGllcyIsInNlZUVtcHRpZXNDb250cm9sbGVyIiwic2VlRnVsbHMiLCJzZWVGdWxsc0NvbnRyb2xsZXIiLCJzZWxlY3RGbGF2b3JzIiwic2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIiLCJmaWxsQVBhY2thZ2UiLCJzaXplQnRuQ2xpY2tlZCIsInBhY2thZ2luZ1NlbGVjdGVkIiwicmVtb3ZlQVNpemUiLCJzZWxlY3RQYWNrYWdpbmciLCJzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyIiwidGl0bGUiLCJzaGlwcGluZ09wdGlvbnMiLCJzaGlwcGluZ09wdGlvbnNDb250cm9sbGVyIiwic2hvcHBpbmdQcm9ncmVzc0JhciIsIiR3YXRjaCIsIm5leHQiLCJjdXJyZW50IiwiY2hhbmdlVGFiQ2xhc3MiLCJzaG9wcGluZ1Byb2dyZXNzQmFyQ29udHJvbGxlciIsInRhYnMiLCJzcGJ0YWJTZWxlY3RlZCIsInRhYkNsaWNrIiwidG9vbEJhciIsIlRvb2xCYXJDb250cm9sbGVyIiwiYmFja2VuZCIsImZpcmViYXNlIiwiZ2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJnZXRMb2NhdGlvbnMiLCJiYWNrZW5kQ29tRWxlbWVudHMiLCJkYXRhU2VydmljZXMiLCJkYXRhU2VydmljZXNPYmplY3QiLCJhbGxGaWxsaW5ncyIsIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCJ0eXBlcyIsInJlY2lwaWVzIiwid2VlayIsImxvY2F0aW9uc0ZpbHRlck9iamVjdCIsImxvY2F0aW9uc1N0YXRlT2JqZWN0IiwidmlzYWJsZSIsImxvY2F0aW9uTGFiZWwiLCJldmVyeURheUxvY2F0aW9ucyIsImV2ZW50c0FuZE1hcmtldHMiLCJfZGlzdGlsbFR5cGUiLCJyZWYiLCJyZXR1cm5TdHJpbmciLCJ0eXBlT2JqZWN0Iiwibm9PZlR5cGVzIiwiX2Rpc3RpbGxGbGF2b3JzIiwiZmxhdm9yT2JqZWN0IiwiZmxhdm9yc0FycmF5IiwidGhpc1ByaWNpbmciLCJ3aXRob3V0UGVhbnV0cyIsInBlYW51dFNlY3Rpb25zIiwid2l0aFBlYW51dHMiLCJhbGxQcmljZXMiLCJ2b2x1bWUiLCJjb21wYXJ0bWVudHMiLCJtYXhGbGF2b3JzIiwiYWRkQVNpemUiLCJzdGFydGluZ1ZhbHVlIiwibmV3UGFja2FnZSIsInJlbW92ZUFQYWNrYWdlIiwiY2FsY3VsYXRlSXRlbVN1YnRvdGFsIiwiaXRlbSIsInN1YnRvdGFsIiwidG9GaXhlZCIsImNhbGN1bGF0ZVRvdGFsQ29zdCIsImFsbEl0ZW1zIiwidG90YWwiLCJhbGxDYXJ0RWxlbWVudHMiLCJ0YXhlcyIsImRpc2NvdW50cyIsInNoaXBwaW5nIiwic2VjdGlvbiIsInJldHVybk9iamVjdCIsImFsbFRhYnMiLCJ0eXBlTGlzdCIsInR5cGUiLCJwcm9wb3J0aW9uIiwicGlja3VwIiwiZ2x5cGhpY29uIiwiZ2x5cGhpY29uLW9rIiwic2hpcCIsInN0eWxlcyIsInN0YXRlc0ZhY3RvcnkiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJsb2FkTG9jYXRpb25zTW9kZWwiLCJsb2NhdGlvbkRhdGEiLCJjb25zb2xlIiwibG9nIiwiZ2V0TGlzdCIsIkFIX05VVFNfRkJfQVBJS0VZIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsIkFIX05VVFNfRkJfQVVUSERPTUFJTiIsImRhdGFiYXNlVVJMIiwiQUhfTlVUU19GQl9EQVRBQkFTRVVSTCIsInN0b3JhZ2VCdWNrZXQiLCJBSF9OVVRTX0ZCX1NUT1JBR0VCVUNLRVQiLCJpbml0aWFsaXplQXBwIiwibGlzdHMiLCJfc3RhdGVzIiwic2V0IiwidmFyaWFibGUiLCJkb3dubG9hZCIsImxkIiwiZ2V0U3RhdGVzIiwibGlzdCIsImFoTnV0c1dlYkFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJmYWN0b3J5Iiwic2VydmljZSJdLCJtYXBwaW5ncyI6IkFBQUEsWUNPQSxTQUFBQSxpQkFBQUMsRUFBQUMsRUFBQUMsR0FJQSxRQUFBQyxHQUFBQyxHQUNBLE1BQUFDLE9BQUFELEdBR0EsUUFBQUUsR0FBQUYsR0FDQSxNQUFBRCxHQUFBQyxHQUFBRyxLQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsU0FUQSxHQUFBQyxHQUFBQyxJQUNBRCxHQUFBRSxZQWFBTixFQUFBLHlCQUFBQyxLQUFBLFNBQUFDLEdBQ0FSLEVBQUFhLEtBQUFMLEdBQ0FFLEVBQUFFLFNBQUFKLElBRkFGLFNBR0EsU0FBQVEsR0FDQWQsRUFBQWEsS0FBQSxpQkFBQUMsS0NuQkEsUUFBQUMsbUJBQUFmLEVBQUFDLEdBQ0EsR0FBQVMsR0FBQUMsSUFHQUQsR0FBQU0sV0FBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUEsR0FFQWxCLEdBQUFhLEtBQUEsbUJBQUFLLEdBQ0FqQixFQUFBa0IsS0FBQUQsSUNSQSxRQUFBRSxtQkFBQXBCLEVBQUFxQixFQUFBcEIsR0FNQSxRQUFBcUIsTUFIQSxHQUFBWixHQUFBQyxJQVdBRCxHQUFBYSxpQkFBQSxTQUFBTixHQUNBLEdBQUFDLEdBQUEsSUFBQUQsQ0FFQWpCLEdBQUFhLEtBQUEsbUJBQUFLLEdBQ0FqQixFQUFBa0IsS0FBQUQsSUFJQUksSUN0QkEsUUFBQUUscUJBQUF4QixFQUFBcUIsRUFBQXBCLEVBQUF3QixFQUFBQyxHQUdBLEdBQUFoQixHQUFBQyxJQUdBRCxHQUFBZSxlQUFBQSxFQUNBZixFQUFBaUIsa0JBQ0FDLE1BQUFQLEVBQUFPLE1BQ0FDLE9BQUFSLEVBQUFRLFFBRUFuQixFQUFBa0IsTUFBQUYsRUFBQUUsTUFBQVAsRUFBQU8sTUFBQWxCLEVBQUFlLGdCQUdBekIsRUFB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Z0JBQUE4QixTQUFBLFFDSkF5USxRQUNBQyxPQUFBLGdCQUNBQyxRQUFBLGtCQUFBL00saUJBRUFBLGdCQUFBNUQsU0FBQSxRQ0pBeVEsUUFDQUMsT0FBQSxnQkFDQUMsUUFBQSxpQkFBQWhULGdCQUVBQSxlQUFBcUMsU0FBQSxRQ0pBeVEsUUFDQUMsT0FBQSxnQkFDQUMsUUFBQSxtQkFBQXhTLGtCQUVBQSxpQkFBQTZCLFNBQUEsUUNKQXlRLFFBQ0FDLE9BQUEsZ0JBQ0FDLFFBQUEsdUJBQUExUyxzQkFFQUEscUJBQUErQixTQUFBLFFDSkF5USxRQUNBQyxPQUFBLGdCQUNBQyxRQUFBLGVBQUF2UyxjQUVBQSxhQUFBNEIsU0FBQSxRQ0pBeVEsUUFDQUMsT0FBQSxnQkFDQTNCLE9BQUFBLFFDRkEwQixRQUNBQyxPQUFBLGdCQUNBRSxRQUFBLFdBQUFsRyxVQUVBQSxTQUFBMUssU0FBQSxRQ0pBeVEsUUFDQUMsT0FBQSxnQkFDQUUsUUFBQSxlQUFBekIsY0FFQUEsYUFBQW5QLFNBQUEsT0FBQSxVQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE1PRFVMRVxuY29uZmlnLiRpbmplY3QgPSBbXCIkcm91dGVQcm92aWRlclwiXTtcbmxvYWRMb2NhdGlvbnNNb2RlbC4kaW5qZWN0ID0gW1wibG9jYXRpb25EYXRhXCJdO1xudmFyIGFoTnV0c1dlYkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhaE51dHNXZWJBcHAnLCBbJ25nUm91dGUnXSk7XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2FkbWluQ29udHJvbGxlcicsIGFkbWluQ29udHJvbGxlcik7XG5cbmFkbWluQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGFkbWluQ29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24sICRodHRwKSB7XG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLnRlc3RUZXh0ID0ge307XG5cblx0ZnVuY3Rpb24gX2dldCh1cmwpIHtcblx0XHRyZXR1cm4gZmV0Y2godXJsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9nZXRKU09OKHVybCkge1xuXHRcdHJldHVybiBfZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0XHR9KTtcblx0fVxuXG5cblx0X2dldEpTT04oJy9hcGkvZ2V0L2xpc3QvcmVnaW9ucycpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHQkbG9nLmluZm8ocmVzcG9uc2UpO1xuXHRcdHZtLnRlc3RUZXh0ID0gcmVzcG9uc2U7XG5cdH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcblx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzIGVycm9yJywgZSk7XG5cdH0pXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignY29udGFjdENvbnRyb2xsZXInLCBjb250YWN0Q29udHJvbGxlcik7XG5cbmNvbnRhY3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdENvbnRyb2xsZXIoJGxvZywgJGxvY2F0aW9uKSB7XG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly92aWV3IG1vZGVsIG1ldGhvZHNcblx0dm0ucmV0dXJuSG9tZSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG5cdFx0dmFyIGZ1bGxQYXRoID0gJy8nOyAvLysgcGFyYW07XG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2cuaW5mbygncmVkaXJlY3RpbmcgdG86ICcgKyBmdWxsUGF0aCk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vbG9jYWwgbWV0aG9kc1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdC8vZGVmaW5lIHRoZSBzdGF0ZSBvZiB0aGlzIHBhZ2Vcblx0XHRcblx0XHRcblxuXHR9O1xuXG5cdC8vdmlldyBtZXRob2RzXG5cdHZtLm5hdkJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbihwYXJhbSkge1xuXHRcdHZhciBmdWxsUGF0aCA9ICcvJyArIHBhcmFtO1xuXHRcdC8vcmVkaXJlY3Rcblx0XHQkbG9nLmluZm8oJ3JlZGlyZWN0aW5nIHRvOiAnICsgZnVsbFBhdGgpO1xuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxuXG5cdC8vcnVuIGluaXQgZnVuY3Rpb25cblx0aW5pdCgpO1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xvY2F0aW9uc0NvbnRyb2xsZXInLCBsb2NhdGlvbnNDb250cm9sbGVyKTtcblxubG9jYXRpb25zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLCAnbG9jYXRpb25zTW9kZWwnLCAnbG9jYXRpb25zU3RhdGUnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCBsb2NhdGlvbnNNb2RlbCwgbG9jYXRpb25zU3RhdGUpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdFxuXHQvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdHZtLmxvY2F0aW9uc01vZGVsID0gbG9jYXRpb25zTW9kZWw7XG5cdHZtLnNlbGVjdGVkTG9jYXRpb24gPSB7XG5cdFx0c3RhdGU6ICRyb3V0ZVBhcmFtcy5zdGF0ZSxcblx0XHRyZWdpb246ICRyb3V0ZVBhcmFtcy5yZWdpb25cblx0fTtcblx0dm0uc3RhdGUgPSBsb2NhdGlvbnNTdGF0ZS5zdGF0ZSgkcm91dGVQYXJhbXMuc3RhdGUsIHZtLmxvY2F0aW9uc01vZGVsKTtcblxuXHQvL2xvY2FsIG1ldGhvZHNcblx0JGxvZy5pbmZvKCdsb2NhdGlvbnNNb2RlbCcsIHZtLmxvY2F0aW9uc01vZGVsKTtcblx0XG5cdC8vdmlldyBtZXRob2RzXG5cdHZtLmxvY2F0aW9uUmVkaXJlY3QgPSBmdW5jdGlvbihzdGF0ZSwgcmVnaW9uKSB7XG5cdFx0XG5cdFx0dmFyIGZ1bGxQYXRoID0gJ2xvY2F0aW9ucy8nO1xuXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXIgZm8gdGhlIHN0YXRlXG5cdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzLCBzdGF0ZS5pZDonLCBzdGF0ZSk7XG5cdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzLCByZWdpb25JRDonLCByZWdpb25JRCk7XG5cblx0XHQvL2J1aWxkIHRoZSBwYXRoXG5cdFx0ZnVsbFBhdGggPSBmdWxsUGF0aCArIHN0YXRlO1xuXG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdDb250cm9sbGVyJywgc2hvcHBpbmdDb250cm9sbGVyKTtcblxuc2hvcHBpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnLCAnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCAnZmlsbGluZ3NGYWN0b3J5JywgJ3ByaWNlTGlzdEZhY3RvcnknLCAnc3RhdGVGYWN0b3J5J107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdDb250cm9sbGVyKCRsb2csIHNob3BwaW5nQ2FydHNGYWN0b3J5LCBmaWxsaW5nc0ZhY3RvcnksIHByaWNlTGlzdEZhY3RvcnksIHN0YXRlRmFjdG9yeSkge1xuXG5cdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vaW1wb3J0IHJlcXVpcmVkIG9iamVjdHNcbiAgICB2bS5jdXJyZW50bHlGaWxsaW5nID0gZmlsbGluZ3NGYWN0b3J5O1xuXHR2bS5jYXJ0ID0gc2hvcHBpbmdDYXJ0c0ZhY3Rvcnk7XG5cdHZtLnByaWNlTGlzdCA9IHByaWNlTGlzdEZhY3Rvcnk7XG5cblx0Ly9zdGF0ZSB0cmFja2luZ1xuXHR2bS5jdXJyZW50U3RhdGUgPSBzdGF0ZUZhY3RvcnkuZGVmYXVsdFN0YXRlKCdzaG9wcGluZycpO1xuXHR2bS5jdXJyZW50U3RhdGUuZmxhdm9yc0J0bkxpc3QgPSBzdGF0ZUZhY3RvcnkuYnVpbGRCdXR0b25MaXN0KFxuXHRcdC8vdm0uY3VycmVudGx5RmlsbGluZy5mbGF2b3JzLCBcdFx0XHQvL2xpc3Rcblx0XHQvL1snc2VsZWN0ZWQnLCAncHJvcG9ydGlvbnMnXSxcdFx0XHQvL29wdGlvbnNcblx0XHQvL3t9LCBcdFx0Ly9zdGF0ZVxuXHQpO1xuXG5cdC8vJGxvZy5pbmZvKHZtLmN1cnJlbnRTdGF0ZS5mbGF2b3JzQnRuTGlzdCk7XG5cdFxuXHQvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cblx0Ly93aGVuIGEgdGFiIGlzIHNlbGVjdGVkIGNoYW5nZSB0aGUgdGFiXG5cdHZtLnVwZGF0ZVNlbGVjdGVkVGFiID0gZnVuY3Rpb24odGFiKSB7XG5cdFx0dm0uY3VycmVudFN0YXRlLmFjdGl2ZVRhYiA9IHRhYjtcblx0XHQkbG9nLmluZm8oJ2NoYW5naW5nIHRvIHRhYicsIHZtLmN1cnJlbnRTdGF0ZS5hY3RpdmVUYWIpO1xuXHR9XG5cblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ3Nob3BwaW5nUmVjZWlwdENvbnRyb2xsZXInLCBzaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyKTtcblxuc2hvcHBpbmdSZWNlaXB0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdSZWNlaXB0Q29udHJvbGxlcigkbG9nKSB7XG5cblx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblxufVxuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnYXF1aXNpdGlvbk1hbmFnZXInLCBhcXVpc2l0aW9uTWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYXF1aXNpdGlvbk1hbmFnZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9hcXVpc2l0aW9uTWFuYWdlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzdGF0ZTogXCI9XCIsXG5cdFx0XHRjaGFuZ2VUYWI6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogYXF1aXNpdGlvbk1hbmFnZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgYXF1aXNpdGlvbk1hbmFnZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYXF1aXNpdGlvbk1hbmFnZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgXG4gICAgXHQvL2xvY2FsIHZhcmlhYmxlc1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLm1ldGhvZENsaWNrZWQgPSBmdW5jdGlvbihtZXRob2QpIHtcblx0ICAgIFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0ICAgIFx0dmFyIG9wcG9zaXRlID0gJyc7XG5cblx0ICAgIFx0Ly9hY3RpdmF0ZSBhZGRyZXNzZWRcblx0ICAgIFx0dm0uc3RhdGUuYnV0dG9ucy5hcXVpc2l0aW9uLmFkZHJlc3NlZCA9IHRydWU7XG5cblx0ICAgIFx0Ly9zZWxlY3QgdGhlIHByb3BlciBvcHRpb25cblx0ICAgIFx0dm0uc3RhdGUuYnV0dG9ucy5hcXVpc2l0aW9uW21ldGhvZF0uc2VsZWN0ZWQgPSB0cnVlO1xuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb25bbWV0aG9kXS5jbGFzc2VzWydnbHlwaGljb24tb2snXSA9IHRydWU7XG5cblx0ICAgIFx0Ly91bnNlbGVjdCB0aGUgb3Bwb3NpdGVcblx0ICAgIFx0aWYobWV0aG9kID09ICdwaWNrdXAnKSBvcHBvc2l0ZSA9ICdzaGlwJztcblx0ICAgIFx0ZWxzZSBvcHBvc2l0ZSA9ICdwaWNrdXAnO1xuXG5cdCAgICBcdHZtLnN0YXRlLmJ1dHRvbnMuYXF1aXNpdGlvbltvcHBvc2l0ZV0uc2VsZWN0ZWQgPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuYnV0dG9ucy5hcXVpc2l0aW9uW29wcG9zaXRlXS5jbGFzc2VzWydnbHlwaGljb24tb2snXSA9IGZhbHNlO1xuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnY2FydFN1bW1hcnknLCBjYXJ0U3VtbWFyeSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2FydFN1bW1hcnkoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jYXJ0U3VtbWFyeS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjYXJ0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNhcnRTdW1tYXJ5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNhcnRTdW1tYXJ5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNhcnRTdW1tYXJ5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBcblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2NvbmVGaWxsZXInLCBjb25lRmlsbGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25lRmlsbGVyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY29uZUZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjb25lRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbmVGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29uZUZpbGxlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEhlbHBlcicsIGVtYWlsSGVscGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEhlbHBlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2VtYWlsSGVscGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHJlZGlyZWN0OiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsSGVscGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGVtYWlsSGVscGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIFxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGVtYWlsSGVscGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2bS5hbnN3ZXJzID0ge1xuXHQgICAgXHRuYW1lOiB7XG5cdCAgICBcdFx0YXR0ZW1wdGVkOiBmYWxzZSxcblx0ICAgIFx0XHR2YWx1ZTpcIlwiXG5cdCAgICBcdH0sXG5cdCAgICBcdGVtYWlsOiB7XG5cdCAgICBcdFx0YXR0ZW1wdGVkOiBmYWxzZSxcblx0ICAgIFx0XHR2YWx1ZTpcIlwiXG5cdCAgICBcdH0sXG5cdCAgICBcdG1lc3NhZ2U6IHtcblx0ICAgIFx0XHRhdHRlbXB0ZWQ6IGZhbHNlLFxuXHQgICAgXHRcdHZhbHVlOlwiXCJcblx0ICAgIFx0fVxuXG5cdCAgICB9XG5cdCAgICB2bS5mb3JtID0ge1xuXHQgICAgXHRuYW1lOiB7XG5cdCAgICBcdFx0ZXJyb3I6IHtcblx0ICAgIFx0XHRcdCdkaXNwbGF5JzogZmFsc2UsXG5cdCAgICBcdFx0XHQnbWVzc2FnZSc6J1RoaXMgaXMgYSB0ZXN0J1xuXHQgICAgXHRcdH0sXG5cdCAgICBcdFx0Y2xhc3Nlczoge31cblx0ICAgIFx0fSxcblx0ICAgIFx0ZW1haWw6IHtcblx0ICAgIFx0XHRlcnJvcjoge1xuXHQgICAgXHRcdFx0J2Rpc3BsYXknOiBmYWxzZSxcblx0ICAgIFx0XHRcdCdtZXNzYWdlJzonVGhpcyBpcyBhIHRlc3QnXG5cdCAgICBcdFx0fSxcblx0ICAgIFx0XHRjbGFzc2VzOiB7fVxuXHQgICAgXHR9LFxuXHQgICAgXHRtZXNzYWdlOiB7XG5cdCAgICBcdFx0ZXJyb3I6IHtcblx0ICAgIFx0XHRcdCdkaXNwbGF5JzogZmFsc2UsXG5cdCAgICBcdFx0XHQnbWVzc2FnZSc6J1RoaXMgaXMgYSB0ZXN0J1xuXHQgICAgXHRcdH0sXG5cdCAgICBcdFx0Y2xhc3Nlczoge31cdCAgICBcdFx0XG5cdCAgICBcdH0sXG5cdCAgICBcdGJ0bjoge1xuXHQgICAgXHRcdGNsYXNzZXM6IHtcblx0ICAgIFx0XHRcdFwiYnRuLXByaW1hcnlcIjogZmFsc2UsXG5cdCAgICBcdFx0XHRcImJ0bi13YXJuaW5nXCI6IHRydWUsXG5cdCAgICBcdFx0XHRcImJ0bi1zdWNjZXNzXCI6IGZhbHNlXG5cdCAgICBcdFx0fVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8vbG9jYWwgbWV0aG9kc1xuXHQgICAgZnVuY3Rpb24gbGVuZ3RoQ2hlY2tlcihzdHJpbmcsIHJlcXVpcmVkKSB7XG5cdCAgICBcdHZhciB0cnVlT3JGYWxzZSA9IGZhbHNlO1xuXG5cdCAgICBcdGlmKHN0cmluZy5sZW5ndGggPj0gcmVxdWlyZWQpIHRydWVPckZhbHNlID0gdHJ1ZTtcblxuXHQgICAgXHRyZXR1cm4gdHJ1ZU9yRmFsc2U7XG5cdCAgICB9XG5cdCAgICAvKlxuXHQgICAgKlx0dGhlIG5hbWUgZmllbGQgc2hvdWxkIGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyBsb25nXG5cdCAgICAqL1xuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGVOYW1lKCkge31cblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoKSB7fVxuXHQgICAgZnVuY3Rpb24gdmFsaWRhdGVNZXNzYWdlKCkge31cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNoZWNrTmFtZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuXG5cdCAgICBcdC8vY2hlY2sgZm9yIGxlbmd0aFxuXHQgICAgfVxuXG5cdCAgICB2bS5uYW1lQXR0ZW1wdCA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHQgICAgXHQvL3Rocm93IHRoZSBhdHRlbXB0ZWQgZmxhZ1xuXHQgICAgXHR2bS5hbnN3ZXJzLm5hbWUuYXR0ZW1wdGVkID0gdHJ1ZTtcblxuXHQgICAgXHQvL21ha2Ugc3VyZSB0aGUgYXBwcm9wcmlhdGUgbGVuZ3RoIHdhcyByZWFjaGVkXG5cdCAgICBcdGlmKGxlbmd0aENoZWNrZXIoc3RyaW5nLCAzKSkge1xuXHQgICAgXHRcdC8vaWYgdGhlIG5hbWUgaXMgbG9uZyBlbm91Z2gsXG5cdCAgICBcdFx0JGxvZy5pbmZvKFwiZ29vZCBjaGVja1wiKTtcblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHQkbG9nLmluZm8oJ3RvbyBzaG9ydCcpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgdm0uc3VibWl0TWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuXG5cdCAgICBcdC8vcGFzcyB0aGUgYW5zd2VycyBvYmplY3QgdG8gdGhlIHNlcnZlclxuXHQgICAgXHQvLzEuIElmIFRoZXJlIFdhcyBBbiBFcnJvclxuXHQgICAgXHQvLzIuIElmIE1lc3NhZ2UgV2FzIFNlbnQgU3VjZXNzZnVsbHlcblx0ICAgIFx0Ly9ub3RpZnkgdGhlIHVzZXIgb2YgdGhlIHN1Y2Vzc1xuXHQgICAgXHQvL3RoZW4gcmV0dXJuIHRvIHRoZSBob21lIHBhZ2U/PyBcblx0ICAgIFx0dm0ucmVkaXJlY3QoJycpO1xuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnZXJyb3JNZXNzYWdlJywgZXJyb3JNZXNzYWdlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlcnJvck1lc3NhZ2UoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lcnJvck1lc3NhZ2UuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZXJyb3JNZXNzYWdlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGVycm9yTWVzc2FnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlcnJvck1lc3NhZ2VDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbGlzdE9mRmxhdm9ycycsIGxpc3RPZkZsYXZvcnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxpc3RPZkZsYXZvcnMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9saXN0T2ZGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGZsYXZvcnM6ICc9Jyxcblx0XHRcdHBpY2tBRmxhdm9yOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxpc3RPZkZsYXZvcnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsaXN0T2ZGbGF2b3JzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vbG9jYWwgbWV0aG9kc1xuXHQgICAgZnVuY3Rpb24gc2VsZWN0QUJ0bihpbmRleCkge1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLmF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IHRydWU7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMudW5BdmFpbFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gdW5zZWxlY3RBQnRuKGluZGV4KSB7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuYXZhaWxQcm9kdWN0Rmxhdm9yID0gdHJ1ZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5zZWxlY3RlZFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1x0ICAgIFx0XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBtYWtlQnRuQXZhaWwoaW5kZXgpIHt9XG5cdCAgICBmdW5jdGlvbiBtYWtlQnRuVW5BdmFpbChpbmRleCkge31cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLmNsaWNrQU51dCA9IGZ1bmN0aW9uKGluZGV4LCByZWNpcGUpIHtcblx0ICAgIFx0XG5cdCAgICBcdCRsb2cuaW5mbygnY2xpY2tpbmcnLCBpbmRleCwgcmVjaXBlKTtcblxuXHQgICAgXHRpZihpbmRleCA+PTEwKSBpbmRleCA9IChpbmRleCAvIDEwKSAtIDE7XG5cblx0ICAgIFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVcblx0ICAgIFx0dmFyIGFkZGluZyA9IGZhbHNlO1xuXG5cdCAgIFxuXHQgICAgXHQvL3doZW4gYSBmbGF2b3IgaXMgY2xpY2tlZCBtdXN0XG5cdCAgICBcdC8vY2hlY2sgaWYgaXQgaXMgYWxsb3dlZCB0byBiZSBjbGlja2VkXG5cdCAgICBcdC8vZmxpcCB0aGUgc2VsZWN0ZWQgc3RhdGVcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uc2VsZWN0ZWQgPSAhdm0uZmxhdm9yc1tpbmRleF0uc2VsZWN0ZWQ7XG5cblx0ICAgIFx0Ly9zZXQgdGhlIGNsYXNzXG5cdCAgICBcdGlmKHZtLmZsYXZvcnNbaW5kZXhdLnNlbGVjdGVkKSB7XG5cdCAgICBcdFx0Ly91cGRhdGUgdGhlIGJ0biBzdGF0ZVxuXHQgICAgXHRcdHNlbGVjdEFCdG4oaW5kZXgpO1xuXHQgICAgXHRcdC8vYWRkaXRpb24gb3Igc3VidHJhY3Rpb24gXG5cdCAgICBcdFx0YWRkaW5nID0gdHJ1ZTtcblx0ICAgIFx0fVxuXHQgICAgXHRlbHNlIHtcblx0ICAgIFx0XHQvL3VwZGF0ZSB0aGUgYnRuIHN0YXRlXG5cdCAgICBcdFx0dW5zZWxlY3RBQnRuKGluZGV4KTtcblx0ICAgIFx0fVxuXG5cdCAgICBcdC8vcGFzcyB0aGUgZmxhdm9yIHVwIHRvIHRoZSBwYXJlbnRcblx0ICAgIFx0dm0ucGlja0FGbGF2b3IoKShpbmRleCwgYWRkaW5nKTtcblx0ICAgIH1cblxuXHQgICBcblxuXHQgICAgdm0udGVzdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWNrIFRlc3QnKTtcblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc0Nocm9ub1ZpZXcnLCBsb2NhdGlvbnNDaHJvbm9WaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDaHJvbm9WaWV3KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9jYXRpb25zQ2hyb25vVmlldy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNNYXBWaWV3JywgbG9jYXRpb25zTWFwVmlldyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zTWFwVmlldygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc01hcFZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLypmdW5jdGlvbiBpbml0TWFwKCkge1xuXHQgICAgICAgIHZhciB1bHVydSA9IHtsYXQ6IC0yNS4zNjMsIGxuZzogMTMxLjA0NH07XG5cdCAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG5cdCAgICAgICAgICB6b29tOiA0LFxuXHQgICAgICAgICAgY2VudGVyOiB1bHVydVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0ICAgICAgICAgIHBvc2l0aW9uOiB1bHVydSxcblx0ICAgICAgICAgIG1hcDogbWFwXG5cdCAgICAgICAgfSk7XG5cdCAgICB9Ki9cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVGhpc1dlZWsnLCBsb2NhdGlvbnNUaGlzV2Vlayk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWsoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaGlzV2Vlay5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRsb2NhdGlvbnM6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2xvY2F0aW9uc0ZpbHRlciddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrQ29udHJvbGxlcigkc2NvcGUsICRsb2csIGxvY2F0aW9uc0ZpbHRlcikge1xuXG4gICAgXHR2YXIgdm0gPSB0aGlzO1xuICAgIFx0XG4gICAgXHQvL3ZpZXcgbW9kZWwgdmFsdWVzXG4gICAgXHR2bS5sb2NhdGlvbnNUaGlzV2VlayA9IGxvY2F0aW9uc0ZpbHRlci53ZWVrbHkodm0ubG9jYXRpb25zLCBnZXRXZWVrKCkpO1xuXG5cdCAgICBmdW5jdGlvbiBnZXRXZWVrKCkge1xuXHQgICAgXHR2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXHQgICAgXHR2YXIgb25lamFuID0gbmV3IERhdGUodG9kYXkuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gICAgICAgIFx0cmV0dXJuIE1hdGguY2VpbCgoKCh0b2RheSAtIG9uZWphbikgLyA4NjQwMDAwMCkgKyBvbmVqYW4uZ2V0RGF5KCkgKyAxKSAvIDcpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUaW1lRmlsdGVyJywgbG9jYXRpb25zVGltZUZpbHRlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGltZUZpbHRlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RpbWVGaWx0ZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnbG9jYXRpb25zVG9kYXknLCBsb2NhdGlvbnNUb2RheSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVG9kYXkoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUb2RheS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZWxlY3RlZExvY2F0aW9uOiBcIj1cIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVG9kYXlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgXG5cdCAgICAvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS5ldmVudHNUb2RheSA9IGZhbHNlO1xuXG5cdCAgICAvL2RlZmluZSBsb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBnZXRUb2RheXNMb2NhdGlvbnNMaXN0KGFsbEV2ZW50cykge1xuXG5cdCAgICBcdHZhciBsaXN0T2ZFdmVudHMgPSBbXTtcblxuXHQgICAgXHQvL3VucGFjayBmcmVxdWVuY3lcblx0ICAgIFx0T2JqZWN0LmtleXMoYWxsRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGZyZXF1ZW5jeUtleSkge1xuXG5cdCAgICBcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVcblx0ICAgIFx0XHR2YXIgZnJlcXVlbmN5ID0gYWxsRXZlbnRzW2ZyZXF1ZW5jeUtleV07XG5cblx0ICAgIFx0XHQvL3VucGFjayBldmVudHNcblx0ICAgIFx0XHRPYmplY3Qua2V5cyhmcmVxdWVuY3kpLmZvckVhY2goZnVuY3Rpb24oZXZlbnRLZXkpIHtcblxuXHQgICAgXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdCAgICBcdFx0XHR2YXIgYW5FdmVudCA9IGZyZXF1ZW5jeVtldmVudEtleV07XG5cdCAgICBcdFx0XHR2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXHQgICAgXHRcdFx0dmFyIHdlZWtkYXkgPSB0b2RheS5nZXREYXkoKTtcblxuXHQgICAgXHRcdFx0JGxvZy5pbmZvKCd3ZWVrZWRheScsIHdlZWtkYXkpO1xuXG5cdCAgICBcdFx0XHRpZihhbkV2ZW50LndlZWtkYXkgPT0gd2Vla2RheSkge1xuXHRcdCAgICBcdFx0XHRcblx0ICAgIFx0XHRcdFx0dm0uZXZlbnRzVG9kYXkgPSB0cnVlO1xuXG5cdFx0ICAgIFx0XHRcdHZhciBldmVudE9iamVjdCA9IHtcblx0XHQgICAgXHRcdFx0XHQnc3RhcnQnOiAnNjQ4MDAwMDAnLFxuXHRcdCAgICBcdFx0XHRcdCdlbmQnOiAnNjQ4MDAwMDAnLFxuXHRcdCAgICBcdFx0XHRcdCduYW1lJzogYW5FdmVudC5uYW1lLFxuXHRcdCAgICBcdFx0XHRcdCdhZGRyZXNzJzogJzE0NyBXLiBDZW50ZXIgU3RyZWV0LCBBbmFoZWltJ1xuXHRcdCAgICBcdFx0XHR9O1xuXG5cdFx0ICAgIFx0XHRcdGxpc3RPZkV2ZW50cy5wdXNoKGV2ZW50T2JqZWN0KTtcblx0ICAgIFx0XHRcdH1cblxuXHQgICAgXHRcdH0pO1xuXG5cdCAgICBcdH0pO1xuXG5cdCAgICBcdHJldHVybiBsaXN0T2ZFdmVudHM7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGluaXQoKSB7XG5cblx0ICAgIFx0Ly9idWlsZCB0aGUgbGlzdCBvZiBldmVudHNcblx0ICAgIFx0dm0uZXZlbnRzTGlzdCA9IGdldFRvZGF5c0xvY2F0aW9uc0xpc3Qodm0uc2VsZWN0ZWRMb2NhdGlvbik7XG5cblx0ICAgIFx0dm0udG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCk7XG5cblx0ICAgIFx0JGxvZy5pbmZvKHZtLnRvZGF5c0RhdGUpO1xuXHQgICAgfVxuXG5cdCAgICAvL2xvZyB0aGUgaW5pdGlhbCB2YWx1ZXMgdG8gdGhlIHVzZXJcblx0ICAgICRsb2cuaW5mbygndm0uc2VsZWN0ZWRMb2NhdGlvbicsIHZtLnNlbGVjdGVkTG9jYXRpb24pO1xuXG5cdCAgICAvL2luaXQgdGhpcyBkaXJlY3RpdmVcblx0ICAgIGluaXQoKTtcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGFja2FnaW5nRmlsbGVyJywgcGFja2FnaW5nRmlsbGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wYWNrYWdpbmdGaWxsZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Y2FydDogXCI9XCIsXG5cdFx0XHRwcmljaW5nOiBcIj1cIixcblx0XHRcdGNoYW5nZVRhYjogJyYnLFxuXHRcdFx0c3RhdGU6IFwiPVwiLFxuXHRcdFx0YWRkRmlsbGVkUGFja2FnZTogXCImXCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnF0eSA9IDE7XG5cblx0ICAgIGZ1bmN0aW9uIHVwZGF0ZVBhY2thZ2luZ1N0YXRlKCkge1xuXHQgICAgXHQvL3VwZGF0ZSB0aGUgb3ZlcmFsbCBwYWNrYWdpbmdcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNlbGVjdGVkID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLnBhY2thZ2luZy5zaXplID0gdW5kZWZpbmVkO1xuXHQgICAgXHR2bS5zdGF0ZS5wYWNrYWdpbmcuZmxhdm9ycyA9IDA7XG5cdCAgICBcdHZtLnN0YXRlLnBhY2thZ2luZy5taXggPSB7fTtcblx0ICAgIFx0Ly91cGRhdGUgdGhlIGZsYXZvciBidXR0b25zXG5cdCAgICBcdE9iamVjdC5rZXlzKHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHR2bS5zdGF0ZS5idXR0b25zLmZsYXZvckxpc3RbZmxhdm9yXS5zZWxlY3RlZCA9IGZhbHNlXG5cdCAgICBcdFx0dm0uc3RhdGUuYnV0dG9ucy5mbGF2b3JMaXN0W2ZsYXZvcl0uY2xhc3Nlcy5hdmFpbFByb2R1Y3RGbGF2b3IgPSB0cnVlO1xuXHQgICAgXHRcdHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdFtmbGF2b3JdLmNsYXNzZXMudW5BdmFpbFByb2R1Y3RGbGF2b3IgPSBmYWxzZTtcblx0ICAgIFx0XHR2bS5zdGF0ZS5idXR0b25zLmZsYXZvckxpc3RbZmxhdm9yXS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR9KVxuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0Q2FsY3VsYXRlcyBhbiBlcXVhbCBzcGxpdCBiZXR3ZWVuIGZsYXZvcnNcblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiBlcXVhbFNwbGl0KGRpdmlzaW9ucykge1xuXHQgICAgXHRyZXR1cm4gMSAvIGRpdmlzaW9ucztcblx0ICAgIH1cblxuXHQgICAgLypcblx0ICAgICpcdElmIGEgZmxhdm9yIGlzIGJlaW5nIGFkZGVkLCBpbmNyZWFzZSB0aGUgbnVtYmVyIG9mIGZsYXZvcnMsIHZpY2UtdmVyc2EuXG5cdCAgICAqL1xuXHQgICAgZnVuY3Rpb24gdXBkYXRlRmxhdm9yQ291bnQoYWRkaW5nKSB7XG5cdCAgICBcdC8vdXBkYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZmxhdm9yc1xuXHQgICAgXHRpZihhZGRpbmcpIHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzKys7XG5cdCAgICBcdGVsc2Ugdm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMtLTtcdCAgICBcdFxuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0VXBkYXRlIHRoZSBtaXggb2YgZmxhdm9ycyBiYXNlZCBvbiB0aGUgYWRkaXRpb24gb3Igc3VidHJhY3Rpb24gb2YgYSBmbGF2b3Jcblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiB1cGRhdGVGbGF2b3JNaXgoZmxhdm9yLCBhZGRpbmcpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcyBmbGF2b3InLCBmbGF2b3IpO1xuXHQgICAgXHRcblx0ICAgIFx0dmFyIGZsYXZvclR4dCA9IGZsYXZvci50b1N0cmluZygpO1xuXG5cdCAgICBcdC8vaXMgdGhpcyBhZGR0aW9uIG9yIHN1YnRyYWN0aW9uP1xuXHQgICAgXHRpZihhZGRpbmcpIHtcblx0ICAgIFx0XHQvL2lmIGFkZGluZy4uXG5cdCAgICBcdFx0Ly91cGRhdGUgdGhlIHNwbGl0IG9uIGFsbCB0aGUgY3VycmVudCBmbGF2b3JzXG5cdCAgICBcdFx0T2JqZWN0LmtleXModm0uc3RhdGUucGFja2FnaW5nLm1peCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHRcdHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yXSA9IGVxdWFsU3BsaXQodm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMpO1xuXHQgICAgXHRcdH0pO1xuXG5cdCAgICBcdFx0Ly90aGVuIGFkZCB0aGUgc3BsaXQgdG8gdGhlIG5ldyBmbGF2b3Jcblx0ICAgIFx0XHR2bS5zdGF0ZS5wYWNrYWdpbmcubWl4W2ZsYXZvclR4dF0gPSBlcXVhbFNwbGl0KHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzKTtcblx0ICAgIFx0XHRcblx0ICAgIFx0fSBlbHNlIHtcblx0ICAgIFx0XHQvL2lmIHN1YnRyYWN0aW5nLi5cblx0ICAgIFx0XHQvL3VwZGF0ZSBhbGwgdGhlIHNwbGl0cyBvbiB0aGUgb3RoZXIgZmxhdm9yc1xuXHQgICAgXHRcdE9iamVjdC5rZXlzKHZtLnN0YXRlLnBhY2thZ2luZy5taXgpLmZvckVhY2goZnVuY3Rpb24oZmxhdm9yKSB7XG5cdCAgICBcdFx0XHR2bS5zdGF0ZS5wYWNrYWdpbmcubWl4W2ZsYXZvcl0gPSBlcXVhbFNwbGl0KHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzKTtcblx0ICAgIFx0XHR9KTtcblxuXHQgICAgXHRcdC8vdGhlbiBkZWxldGUgdGhlIGRlc2lyZWQgZmxhdm9yXG5cdCAgICBcdFx0ZGVsZXRlIHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yVHh0XTtcblxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAgICAqXHRcdFx0XHRcdFZJRVdNT0RFTCBNRVRIT0RTXHRcdFx0XHRcdFx0XHQqXG5cdCAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXHQgICAgLypcblx0ICAgICpcdEFkZCBvciByZW1vdmUgdGhhdCBmbGF2b3IgZnJvbSB0aGUgbWl4LCB0aGlzIGludm9sdmVzXG5cdCAgICAqXHRcdC0gVXBkYXRpbmcgdGhlIHRvdGFsIG51bWJlciBvZiBmbGF2b3JzXG5cdCAgICAqXHRcdC0gQWRkaW5nIG9yIHJlbW92ZWluZyBhIHZhbHVlIGZyb20vdG8gdGhlIG1peCBvYmplY3Rcblx0ICAgICpcdFx0XHQqIElmIEFkZGluZyB0aGVuIHRoZSBzcGxpdCBtdXN0IGJlIGNhbGN1bGF0ZWRcblx0ICAgICovXG5cdCAgICB2bS5waWNrQUZsYXZvciA9IGZ1bmN0aW9uKGZsYXZvciwgYWRkaW5nKSB7XG5cdCAgICBcdFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZ290IHRoaXMgZmxhdm9yJywgZmxhdm9yKTtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGZsYXZvcnNcblx0ICAgIFx0dXBkYXRlRmxhdm9yQ291bnQoYWRkaW5nKTtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgbWl4XG5cdCAgICBcdHVwZGF0ZUZsYXZvck1peChmbGF2b3IsIGFkZGluZyk7XG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRXaGVuIFwiQWRkIFRvIENhcnRcIiBidXR0b24gaXMgY2xpY2tlZCwgYSBuZXcgaXRlbSBpcyBidWlsdCwgYW5kIGFkZGVkIHRvIHRoZVxuXHQgICAgKlx0Y2FydCBvYmplY3QuXG5cdCAgICAqL1xuXHQgICAgdm0uYWRkVG9DYXJ0ID0gZnVuY3Rpb24oY2hlY2tPdXQpIHtcdFx0Ly9hZGQgdGhlIGN1cnJlbnQgaXRlbSB0byB0aGUgY2FydFxuXG5cdCAgICBcdC8vZGVmaW5lIHRoZSBsb2NhbCB2YXJpYWJsZXNcblx0ICAgIFx0dmFyIHRoaXNQYWNrYWdpbmcgPSB2bS5zdGF0ZS5wYWNrYWdpbmcuc2l6ZTtcblx0ICAgIFx0dmFyIHRoaXNNaXh0dXJlID0gdm0uc3RhdGUucGFja2FnaW5nLm1peDtcblx0ICAgIFx0dmFyIHRoaXNRdWFudGl0eSA9IHZtLnF0eTtcblx0ICAgIFx0dmFyIHRoaXNDb3N0ID0gdm0ucHJpY2luZy5jYWxjdWxhdGVQdXJjaGFzZVByaWNlKHZtLnN0YXRlLnBhY2thZ2luZywgdm0ucHJpY2luZyk7XG5cdCAgICBcdHZhciB0aGlzRGVzY3JpcHRpb24gPSB2bS5wcmljaW5nLmJ1aWxkRGVzY3JpcHRpb24odm0uc3RhdGUucGFja2FnaW5nLCB2bS5wcmljaW5nKTtcblxuXHQgICAgXHQvL2J1aWxkIHRoZSBpdGVtXG5cdCAgICBcdHZhciBpdGVtRm9yUHVyY2hhc2UgPSB7XG5cdCAgICBcdFx0ZGVzY3JpcHRpb246IHRoaXNEZXNjcmlwdGlvbixcblx0XHRcdFx0cGFja2FnaW5nOiB0aGlzUGFja2FnaW5nLFxuXHRcdFx0XHRmbGF2b3JzOiB0aGlzTWl4dHVyZSxcblx0XHRcdFx0cXR5OiB0aGlzUXVhbnRpdHksXG5cdFx0XHRcdGNvc3Q6IHRoaXNDb3N0XG5cdCAgICBcdH1cblxuXHQgICAgXHQvL3Bhc3MgaXQgdG8gdGhlIGNhcnRcblx0ICAgIFx0dm0uY2FydC5pdGVtcy5wdXNoKHZtLmFkZEZpbGxlZFBhY2thZ2UoKShpdGVtRm9yUHVyY2hhc2UpKTtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgc3RhdGVcblx0ICAgIFx0dXBkYXRlUGFja2FnaW5nU3RhdGUoKTtcblxuXHQgICAgXHQvL3RoZW4gbW92ZSB0byB0aGUgbmV4dCB0YWJcblx0ICAgIFx0aWYoY2hlY2tPdXQpIHZtLmNoYW5nZVRhYigpKDIpO1xuXHQgICAgXHRlbHNlIHZtLmNoYW5nZVRhYigpKDApO1xuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0V2hlbiB0aGlzIGJ1dHRvbiBpcyBjbGlja2VkIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcGFja2FnaW5nIGlzIGRpc2NhcmRlZFxuXHQgICAgKi9cblx0ICAgIHZtLmRpc2NhcmRCdXR0b25DbGlja2VkID0gZnVuY3Rpb24oKSB7XHRcblx0ICAgIFx0XG5cdCAgICBcdC8vY3VycmVudGx5IGZpbGxpbmcgcGFja2FnZSBzZXQgdG8gdW5kZWZpbmVkXG5cdCAgICBcdHVwZGF0ZVBhY2thZ2luZ1N0YXRlKCk7XG5cblx0ICAgIFx0Ly9hY3RpdmUgdGFiIHN3aXRjaGVkIGJhY2sgdG8gMFxuXHQgICAgXHR2bS5jaGFuZ2VUYWIoKSgwKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGF5bWVudE1hbmFnZXInLCBwYXltZW50TWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGF5bWVudE1hbmFnZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wYXltZW50TWFuYWdlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnYmFja2VuZENvbUZhY3RvcnknXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYXltZW50TWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBiYWNrZW5kQ29tRmFjdG9yeSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGxhdHRlckZpbGxlcicsIHBsYXR0ZXJGaWxsZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHBsYXR0ZXJGaWxsZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wbGF0dGVyRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBsYXR0ZXJGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGxhdHRlckZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwbGF0dGVyRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3F0eU1hbmFnZXInLCBxdHlNYW5hZ2VyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBxdHlNYW5hZ2VyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcXR5TWFuYWdlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRxdHk6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcXR5TWFuYWdlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBxdHlNYW5hZ2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHF0eU1hbmFnZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXG5cdCAgICB2bS5zdWJ0cmFjdCA9IGZ1bmN0aW9uKCkgeyBpZih2bS5xdHkgPiAxKSB2bS5xdHktLTsgfVxuXHQgICAgdm0uYWRkID0gZnVuY3Rpb24oKSB7IHZtLnF0eSsrOyB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdyZWdpb25GaW5kZXInLCByZWdpb25GaW5kZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHJlZ2lvbkZpbmRlcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3JlZ2lvbkZpbmRlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRsb2NhdGlvblJlZGlyZWN0OiAnJicsXG5cdFx0XHRzdGF0ZXM6IFwiPVwiXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiByZWdpb25GaW5kZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcmVnaW9uRmluZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHJlZ2lvbkZpbmRlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgdmFyIHN0YXRlc0FycmF5ID0gW11cblx0ICAgIFx0XG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uc2VsZWN0U3RhdGUgPSBmdW5jdGlvbihpZCkge1xuXG5cdCAgICBcdC8vbWFrZSBhbiBhcnJheSBvZiB0aGUgc3RhdGVzIGtleXNcblx0ICAgIFx0T2JqZWN0LmtleXModm0uc3RhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHQgICAgXHRcdHN0YXRlc0FycmF5LnB1c2goa2V5KTtcblx0ICAgIFx0fSk7XG5cblx0ICAgIFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0ICAgIFx0dmFyIHNlbGVjdGVkU3RhdGUgPSBzdGF0ZXNBcnJheVtpZF07XG5cblx0ICAgIFx0JGxvZy5pbmZvKCdzZWxlY3RlZFN0YXRlOicsIHNlbGVjdGVkU3RhdGUpO1xuXG5cdCAgICBcdC8vcGFzcyB0aGUgaWQgYmFjayB1cCB0byB0aGUgbG9jYXRpb25zIGNvbnRyb2xsZXJcblx0ICAgIFx0dm0ubG9jYXRpb25SZWRpcmVjdCgpKHNlbGVjdGVkU3RhdGUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWVFbXB0aWVzJywgc2VlRW1wdGllcyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRW1wdGllcygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VlRnVsbHMnLCBzZWVGdWxscyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VlRnVsbHMoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWVGdWxscy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWVGdWxsc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVGdWxsc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWVGdWxsc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlbGVjdEZsYXZvcnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0cGFja2FnaW5nU2VsZWN0ZWQ6ICc9Jyxcblx0XHRcdHJlbW92ZUFTaXplOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblxuXHQgICAgLy9hc3NpZ24gYSBiYWcgdG8gYmUgZmlsbGVkXG5cdCAgICB2bS5maWxsQVBhY2thZ2UgPSBmdW5jdGlvbihwYWNrYWdpbmcpIHtcblx0ICAgIFx0dm0uY3VycmVudGx5RmlsbGluZy5wYWNrYWdpbmcgPSBwYWNrYWdpbmc7XG5cdCAgICB9XG5cblx0ICAgIHZtLnNpemVCdG5DbGlja2VkID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdCRsb2cuaW5mbygnY2xpa2NlZCcsIHBhY2thZ2luZywgdm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICBcdC8vZGVjcmVtZW50IHRoZSBjb3VudCBvZiB0aGlzIHBhY2thZ2UgdGhhdCB3YXMgY2xpY2tlZFxuXHQgICAgXHR2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddID0gdm0ucmVtb3ZlQVNpemUoKSh2bS5wYWNrYWdpbmdTZWxlY3RlZFtwYWNrYWdpbmddKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2VsZWN0UGFja2FnaW5nJywgc2VsZWN0UGFja2FnaW5nKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWxlY3RQYWNrYWdpbmcoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGU6ICc9Jyxcblx0XHRcdHByaWNpbmc6ICc9Jyxcblx0XHRcdGNoYW5nZVRhYjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHNpemUpIHtcblxuXHQgICAgXHQvL3ZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gc2l6ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNpemUgPSBzaXplO1xuXG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgc2l6ZSwgJywgdm0ucHJpY2luZy5wYWNrYWdpbmdbc2l6ZV0udGl0bGUpO1xuXG5cdCAgICBcdC8vY2hhbmdlIHRoZSBhY3RpdmUgdGFiXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDEpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ09wdGlvbnMnLCBzaGlwcGluZ09wdGlvbnMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nT3B0aW9ucygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nT3B0aW9ucy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ09wdGlvbnNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdPcHRpb25zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nT3B0aW9uc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICBcbiAgICBcdC8vbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJywgc2hvcHBpbmdQcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhcigpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Nob3BwaW5nUHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWN0aXZlVGFiOiAnPScsXG5cdFx0XHRjaGFuZ2VUYWI6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblx0XHQvL25lZWRzIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBpbiBhY3RpdmUgdGFiLCBhcyBvdGhlciBkaXJlY3RpdmVzXG5cdFx0Ly9jYW4gcHJvbXB0IHRoZXNlIGNoYW5nZXNcblx0XHRzY29wZS4kd2F0Y2goJ3ZtLmFjdGl2ZVRhYicsIGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0XHRcdC8vY29uc29sZS5sb2coJ3RoZSB0YWIgY2hhbmdlZCcsIGN1cnJlbnQsIG5leHQpO1xuXHRcdFx0Ly91cGRhdGUgc3R5bGVzXG5cdCAgICBcdHNjb3BlLnZtLmNoYW5nZVRhYkNsYXNzKG5leHQsIGN1cnJlbnQpO1xuXG5cdFx0fSk7XG4gICAgfVxuXG4gICAgc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc3RhdGVGYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzdGF0ZUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnRhYnMgPSBzdGF0ZUZhY3RvcnkuZGVmYXVsdFN0YXRlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJyk7XG5cblx0ICAgIC8vdmlldyBtb2RlbCBmdW5jdGlvbnNcblx0ICAgIHZtLmNoYW5nZVRhYkNsYXNzID0gZnVuY3Rpb24obmV4dCwgY3VycmVudCkge1xuXHQgICAgXHQvL3VwZGF0ZSBzdHlsZXNcblx0ICAgIFx0dm0udGFic1tjdXJyZW50XS5jbGFzc2VzLnNwYnRhYlNlbGVjdGVkID0gZmFsc2U7XG5cdCAgICBcdHZtLnRhYnNbbmV4dF0uY2xhc3Nlcy5zcGJ0YWJTZWxlY3RlZCA9IHRydWU7XHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgdm0udGFiQ2xpY2sgPSBmdW5jdGlvbih0YWIpIHtcblxuXHQgICAgXHQvL3VwZGF0ZSB0aGUgc3R5bGVzXG5cdCAgICBcdHZtLmNoYW5nZVRhYkNsYXNzKHRhYiwgdm0uYWN0aXZlVGFiKTtcblxuXHQgICAgXHQvL3VwZGF0ZSBwYXJlbnQgbW9kZWxcblx0ICAgIFx0dm0uY2hhbmdlVGFiKCkodGFiKTtcblx0ICAgIH1cblx0fVx0XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgndG9vbEJhcicsIHRvb2xCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHRvb2xCYXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdiYWNrZW5kJywgYmFja2VuZCk7XG5cbmJhY2tlbmQuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCcsICdmaXJlYmFzZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGJhY2tlbmQoJGxvZywgZmlyZWJhc2UpIHtcblxuXHR2YXIgYmFja2VuZENvbUVsZW1lbnRzID0ge1xuXHRcdGdldDogZ2V0LFxuXHRcdGdldExvY2F0aW9uczogZ2V0TG9jYXRpb25zXG5cdH07XG5cblx0ZnVuY3Rpb24gX2dldCh1cmwpIHtcblx0XHRyZXR1cm4gZmV0Y2godXJsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9nZXRKU09OKHVybCkge1xuXHRcdHJldHVybiBfZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldCgpIHtcblx0XHRcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRcblxuXG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRMb2NhdGlvbnMoKSB7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vJGxvZy5pbmZvKCdnb2luZyBvdXQgdG8gc2VydmVyJyk7XG5cblx0XHRcdC8vZmlyZWJhc2UudGVzdCgpO1xuXHRcdFx0XG5cdFx0XHRfZ2V0SlNPTignL2FwaS9nZXQvbGlzdC9yZWdpb25zJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0Ly9ub3RpZnkgdGhlIHVzZXJcblx0XHRcdFx0Ly8kbG9nLmluZm8oJ3N1Y2Nlc3M6JywgcmVzcG9uc2UpO1xuXG5cdFx0XHRcdC8vcGFzcyB0aGUgcmVzcG9uc2UgYmFja1xuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuXG5cdFx0XHRcdCRsb2cuaW5mbygnZXJyb3I6JywgZSk7XG5cblx0XHRcdFx0cmVqZWN0KGUpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRyZXR1cm4gYmFja2VuZENvbUVsZW1lbnRzO1xuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnZGF0YVNlcnZpY2VzJywgZGF0YVNlcnZpY2VzKTtcblxuZGF0YVNlcnZpY2VzLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBkYXRhU2VydmljZXMoJGxvZykge1xuXG5cdHZhciBkYXRhU2VydmljZXNPYmplY3QgPSB7XG5cblx0fTtcblxuXHRyZXR1cm4gZGF0YVNlcnZpY2VzT2JqZWN0O1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ2ZpbGxpbmdzRmFjdG9yeScsIGZpbGxpbmdzRmFjdG9yeSk7XG5cbmZpbGxpbmdzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZmlsbGluZ3NGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbEZpbGxpbmdzID0ge1xuICAgIFx0cGFja2FnaW5nOiB1bmRlZmluZWQsXG4gICAgXHRmbGF2b3JzOiB7XG4gICAgXHRcdDA6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcbiAgICBcdFx0MTogXCJEcnVua2VuIFBlY2Fuc1wiLFxuICAgIFx0XHQyOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuICAgIFx0XHQzOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuICAgIFx0XHQ0OiBcIkNpbm5hbW9uIEFsbW9uZHNcIixcbiAgICBcdFx0NTogXCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcbiAgICBcdFx0NjogXCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIlxuICAgIFx0fSxcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIDA6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAxOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMjogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDM6IFwiQWxtb25kc1wiLFxuICAgICAgICAgICAgNDogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA1OiBcIkNhc2hld3NcIixcbiAgICAgICAgICAgIDY6IFwiUGVhbnV0c1wiXG4gICAgICAgIH0sXG4gICAgICAgIHJlY2lwaWVzOiB7XG4gICAgICAgICAgICAwOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDE6IFwiRHJ1bmtlblwiLFxuICAgICAgICAgICAgMjogXCJDaW5uYW1vblwiLFxuICAgICAgICAgICAgMzogXCJTZWNyZXQgUmVjaXBlXCIsXG4gICAgICAgICAgICA0OiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICA1OiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDY6IFwiU2VjcmV0IFJlY2lwZVwiICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIFx0LypmbGF2b3JzOiB7XG4gICAgXHRcdG5vT2ZGbGF2b3JzOiAwLFxuICAgIFx0XHRzZWxlY3RlZDoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHREUlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0Q05QZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdFNSQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRDTkFsbW9uZDogZmFsc2UsXG5cdCAgICBcdFx0U1JDYXNoZXc6IGZhbHNlLFxuXHQgICAgXHRcdFNSUGVhbnV0OiBmYWxzZVxuICAgIFx0XHR9LFxuICAgIFx0XHRwcm9wb3J0aW9uczoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdERSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdENOUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdFNSQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdENOQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdFNSQ2FzaGV3OiAwLjAwLFxuXHQgICAgXHRcdFNSUGVhbnV0OiAwLjAwXG4gICAgXHRcdH1cbiAgICBcdH0sKi9cblxuICAgIH07XG5cdFxuXHRyZXR1cm4gYWxsRmlsbGluZ3M7XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdsb2NhdGlvbnNGaWx0ZXInLCBsb2NhdGlvbnNGaWx0ZXIpO1xuXG5sb2NhdGlvbnNGaWx0ZXIuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc0ZpbHRlcigkbG9nKSB7XG5cblx0dmFyIGxvY2F0aW9uc0ZpbHRlck9iamVjdCA9IHtcblx0XHR3ZWVrbHk6d2Vla2x5XG5cdH07XG5cblx0ZnVuY3Rpb24gd2Vla2x5KGxvY2F0aW9ucywgd2Vlaykge1xuXHRcdHJldHVybiBbJ3Rlc3QnLCAndGVzdGluZycsICdhd2Vzb21lJ107XG5cdH1cblxuXHRyZXR1cm4gbG9jYXRpb25zRmlsdGVyT2JqZWN0O1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ2xvY2F0aW9uc1N0YXRlJywgbG9jYXRpb25zU3RhdGUpO1xuXG5sb2NhdGlvbnNTdGF0ZS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zU3RhdGUoJGxvZykge1xuXG5cdHZhciBsb2NhdGlvbnNTdGF0ZU9iamVjdCA9IHtcblx0XHRyZWdpb25GaW5kZXI6IHtcblx0XHRcdHZpc2FibGU6IHRydWVcblx0XHR9LFx0XHRcblx0XHRsb2NhdGlvbkxhYmVsOiB7XG5cdFx0XHR2aXNhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0ZXZlcnlEYXlMb2NhdGlvbnM6IHtcblx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0fSxcblx0XHRldmVudHNBbmRNYXJrZXRzOiB7XG5cdFx0XHR2aXNhYmxlOiBmYWxzZVxuXHRcdH0sXHRcdFxuXHRcdGxvY2F0aW9uc1RvZGF5OiB7XG5cdFx0XHR2aXNhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0bG9jYXRpb25zVGhpc1dlZWs6IHtcblx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0fSxcblx0XHRsb2NhdGlvbnNDaHJvbm9WaWV3OiB7XG5cdFx0XHR2aXNhYmxlOiBmYWxzZVxuXHRcdH0sXG5cdFx0c3RhdGU6IHN0YXRlXG5cdH07XG5cblx0ZnVuY3Rpb24gc3RhdGUoaWQsIGxvY2F0aW9ucykge1xuXG5cdFx0Ly8kbG9nLmluZm8oJ2lkJywgaWQpO1xuXHRcdC8vJGxvZy5pbmZvKCdsb2NhdGlvbnMnLCBsb2NhdGlvbnMpO1xuXG5cdFx0aWYoaWQgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5yZWdpb25GaW5kZXIudmlzYWJsZSA9IGZhbHNlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QubG9jYXRpb25MYWJlbC52aXNhYmxlID0gdHJ1ZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmV2ZXJ5RGF5TG9jYXRpb25zLnZpc2FibGUgPSBmYWxzZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmV2ZW50c0FuZE1hcmtldHMudmlzYWJsZSA9IHRydWU7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5sb2NhdGlvbnNUb2RheS52aXNhYmxlID0gdHJ1ZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmxvY2F0aW9uc1RoaXNXZWVrLnZpc2FibGUgPSB0cnVlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QubG9jYXRpb25zQ2hyb25vVmlldy52aXNhYmxlID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LnJlZ2lvbkZpbmRlci52aXNhYmxlID0gdHJ1ZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmxvY2F0aW9uTGFiZWwudmlzYWJsZSA9IGZhbHNlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QuZXZlcnlEYXlMb2NhdGlvbnMudmlzYWJsZSA9IGZhbHNlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QuZXZlbnRzQW5kTWFya2V0cy52aXNhYmxlID0gZmFsc2U7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5sb2NhdGlvbnNUb2RheS52aXNhYmxlID0gZmFsc2U7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5sb2NhdGlvbnNUaGlzV2Vlay52aXNhYmxlID0gZmFsc2U7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5sb2NhdGlvbnNDaHJvbm9WaWV3LnZpc2FibGUgPSBmYWxzZTtcdFx0XHRcblx0XHR9XG5cblx0XHQvLyRsb2cuaW5mbygnbG9jYXRpb25zU3RhdGVPYmplY3QnLCBsb2NhdGlvbnNTdGF0ZU9iamVjdCk7XG5cblx0XHRyZXR1cm4gbG9jYXRpb25zU3RhdGVPYmplY3Q7XG5cdH1cblxuXHRyZXR1cm4gbG9jYXRpb25zU3RhdGVPYmplY3Q7XG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgncHJpY2VMaXN0RmFjdG9yeScsIHByaWNlTGlzdEZhY3RvcnkpO1xuXG5wcmljZUxpc3RGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcmljZUxpc3RGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbFByaWNlcyA9IHtcblx0XHRwYWNrYWdpbmc6IHtcblx0XHRcdDA6IHtcblx0ICAgIFx0XHRcInRpdGxlXCI6IFwiU21hbGxcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiA0LFxuXHQgICAgXHRcdFwiY29tcGFydG1lbnRzXCI6IDEsXG5cdCAgICBcdFx0XCJtYXhGbGF2b3JzXCI6IDEwMFxuXHQgICAgXHR9LFxuXHQgICAgXHQxOiB7XG5cdCAgICBcdFx0XCJ0aXRsZVwiOiBcIkF2ZXJhZ2VcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiA4LFxuXHQgICAgXHRcdFwiY29tcGFydG1lbnRzXCI6IDEsXG5cdCAgICBcdFx0XCJtYXhGbGF2b3JzXCI6IDEwMFxuXHQgICAgXHR9LFxuXHQgICAgXHQyOiB7XG5cdCAgICBcdFx0XCJ0aXRsZVwiOiBcIkltcHJlc3NpdmVcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiAxNixcblx0ICAgIFx0XHRcImNvbXBhcnRtZW50c1wiOiAxLFxuXHQgICAgXHRcdFwibWF4Rmxhdm9yc1wiOiAxMDBcblx0ICAgIFx0fSxcblx0ICAgIFx0Mzoge1xuXHQgICAgXHRcdFwidGl0bGVcIjogXCJQbGF0dGVyXCIsXG5cdCAgICBcdFx0XCJ2b2x1bWVcIjogMjAsXG5cdCAgICBcdFx0XCJjb21wYXJ0bWVudHNcIjogNCxcblx0ICAgIFx0XHRcIm1heEZsYXZvcnNcIjogNFxuXHQgICAgXHR9XG5cdFx0fSxcblx0XHRmbGF2b3JzOiB7XG4gICAgXHRcdDA6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcbiAgICBcdFx0MTogXCJEcnVua2VuIFBlY2Fuc1wiLFxuICAgIFx0XHQyOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuICAgIFx0XHQzOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuICAgIFx0XHQ0OiBcIkNpbm5hbW9uIEFsbW9uZHNcIixcbiAgICBcdFx0NTogXCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcbiAgICBcdFx0NjogXCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIlxuICAgIFx0fSxcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIDA6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAxOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMjogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDM6IFwiQWxtb25kc1wiLFxuICAgICAgICAgICAgNDogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA1OiBcIkNhc2hld3NcIixcbiAgICAgICAgICAgIDY6IFwiUGVhbnV0c1wiXG4gICAgICAgIH0sXG4gICAgICAgIHJlY2lwaWVzOiB7XG4gICAgICAgICAgICAwOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDE6IFwiRHJ1bmtlblwiLFxuICAgICAgICAgICAgMjogXCJDaW5uYW1vblwiLFxuICAgICAgICAgICAgMzogXCJTZWNyZXQgUmVjaXBlXCIsXG4gICAgICAgICAgICA0OiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICA1OiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDY6IFwiU2VjcmV0IFJlY2lwZVwiICAgICAgICAgICBcbiAgICAgICAgfSxcblx0XHR3aXRoUGVhbnV0czoge1xuXHRcdFx0MDogNTAwLFxuXHRcdFx0MTogODAwLFxuXHRcdFx0MjogMTEwMCxcblx0XHRcdDM6IHtcblx0XHRcdFx0MTogMjAwMCxcblx0XHRcdFx0MjogMTgwMCxcblx0XHRcdFx0MzogMTYwMCxcblx0XHRcdFx0NDogMTQwMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0d2l0aG91dFBlYW51dHM6IHtcblx0XHRcdDA6IDcwMCxcblx0XHRcdDE6IDEzMDAsXG5cdFx0XHQyOiAxODAwLFxuXHRcdFx0Mzoge1xuXHRcdFx0XHQwOiAyMjAwXG5cdFx0XHR9XHRcdFx0XG5cdFx0fSxcblx0XHRfZGlzdGlsbFR5cGU6X2Rpc3RpbGxUeXBlLFxuXHRcdF9kaXN0aWxsRmxhdm9yczpfZGlzdGlsbEZsYXZvcnMsXG5cdFx0Y2FsY3VsYXRlUHVyY2hhc2VQcmljZTogY2FsY3VsYXRlUHVyY2hhc2VQcmljZSxcblx0XHRidWlsZERlc2NyaXB0aW9uOiBidWlsZERlc2NyaXB0aW9uXG5cdH07XG5cblx0ZnVuY3Rpb24gX2Rpc3RpbGxUeXBlKHJlZiwgbWl4KSB7XG5cblx0XHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHR5cGVPYmplY3QgPSB7fTtcblx0XHR2YXIgbm9PZlR5cGVzID0gMDtcblx0XHR2YXIgcmV0dXJuU3RyaW5nO1xuXG5cdFx0JGxvZy5pbmZvKCdtaXgnLCBtaXgpO1xuXG5cdFx0Ly9jb2xsZWN0IGFsbCB0aGUga2V5cyBmcm9tIHRoZSBtaXhcblx0XHRPYmplY3Qua2V5cyhtaXgpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdC8vdXNlIHRoZSBrZXlzIHRvIGFkZCBudXQgdHlwZXMgdG8gYSB0eXBlT2JqZWN0XG5cdFx0XHR0eXBlT2JqZWN0W3JlZltrZXldXSA9IHRydWU7XG5cdFx0fSk7XG5cblx0XHQvL2NvdW50IHRoZSB0eXBlcyBpbiB0aGUgdHlwZSBvYmplY3Qgbm93XG5cdFx0T2JqZWN0LmtleXModHlwZU9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFxuXHRcdFx0Ly9pbmNyaW1lbnQgdGhlIG51bWJlciBvZiB0eXBlc1xuXHRcdFx0bm9PZlR5cGVzKys7XG5cblx0XHRcdC8vc2F2ZSB0aGUgdHlwZSBmb3IgbGF0ZXIgaWYgbmVlZCBiZVxuXHRcdFx0cmV0dXJuU3RyaW5nID0ga2V5O1xuXHRcdH0pO1xuXG5cdFx0Ly9pZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSB0eXBlLi4uXG5cdFx0aWYobm9PZlR5cGVzID4gMSkge1xuXHRcdFx0Ly9pdCdzIGEgbWl4XG5cdFx0XHRpZih0eXBlb2YgbWl4WzZdICE9ICd1bmRlZmluZWQnICYmIG1peFs2XSA+PSAwLjUpIHJldHVyblN0cmluZyA9ICdQZWFudXQgTWl4Jztcblx0XHRcdGVsc2UgcmV0dXJuU3RyaW5nID0gJ01peCdcblxuXHRcdH0gXG5cblx0XHQvLyRsb2cuaW5mbyh0eXBlT2JqZWN0KTtcblxuXHRcdHJldHVybiByZXR1cm5TdHJpbmc7XG5cdH1cblxuXHRmdW5jdGlvbiBfZGlzdGlsbEZsYXZvcnMocmVmLCBtaXgpIHtcblx0XHRcblx0XHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGZsYXZvck9iamVjdCA9IHt9O1xuXHRcdHZhciBmbGF2b3JzQXJyYXkgPSBbXTtcblx0XHR2YXIgcmV0dXJuU3RyaW5nO1xuXG5cdFx0Ly9jb2xsZWN0IGFsbCB0aGUga2V5cyBmcm9tIHRoZSBtaXhcblx0XHRPYmplY3Qua2V5cyhtaXgpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdC8vdXNlIHRoZSBrZXlzIHRvIGFkZCBudXQgdHlwZXMgdG8gYSBmbGF2b3JPYmplY3Rcblx0XHRcdGZsYXZvck9iamVjdFtyZWZba2V5XV0gPSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Ly9idWlsZCBhbiBhcnJheSBvZiB0eXBlc1xuXHRcdE9iamVjdC5rZXlzKGZsYXZvck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0Zmxhdm9yc0FycmF5LnB1c2goa2V5KTtcblx0XHR9KTtcdFx0XG5cblx0XHRzd2l0Y2goZmxhdm9yc0FycmF5Lmxlbmd0aCkge1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRyZXR1cm5TdHJpbmcgPSBmbGF2b3JzQXJyYXlbMF07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm5TdHJpbmcgPSBmbGF2b3JzQXJyYXlbMF0gKyAnICYgJyArIGZsYXZvcnNBcnJheVsxXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVyblN0cmluZyA9IGZsYXZvcnNBcnJheVswXSArICcsICcgKyBmbGF2b3JzQXJyYXlbMV0gKyAnICYgJyArIGZsYXZvcnNBcnJheVsyXTtcblx0XHRcdFx0YnJlYWtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5TdHJpbmc7XG5cdH1cblxuXHRmdW5jdGlvbiBjYWxjdWxhdGVQdXJjaGFzZVByaWNlKHRoaXNQYWNrYWdpbmcsIHRoaXNQcmljaW5nKSB7XG5cdFx0XG5cdFx0Ly8kbG9nLmluZm8oJ1BhY2thZ2luZzonLCB0aGlzUGFja2FnaW5nKTtcblx0XHQvLyRsb2cuaW5mbygnUHJpY2luZzonLCB0aGlzUHJpY2luZyk7XG5cdFx0XG5cdFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgY29zdCA9IDA7XG5cblx0XHQvL2ZpcnN0IGNoZWNrIGZvciBwZWFudXRzXG5cdFx0aWYodHlwZW9mIHRoaXNQYWNrYWdpbmcubWl4Wyc2J10gPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdC8vcGVhbnV0cyBhcmUgTk9UIHByZXNlbnRcblx0XHRcdC8vJGxvZy5pbmZvKCdubyBwZWFudXRzJyk7XG5cdFx0XHQvL3RoZW4gY2hlY2sgZm9yIHNpemVcblx0XHRcdGlmKHRoaXNQYWNrYWdpbmcuc2l6ZSA+IDIpIHtcblx0XHRcdFx0Ly90aGlzIGlzIGEgcGxhdHRlclxuXHRcdFx0XHRjb3N0ID0gdGhpc1ByaWNpbmcud2l0aG91dFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldWycwJ107XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL3RoaXMgaXMgYSBjb25lXG5cdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV07XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly9wZWFudXRzIGFyZSBwcmVzZW50XG5cdFx0XHQvLyRsb2cuaW5mbygndGhlcmUgYXJlIHBlYW51dHMnKVxuXHRcdFx0Ly90aGVuIGNoZWNrIGZvciBzaXplXG5cdFx0XHRpZih0aGlzUGFja2FnaW5nLnNpemUgPiAyKSB7XG5cdFx0XHRcdC8vdGhpcyBpcyBhIHBsYXR0ZXJcblx0XHRcdFx0Ly9jb3VudCBzZWN0aW9ucyBvZiBwZWFudXRzXG5cdFx0XHRcdHZhciBwZWFudXRTZWN0aW9ucyA9IDQgKiB0aGlzUGFja2FnaW5nLm1peFsnNiddO1xuXG5cdFx0XHRcdC8vJGxvZy5pbmZvKHBlYW51dFNlY3Rpb25zLCAncGVhbnV0U2VjdGlvbnMnKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRoUGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV1bcGVhbnV0U2VjdGlvbnMudG9TdHJpbmcoKV07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vdGhpcyBpcyBhIGNvbmVcblx0XHRcdFx0Ly9pcyBpdCBtb3JlIG9yIGxlc3MgdGhhbiA1MCUgcGVhbnV0cz9cblx0XHRcdFx0Ly8kbG9nLmluZm8oXCIlIHBlYW51dHNcIiwgdGhpc1BhY2thZ2luZy5taXhbJzYnXSk7XG5cdFx0XHRcdGlmKHRoaXNQYWNrYWdpbmcubWl4Wyc2J10gPj0gMC41KSB7XG5cdFx0XHRcdFx0Ly8kbG9nLmluZm8oJ3BlYW51dHMgcHJpY2UnLCB0aGlzUHJpY2luZy53aXRoUGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV0pO1xuXHRcdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRoUGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8kbG9nLmluZm8oJ05vIFBlYW51dHMgcHJpY2UnLCB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV0pO1xuXHRcdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY29zdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYnVpbGREZXNjcmlwdGlvbih0aGlzUGFja2FnaW5nLCB0aGlzUHJpY2luZykge1xuXHRcdC8vJGxvZy5pbmZvKCdidWlsZGluZyBhIGRlc2NyaXB0aW9uJyk7XG5cdFx0Ly8kbG9nLmluZm8oJ3R5cGUnLCB0aGlzUGFja2FnaW5nLm1peCk7XG5cdFx0Ly8kbG9nLmluZm8oJ2ZsYXZvcnMnLCB0aGlzUGFja2FnaW5nLm1peCk7XG5cdFx0Ly8kbG9nLmluZm8oJ3RoaXNQcmljaW5nJywgdGhpc1ByaWNpbmcpO1xuXG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gJyc7XG5cblx0XHQvL2RldGVybWluZSB0aGUgc2l6ZSAoc21hbGwsIGF2ZXJhZ2UsIGltcHJlc3NpdmUsIHBsYXR0ZXIpXG5cdFx0ZGVzY3JpcHRpb24gKz0gdGhpc1ByaWNpbmcucGFja2FnaW5nW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXS50aXRsZTtcblx0XHRkZXNjcmlwdGlvbiArPSBcIjogXCI7XG5cblx0XHQvL2RldGVybWluZSB0aGUgdHlwZSAoUGVjYW5zLCBBbG1vbmRzLCBDYXNoZXdzLCBQZWFudXRzLCBNaXgsIFBlYW51dCBNaXgpXG5cdFx0ZGVzY3JpcHRpb24gKz0gX2Rpc3RpbGxUeXBlKHRoaXNQcmljaW5nLnR5cGVzLCB0aGlzUGFja2FnaW5nLm1peCk7XG5cdFx0ZGVzY3JpcHRpb24gKz0gXCIgKFwiO1xuXG5cdFx0Ly9kZXRlcm1pbmUgcmVjaXBlICguLi4pXG5cdFx0ZGVzY3JpcHRpb24gKz0gX2Rpc3RpbGxGbGF2b3JzKHRoaXNQcmljaW5nLnJlY2lwaWVzLCB0aGlzUGFja2FnaW5nLm1peCk7O1xuXHRcdGRlc2NyaXB0aW9uICs9IFwiKVwiO1xuXG5cdFx0cmV0dXJuIGRlc2NyaXB0aW9uO1xuXHR9XG5cdHJldHVybiBhbGxQcmljZXM7XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdzaG9wcGluZ0NhcnRzRmFjdG9yeScsIHNob3BwaW5nQ2FydHNGYWN0b3J5KTtcblxuc2hvcHBpbmdDYXJ0c0ZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ2FydHNGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbENhcnRFbGVtZW50cyA9IHtcblx0XHRpdGVtczogW1x0Ly9FWEFNUExFIE9CSkVDVFxuXHRcdFx0Lyp7IFxuXHRcdFx0XHRkZXNjcmlwdGlvbjpcIlNtYWxsOiBTUiBQZWNhbnMgJiBTUiBDYXNoZXdzXCIsXG5cdFx0XHRcdHBhY2thZ2luZzogMCxcblx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFwiU1JQZWNhbnNcIjowLjUsXG5cdFx0XHRcdFx0XCJTUkNhc2hld3NcIjowLjVcblx0XHRcdFx0fSxcblx0XHRcdFx0cXR5OiA1LFxuXHRcdFx0XHRjb3N0OiA3MDBcblx0XHRcdH0qL1xuXHRcdF0sXG5cdFx0LypzZWxlY3RlZFBhY2thZ2luZzoge1xuXHRcdFx0c21hbGxzOiAwLFxuXHRcdFx0bWVkaXVtczogMCxcblx0XHRcdGxhcmdlczogMCxcblx0XHRcdHBsYXR0ZXJzOiAwXG5cdFx0fSxcblx0XHRmaWxsZWRQYWNrYWdpbmc6IHtcblx0XHRcdHNtYWxsczoge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRtZWRpdW1zOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRsYXJnZXM6ICB7XG5cdFx0XHRcdHF0eTogMCxcblx0XHRcdFx0bWl4ZXM6IFtdLFxuXHRcdFx0XHRzdWJ0b3RhbDogMFxuXHRcdFx0fSxcblx0XHRcdHBsYXR0ZXJzOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH1cblx0XHR9LCovXG5cdFx0Y29zdDoge1xuXHRcdFx0c3VidG90YWw6IDM1MDAsXG5cdFx0XHR0YXhlczogMCxcblx0XHRcdGRpc2NvdW50czogMCxcblx0XHRcdHNoaXBwaW5nOiB7XG5cblx0XHRcdH1cblx0XHR9LFxuXHRcdGFkZEFTaXplOiBhZGRBU2l6ZSxcblx0XHRyZW1vdmVBU2l6ZTogcmVtb3ZlQVNpemUsXG5cdFx0YWRkRmlsbGVkUGFja2FnZTogYWRkRmlsbGVkUGFja2FnZSxcblx0XHRyZW1vdmVBUGFja2FnZTogcmVtb3ZlQVBhY2thZ2UsXG5cdFx0Y2FsY3VsYXRlSXRlbVN1YnRvdGFsOiBjYWxjdWxhdGVJdGVtU3VidG90YWwsXG5cdFx0Y2FsY3VsYXRlVG90YWxDb3N0OiBjYWxjdWxhdGVUb3RhbENvc3Rcblx0fTtcblxuXHRmdW5jdGlvbiBhZGRBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0Ly9UT0RPOiBSRU1PVkUgVEhJUyBMQVRFUlxuXHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSArIDEpO1xuXG5cdFx0Ly9pbmNyaW1lbnQgdGhlIHN0YXJ0aW5nIHZhbHVlIFxuXHRcdHJldHVybiBzdGFydGluZ1ZhbHVlICsgMTtcblx0fVxuXHRmdW5jdGlvbiByZW1vdmVBU2l6ZShzdGFydGluZ1ZhbHVlKSB7XG5cdFx0XG5cdFx0aWYoc3RhcnRpbmdWYWx1ZSA+IDApIHtcblx0XHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyIHdoYXQgaXMgY29taW5nIGluIGFuZCB3aGF0IGlzIGdvaW5nIG91dFxuXHRcdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzJywgc3RhcnRpbmdWYWx1ZSwgJyByZXR1cm5pbmcgdGhpcyAnLCBzdGFydGluZ1ZhbHVlIC0gMSk7XG5cblx0XHRcdC8vaW5jcmltZW50IHRoZSBzdGFydGluZyB2YWx1ZSBcblx0XHRcdHJldHVybiBzdGFydGluZ1ZhbHVlIC0gMTtcblx0XHR9IGVsc2UgcmV0dXJuIDA7XHRcdFxuXHR9XG5cdGZ1bmN0aW9uIGFkZEZpbGxlZFBhY2thZ2UobmV3UGFja2FnZSkge1xuXHRcdC8vbm90aWZ5IHVzIHRoYXQgdGhlIHBhY2thZ2Ugd2FzIHJlY2VpdmVkXG5cdFx0JGxvZy5pbmZvKCdhZGRpbmcgYSBuZXcgcGFja2FnZSBub3cnLCBuZXdQYWNrYWdlKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwYWNrYWdlXG5cdFx0cmV0dXJuIG5ld1BhY2thZ2U7XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlQVBhY2thZ2Uoc2l6ZSwgaWQpIHt9XG5cblx0ZnVuY3Rpb24gY2FsY3VsYXRlSXRlbVN1YnRvdGFsKGl0ZW0pIHtcblx0XHRcblx0XHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgc3VidG90YWwgPSAoKGl0ZW0uY29zdCAqIGl0ZW0ucXR5KSAvIDEwMCkudG9GaXhlZCgyKTtcblxuXHRcdHJldHVybiBzdWJ0b3RhbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsQ29zdChhbGxJdGVtcykge1xuXG5cdFx0Ly9kZWNhbHJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHRvdGFsID0gMDtcblxuXHRcdGFsbEl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuXHRcdFx0dG90YWwgKz0gKChpdGVtLmNvc3QgKiBpdGVtLnF0eSkgLyAxMDApO1xuXHRcdH0pO1x0XG5cblx0XHRyZXR1cm4gdG90YWwudG9GaXhlZCgyKTtcblx0fVxuXHRcblx0cmV0dXJuIGFsbENhcnRFbGVtZW50cztcblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ3N0YXRlRmFjdG9yeScsIHN0YXRlRmFjdG9yeSk7XG5cbnN0YXRlRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGVGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIHN0YXRlc0ZhY3RvcnkgPSB7XG5cdFx0ZGVmYXVsdFN0YXRlOiBkZWZhdWx0U3RhdGUsXG5cdFx0YnVpbGRCdXR0b25MaXN0OiBidWlsZEJ1dHRvbkxpc3Rcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRTdGF0ZShzZWN0aW9uKSB7XG5cdFx0Ly9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHJldHVybk9iamVjdDtcblxuXHRcdGlmKHNlY3Rpb249PSdzaG9wcGluZycpIHtcblx0XHRcdHJldHVybk9iamVjdCA9IHtcblx0XHRcdFx0YWN0aXZlVGFiOiAwLFxuXHRcdFx0XHRhbGxUYWJzOiB7XG5cdFx0XHRcdFx0MDogJ3BhY2thZ2UnLFxuXHRcdFx0XHRcdDE6ICdmbGF2b3InLFxuXHRcdFx0XHRcdDI6ICdhY2Nlc3MnLFxuXHRcdFx0XHRcdDM6ICdjaGVja291dCdcblx0XHRcdFx0fSxcblx0XHRcdFx0cGFja2FnaW5nOiB7XG5cdFx0XHRcdFx0XCJzZWxlY3RlZFwiOiBmYWxzZSxcblx0XHRcdFx0XHRcInNpemVcIjogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFwiZmxhdm9yc1wiOiAwLFxuXHRcdFx0XHRcdFwibWl4XCI6IHt9LFxuXHRcdFx0XHRcdFwiY29zdFwiOiAwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJ1dHRvbnM6IHtcblx0XHRcdFx0XHR0eXBlTGlzdDoge1xuXHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnUGVjYW5zJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlY2lwaWVzOiAzLFxuXHRcdFx0XHRcdFx0XHRmbGF2b3JzOiB7XG5cdFx0XHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnU1InLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHQxOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdEcnVuaycsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdDI6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ0Npbm4nLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0MToge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnQWxtb25kcycsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZWNpcGllczogMixcblx0XHRcdFx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ1NSJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0MToge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnQ2lubicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHQyOiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdDYXNoZXdzJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlY2lwaWVzOiAxLFxuXHRcdFx0XHRcdFx0XHRmbGF2b3JzOiB7XG5cdFx0XHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnU1InLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0Mzoge1xuXHRcdFx0XHRcdFx0XHR0eXBlOiAnUGVhbnV0cycsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRyZWNpcGllczogMSxcblx0XHRcdFx0XHRcdFx0Zmxhdm9yczoge1xuXHRcdFx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ1NSJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZsYXZvckxpc3Q6IHtcdFx0Ly9UT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIFBlY2Fuc1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdQZWNhbnMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ1NlY3JldCBSZWNpcGUnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdCAgICBcdFx0MToge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjogXCJEcnVua2VuIFBlY2Fuc1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdQZWNhbnMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ0RydW5rZW4nLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdCAgICBcdFx0Mjoge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjogXCJDaW5uYW1vbiBQZWNhbnNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnUGVjYW5zJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdDaW5uYW1vbicsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0ICAgIFx0XHQzOiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdBbG1vbmRzJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdTZWNyZXQgUmVjaXBlJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHQgICAgXHRcdDQ6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6XCJDaW5uYW1vbiBBbG1vbmRzXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ0FsbW9uZHMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ0Npbm5hbW9uJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sICAgIFx0XHRcdFxuXHRcdFx0ICAgIFx0XHQ1OiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBDYXNoZXdzXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ0Nhc2hld3MnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ1NlY3JldCBSZWNpcGUnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgICAgXHRcdFx0XG5cdFx0XHQgICAgXHRcdDY6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6XCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnUGVhbnV0cycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnU2VjcmV0IFJlY2lwZScsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICAgIFx0XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRhcXVpc2l0aW9uOiB7XG5cdFx0XHRcdFx0XHRhZGRyZXNzZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0cGlja3VwOiB7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdCdnbHlwaGljb24nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdCdnbHlwaGljb24tb2snOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c2hpcDoge1xuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHQnZ2x5cGhpY29uJzogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHQnZ2x5cGhpY29uLW9rJzogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZihzZWN0aW9uPT0nc2hvcHBpbmdQcm9ncmVzc0JhcicpIHtcblx0XHRcdHJldHVybk9iamVjdCA9IHtcblx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiB0cnVlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fSxcblx0XHRcdFx0Mjoge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQzOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IFxuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGJ1aWxkQnV0dG9uTGlzdCgvKmxpc3QsIG9wdGlvbnMsIHN0YXRlcyovKSB7XG5cdFx0Ly9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHtcblx0XHRcdDA6IHtcblx0XHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3JldCBSZWNpcGUgUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQxOiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOiBcIkRydW5rZW4gUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQyOiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0Mzoge1xuICAgIFx0XHRcdFwidGl0bGVcIjogXCJTZWNyZXQgUmVjaXBlIEFsbW9uZHNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDQ6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6XCJDaW5uYW1vbiBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sICAgIFx0XHRcdFxuICAgIFx0XHQ1OiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBDYXNoZXdzXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCAgICBcdFx0XHRcbiAgICBcdFx0Njoge1xuICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSAgICBcdFx0XHRcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG5cdHJldHVybiBzdGF0ZXNGYWN0b3J5O1xuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikgeyAgIFxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgLy9kZWZpbmUgdGhlIGxhbmRpbmcgcGFnZVxuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xhbmRpbmdQYWdlLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIHNob3BwaW5nIHJvdXRlc1xuICAgIC53aGVuKCcvc2hvcCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zaG9wcGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnc2hvcHBpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3Nob3AvcmVjZWlwdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9vcmRlclJlY2VpcHQuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Nob3BwaW5nUmVjZWlwdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBsb2NhdGlvbnMgcm91dGVzXG4gICAgLndoZW4oJy9sb2NhdGlvbnMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgbG9jYXRpb25zTW9kZWw6IGxvYWRMb2NhdGlvbnNNb2RlbFxuICAgICAgICB9XG4gICAgfSkgICAgXG4gICAgLndoZW4oJy9sb2NhdGlvbnMvOnN0YXRlJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZTogeyAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgICAgIGxvY2F0aW9uc01vZGVsOiBsb2FkTG9jYXRpb25zTW9kZWxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLndoZW4oJy9sb2NhdGlvbnMvOnN0YXRlLzpyZWdpb24nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgbG9jYXRpb25zTW9kZWw6IGxvYWRMb2NhdGlvbnNNb2RlbFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgY29udGFjdCByb3V0ZXNcbiAgICAud2hlbignL2NvbnRhY3QnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29udGFjdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvYWRtaW4vc2VydmVyL3Rlc3QnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvYWRtaW4uaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2FkbWluQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYXRpb25zTW9kZWwobG9jYXRpb25EYXRhKSB7XG4gICAgY29uc29sZS5sb2coJ3RyeWluZyB0byBsb2FkIGxvY2F0aW9uIG1vZGVsJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGxvY2F0aW9uRGF0YS5nZXRMaXN0KCdzdGF0ZXMnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgcmVqZWN0KCdhbiBlcnJvciBvY2N1cmVkJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5zZXJ2aWNlKCdmaXJlYmFzZScsIGZpcmViYXNlKTtcblxuZmlyZWJhc2UuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGZpcmViYXNlKCRsb2cpIHtcblxuXHR0aGlzLnRlc3QgPSBmdW5jdGlvbigpIHtcblx0XHQkbG9nLmluZm8oJ2luIGZpcmViYXNlJyk7XG5cdFx0JGxvZy5pbmZvKEFIX05VVFNfRkJfQVBJS0VZKTtcblx0XHQkbG9nLmluZm8oJ2dvdCBoZXJlIGluIGZpcmViYXNlJyk7XG5cdH1cblxuXHR0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgY29uZmlnID0ge1xuXHRcdFx0YXBpS2V5OiBBSF9OVVRTX0ZCX0FQSUtFWSxcblx0XHRcdGF1dGhEb21haW46IEFIX05VVFNfRkJfQVVUSERPTUFJTixcblx0XHRcdGRhdGFiYXNlVVJMOiBBSF9OVVRTX0ZCX0RBVEFCQVNFVVJMLFxuXHRcdFx0c3RvcmFnZUJ1Y2tldDogQUhfTlVUU19GQl9TVE9SQUdFQlVDS0VUXG5cdFx0fTtcblx0XHRmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XHRcdFxuXHR9XG5cbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5zZXJ2aWNlKCdsb2NhdGlvbkRhdGEnLCBsb2NhdGlvbkRhdGEpO1xuXG5sb2NhdGlvbkRhdGEuJGluamVjdCA9IFsnJGxvZycsICdiYWNrZW5kJywgJ2ZpcmViYXNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25EYXRhKCRsb2csIGJhY2tlbmQsIGZpcmViYXNlKSB7XG5cdHZhciBsaXN0cyA9IHtcblx0XHRcInN0YXRlc1wiOiAwXG5cdH07XG5cdHZhciBfcmF3ID0ge307XG5cdHZhciBfc3RhdGVzID0gW107XG5cblx0dGhpcy5zZXQgPSBmdW5jdGlvbih2YXJpYWJsZSwgdmFsdWUpIHtcblx0XHR0aGlzW3ZhcmlhYmxlXSA9IHZhbHVlXG5cdH1cblxuXHR0aGlzLmRvd25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxkID0gdGhpcztcblxuXHRcdC8vJGxvZy5pbmZvKCdsb2FkaW5nIExvY2FpdG9uIERhdGEnKTtcblxuXHRcdC8vY2FsbCBkYXRhYmFzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9jYWxsIG91dCB0aGUgc2VydmVyXG5cdFx0XHRiYWNrZW5kLmdldExvY2F0aW9ucygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3NhdmUgdG8gX3Jhd1xuXHRcdFx0XHRsZC5zZXQoJ19yYXcnLCByZXNwb25zZSk7XG5cblx0XHRcdFx0Ly9jb252ZXJ0IF9yYXcgdG8gX3N0YXRlc1xuXG5cdFx0XHRcdC8vc2F2ZSB0byBfc3RhdGVzXG5cdFx0XHRcdGxkLnNldCgnX3N0YXRlcycsIFsnQ2FsaWZvcm5pYScsICdPcmVnb24nXSk7XG5cblx0XHRcdFx0Ly9yZXR1cm4gdGhlIF9zdGF0ZXMgbGlzdFxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcdFx0XHRcdFxuXHRcdFx0XHQvL3Jlc29sdmUoeyd0ZXN0aW5nJzonZ29vZCB0ZXN0J30pXG5cdFx0XHRcdFxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0dGhpcy5nZXRTdGF0ZXMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gX3N0YXRlcztcblx0fVxuXG5cdHRoaXMuZ2V0TGlzdCA9IGZ1bmN0aW9uKGxpc3QpIHtcblx0XHR2YXIgbGQgPSB0aGlzO1xuXG5cdFx0Ly9maXJlYmFzZS50ZXN0KCk7XG5cblx0XHRzd2l0Y2gobGlzdHNbbGlzdF0pIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Ly9jaGVjayB0aGUgcmF3IG9iamVjdFxuXHRcdFx0XHRpZihfc3RhdGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdC8vaWYgdGhlIG9iamVjdCBpcyBlbXB0eSBkb3dubG9hZCBmcm9tIHRoZSBzZXJ2ZVxuXHRcdFx0XHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdFx0XHRcdHJlc29sdmUobGQuZG93bmxvYWQoKSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly9pZiBpdCBpcyBub3QgZW1wdHkgcmV0dXJuIHRoZSBsaXN0IHRoYXQgZXhpc3RzXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShsZC5nZXRTdGF0ZXMoKSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQkbG9nLmluZm8oJ2dvdCB0aGUgZGVmYXVsdCBjYXNlJyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH07XG5cblx0fVxuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2FkbWluQ29udHJvbGxlcicsIGFkbWluQ29udHJvbGxlcik7XG5cbmFkbWluQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGFkbWluQ29udHJvbGxlcigkbG9nLCAkbG9jYXRpb24sICRodHRwKSB7XG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLnRlc3RUZXh0ID0ge307XG5cblx0ZnVuY3Rpb24gX2dldCh1cmwpIHtcblx0XHRyZXR1cm4gZmV0Y2godXJsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9nZXRKU09OKHVybCkge1xuXHRcdHJldHVybiBfZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblx0XHR9KTtcblx0fVxuXG5cblx0X2dldEpTT04oJy9hcGkvZ2V0L2xpc3QvcmVnaW9ucycpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHQkbG9nLmluZm8ocmVzcG9uc2UpO1xuXHRcdHZtLnRlc3RUZXh0ID0gcmVzcG9uc2U7XG5cdH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcblx0XHQkbG9nLmluZm8oJ2dvdCB0aGlzIGVycm9yJywgZSk7XG5cdH0pXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2NvbnRhY3RDb250cm9sbGVyJywgY29udGFjdENvbnRyb2xsZXIpO1xuXG5jb250YWN0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRsb2NhdGlvbiddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RDb250cm9sbGVyKCRsb2csICRsb2NhdGlvbikge1xuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdHZtLnJldHVybkhvbWUgPSBmdW5jdGlvbihwYXJhbSkge1xuXHRcdHZhciBmdWxsUGF0aCA9ICcvJzsgLy8rIHBhcmFtO1xuXHRcdC8vcmVkaXJlY3Rcblx0XHQkbG9nLmluZm8oJ3JlZGlyZWN0aW5nIHRvOiAnICsgZnVsbFBhdGgpO1xuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24pIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9sb2NhbCBtZXRob2RzXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0Ly9kZWZpbmUgdGhlIHN0YXRlIG9mIHRoaXMgcGFnZVxuXHRcdFxuXHRcdFxuXG5cdH07XG5cblx0Ly92aWV3IG1ldGhvZHNcblx0dm0ubmF2QnV0dG9uQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhcmFtKSB7XG5cdFx0dmFyIGZ1bGxQYXRoID0gJy8nICsgcGFyYW07XG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2cuaW5mbygncmVkaXJlY3RpbmcgdG86ICcgKyBmdWxsUGF0aCk7XG5cdFx0JGxvY2F0aW9uLnBhdGgoZnVsbFBhdGgpO1xuXHR9XG5cblx0Ly9ydW4gaW5pdCBmdW5jdGlvblxuXHRpbml0KCk7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ2xvY2F0aW9uc0NvbnRyb2xsZXInLCBsb2NhdGlvbnNDb250cm9sbGVyKTtcblxubG9jYXRpb25zQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLCAnbG9jYXRpb25zTW9kZWwnLCAnbG9jYXRpb25zU3RhdGUnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDb250cm9sbGVyKCRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCBsb2NhdGlvbnNNb2RlbCwgbG9jYXRpb25zU3RhdGUpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdFxuXHQvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdHZtLmxvY2F0aW9uc01vZGVsID0gbG9jYXRpb25zTW9kZWw7XG5cdHZtLnNlbGVjdGVkTG9jYXRpb24gPSB7XG5cdFx0c3RhdGU6ICRyb3V0ZVBhcmFtcy5zdGF0ZSxcblx0XHRyZWdpb246ICRyb3V0ZVBhcmFtcy5yZWdpb25cblx0fTtcblx0dm0uc3RhdGUgPSBsb2NhdGlvbnNTdGF0ZS5zdGF0ZSgkcm91dGVQYXJhbXMuc3RhdGUsIHZtLmxvY2F0aW9uc01vZGVsKTtcblxuXHQvL2xvY2FsIG1ldGhvZHNcblx0JGxvZy5pbmZvKCdsb2NhdGlvbnNNb2RlbCcsIHZtLmxvY2F0aW9uc01vZGVsKTtcblx0XG5cdC8vdmlldyBtZXRob2RzXG5cdHZtLmxvY2F0aW9uUmVkaXJlY3QgPSBmdW5jdGlvbihzdGF0ZSwgcmVnaW9uKSB7XG5cdFx0XG5cdFx0dmFyIGZ1bGxQYXRoID0gJ2xvY2F0aW9ucy8nO1xuXG5cdFx0Ly9ub3RpZnkgdGhlIHVzZXIgZm8gdGhlIHN0YXRlXG5cdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzLCBzdGF0ZS5pZDonLCBzdGF0ZSk7XG5cdFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzLCByZWdpb25JRDonLCByZWdpb25JRCk7XG5cblx0XHQvL2J1aWxkIHRoZSBwYXRoXG5cdFx0ZnVsbFBhdGggPSBmdWxsUGF0aCArIHN0YXRlO1xuXG5cdFx0Ly9yZWRpcmVjdFxuXHRcdCRsb2NhdGlvbi5wYXRoKGZ1bGxQYXRoKTtcblx0fVxuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmNvbnRyb2xsZXIoJ3Nob3BwaW5nQ29udHJvbGxlcicsIHNob3BwaW5nQ29udHJvbGxlcik7XG5cbnNob3BwaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJywgJ3Nob3BwaW5nQ2FydHNGYWN0b3J5JywgJ2ZpbGxpbmdzRmFjdG9yeScsICdwcmljZUxpc3RGYWN0b3J5JywgJ3N0YXRlRmFjdG9yeSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNob3BwaW5nQ29udHJvbGxlcigkbG9nLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSwgZmlsbGluZ3NGYWN0b3J5LCBwcmljZUxpc3RGYWN0b3J5LCBzdGF0ZUZhY3RvcnkpIHtcblxuXHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQvL2ltcG9ydCByZXF1aXJlZCBvYmplY3RzXG4gICAgdm0uY3VycmVudGx5RmlsbGluZyA9IGZpbGxpbmdzRmFjdG9yeTtcblx0dm0uY2FydCA9IHNob3BwaW5nQ2FydHNGYWN0b3J5O1xuXHR2bS5wcmljZUxpc3QgPSBwcmljZUxpc3RGYWN0b3J5O1xuXG5cdC8vc3RhdGUgdHJhY2tpbmdcblx0dm0uY3VycmVudFN0YXRlID0gc3RhdGVGYWN0b3J5LmRlZmF1bHRTdGF0ZSgnc2hvcHBpbmcnKTtcblx0dm0uY3VycmVudFN0YXRlLmZsYXZvcnNCdG5MaXN0ID0gc3RhdGVGYWN0b3J5LmJ1aWxkQnV0dG9uTGlzdChcblx0XHQvL3ZtLmN1cnJlbnRseUZpbGxpbmcuZmxhdm9ycywgXHRcdFx0Ly9saXN0XG5cdFx0Ly9bJ3NlbGVjdGVkJywgJ3Byb3BvcnRpb25zJ10sXHRcdFx0Ly9vcHRpb25zXG5cdFx0Ly97fSwgXHRcdC8vc3RhdGVcblx0KTtcblxuXHQvLyRsb2cuaW5mbyh2bS5jdXJyZW50U3RhdGUuZmxhdm9yc0J0bkxpc3QpO1xuXHRcblx0Ly92aWV3IG1vZGVsIGZ1bmN0aW9uc1xuXG5cdC8vd2hlbiBhIHRhYiBpcyBzZWxlY3RlZCBjaGFuZ2UgdGhlIHRhYlxuXHR2bS51cGRhdGVTZWxlY3RlZFRhYiA9IGZ1bmN0aW9uKHRhYikge1xuXHRcdHZtLmN1cnJlbnRTdGF0ZS5hY3RpdmVUYWIgPSB0YWI7XG5cdFx0JGxvZy5pbmZvKCdjaGFuZ2luZyB0byB0YWInLCB2bS5jdXJyZW50U3RhdGUuYWN0aXZlVGFiKTtcblx0fVxuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29udHJvbGxlcignc2hvcHBpbmdSZWNlaXB0Q29udHJvbGxlcicsIHNob3BwaW5nUmVjZWlwdENvbnRyb2xsZXIpO1xuXG5zaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ1JlY2VpcHRDb250cm9sbGVyKCRsb2cpIHtcblxuXHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXG59IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnYXF1aXNpdGlvbk1hbmFnZXInLCBhcXVpc2l0aW9uTWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYXF1aXNpdGlvbk1hbmFnZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvYXF1aXNpdGlvbk1hbmFnZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGU6IFwiPVwiLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGFxdWlzaXRpb25NYW5hZ2VyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIFxuICAgIFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5tZXRob2RDbGlja2VkID0gZnVuY3Rpb24obWV0aG9kKSB7XG5cdCAgICBcdC8vbG9jYWwgdmFyaWFibGVzXG5cdCAgICBcdHZhciBvcHBvc2l0ZSA9ICcnO1xuXG5cdCAgICBcdC8vYWN0aXZhdGUgYWRkcmVzc2VkXG5cdCAgICBcdHZtLnN0YXRlLmJ1dHRvbnMuYXF1aXNpdGlvbi5hZGRyZXNzZWQgPSB0cnVlO1xuXG5cdCAgICBcdC8vc2VsZWN0IHRoZSBwcm9wZXIgb3B0aW9uXG5cdCAgICBcdHZtLnN0YXRlLmJ1dHRvbnMuYXF1aXNpdGlvblttZXRob2RdLnNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuYnV0dG9ucy5hcXVpc2l0aW9uW21ldGhvZF0uY2xhc3Nlc1snZ2x5cGhpY29uLW9rJ10gPSB0cnVlO1xuXG5cdCAgICBcdC8vdW5zZWxlY3QgdGhlIG9wcG9zaXRlXG5cdCAgICBcdGlmKG1ldGhvZCA9PSAncGlja3VwJykgb3Bwb3NpdGUgPSAnc2hpcCc7XG5cdCAgICBcdGVsc2Ugb3Bwb3NpdGUgPSAncGlja3VwJztcblxuXHQgICAgXHR2bS5zdGF0ZS5idXR0b25zLmFxdWlzaXRpb25bb3Bwb3NpdGVdLnNlbGVjdGVkID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmJ1dHRvbnMuYXF1aXNpdGlvbltvcHBvc2l0ZV0uY2xhc3Nlc1snZ2x5cGhpY29uLW9rJ10gPSBmYWxzZTtcblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdjYXJ0U3VtbWFyeScsIGNhcnRTdW1tYXJ5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjYXJ0U3VtbWFyeSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jYXJ0U3VtbWFyeS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjYXJ0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNhcnRTdW1tYXJ5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNhcnRTdW1tYXJ5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNhcnRTdW1tYXJ5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBcblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdjb25lRmlsbGVyJywgY29uZUZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZUZpbGxlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jb25lRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbmVGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY29uZUZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjb25lRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEhlbHBlcicsIGVtYWlsSGVscGVyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEhlbHBlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lbWFpbEhlbHBlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRyZWRpcmVjdDogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBlbWFpbEhlbHBlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEhlbHBlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICBcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlbWFpbEhlbHBlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL2xvY2FsIHZhcmlhYmxlc1xuXHQgICAgdm0uYW5zd2VycyA9IHtcblx0ICAgIFx0bmFtZToge1xuXHQgICAgXHRcdGF0dGVtcHRlZDogZmFsc2UsXG5cdCAgICBcdFx0dmFsdWU6XCJcIlxuXHQgICAgXHR9LFxuXHQgICAgXHRlbWFpbDoge1xuXHQgICAgXHRcdGF0dGVtcHRlZDogZmFsc2UsXG5cdCAgICBcdFx0dmFsdWU6XCJcIlxuXHQgICAgXHR9LFxuXHQgICAgXHRtZXNzYWdlOiB7XG5cdCAgICBcdFx0YXR0ZW1wdGVkOiBmYWxzZSxcblx0ICAgIFx0XHR2YWx1ZTpcIlwiXG5cdCAgICBcdH1cblxuXHQgICAgfVxuXHQgICAgdm0uZm9ybSA9IHtcblx0ICAgIFx0bmFtZToge1xuXHQgICAgXHRcdGVycm9yOiB7XG5cdCAgICBcdFx0XHQnZGlzcGxheSc6IGZhbHNlLFxuXHQgICAgXHRcdFx0J21lc3NhZ2UnOidUaGlzIGlzIGEgdGVzdCdcblx0ICAgIFx0XHR9LFxuXHQgICAgXHRcdGNsYXNzZXM6IHt9XG5cdCAgICBcdH0sXG5cdCAgICBcdGVtYWlsOiB7XG5cdCAgICBcdFx0ZXJyb3I6IHtcblx0ICAgIFx0XHRcdCdkaXNwbGF5JzogZmFsc2UsXG5cdCAgICBcdFx0XHQnbWVzc2FnZSc6J1RoaXMgaXMgYSB0ZXN0J1xuXHQgICAgXHRcdH0sXG5cdCAgICBcdFx0Y2xhc3Nlczoge31cblx0ICAgIFx0fSxcblx0ICAgIFx0bWVzc2FnZToge1xuXHQgICAgXHRcdGVycm9yOiB7XG5cdCAgICBcdFx0XHQnZGlzcGxheSc6IGZhbHNlLFxuXHQgICAgXHRcdFx0J21lc3NhZ2UnOidUaGlzIGlzIGEgdGVzdCdcblx0ICAgIFx0XHR9LFxuXHQgICAgXHRcdGNsYXNzZXM6IHt9XHQgICAgXHRcdFxuXHQgICAgXHR9LFxuXHQgICAgXHRidG46IHtcblx0ICAgIFx0XHRjbGFzc2VzOiB7XG5cdCAgICBcdFx0XHRcImJ0bi1wcmltYXJ5XCI6IGZhbHNlLFxuXHQgICAgXHRcdFx0XCJidG4td2FybmluZ1wiOiB0cnVlLFxuXHQgICAgXHRcdFx0XCJidG4tc3VjY2Vzc1wiOiBmYWxzZVxuXHQgICAgXHRcdH1cblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICAvL2xvY2FsIG1ldGhvZHNcblx0ICAgIGZ1bmN0aW9uIGxlbmd0aENoZWNrZXIoc3RyaW5nLCByZXF1aXJlZCkge1xuXHQgICAgXHR2YXIgdHJ1ZU9yRmFsc2UgPSBmYWxzZTtcblxuXHQgICAgXHRpZihzdHJpbmcubGVuZ3RoID49IHJlcXVpcmVkKSB0cnVlT3JGYWxzZSA9IHRydWU7XG5cblx0ICAgIFx0cmV0dXJuIHRydWVPckZhbHNlO1xuXHQgICAgfVxuXHQgICAgLypcblx0ICAgICpcdHRoZSBuYW1lIGZpZWxkIHNob3VsZCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgbG9uZ1xuXHQgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlTmFtZSgpIHt9XG5cdCAgICBmdW5jdGlvbiB2YWxpZGF0ZUVtYWlsKCkge31cblx0ICAgIGZ1bmN0aW9uIHZhbGlkYXRlTWVzc2FnZSgpIHt9XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS5jaGVja05hbWUgPSBmdW5jdGlvbihzdHJpbmcpIHtcblxuXHQgICAgXHQvL2NoZWNrIGZvciBsZW5ndGhcblx0ICAgIH1cblxuXHQgICAgdm0ubmFtZUF0dGVtcHQgPSBmdW5jdGlvbihzdHJpbmcpIHtcblx0ICAgIFx0Ly90aHJvdyB0aGUgYXR0ZW1wdGVkIGZsYWdcblx0ICAgIFx0dm0uYW5zd2Vycy5uYW1lLmF0dGVtcHRlZCA9IHRydWU7XG5cblx0ICAgIFx0Ly9tYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIGxlbmd0aCB3YXMgcmVhY2hlZFxuXHQgICAgXHRpZihsZW5ndGhDaGVja2VyKHN0cmluZywgMykpIHtcblx0ICAgIFx0XHQvL2lmIHRoZSBuYW1lIGlzIGxvbmcgZW5vdWdoLFxuXHQgICAgXHRcdCRsb2cuaW5mbyhcImdvb2QgY2hlY2tcIik7XG5cdCAgICBcdH0gZWxzZSB7XG5cdCAgICBcdFx0JGxvZy5pbmZvKCd0b28gc2hvcnQnKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIHZtLnN1Ym1pdE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcblxuXHQgICAgXHQvL3Bhc3MgdGhlIGFuc3dlcnMgb2JqZWN0IHRvIHRoZSBzZXJ2ZXJcblx0ICAgIFx0Ly8xLiBJZiBUaGVyZSBXYXMgQW4gRXJyb3Jcblx0ICAgIFx0Ly8yLiBJZiBNZXNzYWdlIFdhcyBTZW50IFN1Y2Vzc2Z1bGx5XG5cdCAgICBcdC8vbm90aWZ5IHRoZSB1c2VyIG9mIHRoZSBzdWNlc3Ncblx0ICAgIFx0Ly90aGVuIHJldHVybiB0byB0aGUgaG9tZSBwYWdlPz8gXG5cdCAgICBcdHZtLnJlZGlyZWN0KCcnKTtcblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdlcnJvck1lc3NhZ2UnLCBlcnJvck1lc3NhZ2UpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGVycm9yTWVzc2FnZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lcnJvck1lc3NhZ2UuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZXJyb3JNZXNzYWdlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGVycm9yTWVzc2FnZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlcnJvck1lc3NhZ2VDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xpc3RPZkZsYXZvcnMnLCBsaXN0T2ZGbGF2b3JzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsaXN0T2ZGbGF2b3JzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xpc3RPZkZsYXZvcnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Zmxhdm9yczogJz0nLFxuXHRcdFx0cGlja0FGbGF2b3I6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGlzdE9mRmxhdm9yc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsaXN0T2ZGbGF2b3JzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxpc3RPZkZsYXZvcnNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy9sb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBzZWxlY3RBQnRuKGluZGV4KSB7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuYXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICBcdHZtLmZsYXZvcnNbaW5kZXhdLmNsYXNzZXMuc2VsZWN0ZWRQcm9kdWN0Rmxhdm9yID0gdHJ1ZTtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiB1bnNlbGVjdEFCdG4oaW5kZXgpIHtcblx0ICAgIFx0dm0uZmxhdm9yc1tpbmRleF0uY2xhc3Nlcy5hdmFpbFByb2R1Y3RGbGF2b3IgPSB0cnVlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnNlbGVjdGVkUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5jbGFzc2VzLnVuQXZhaWxQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XHQgICAgXHRcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIG1ha2VCdG5BdmFpbChpbmRleCkge31cblx0ICAgIGZ1bmN0aW9uIG1ha2VCdG5VbkF2YWlsKGluZGV4KSB7fVxuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0uY2xpY2tBTnV0ID0gZnVuY3Rpb24oaW5kZXgsIHJlY2lwZSkge1xuXHQgICAgXHRcblx0ICAgIFx0JGxvZy5pbmZvKCdjbGlja2luZycsIGluZGV4LCByZWNpcGUpO1xuXG5cdCAgICBcdGlmKGluZGV4ID49MTApIGluZGV4ID0gKGluZGV4IC8gMTApIC0gMTtcblxuXHQgICAgXHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZVxuXHQgICAgXHR2YXIgYWRkaW5nID0gZmFsc2U7XG5cblx0ICAgXG5cdCAgICBcdC8vd2hlbiBhIGZsYXZvciBpcyBjbGlja2VkIG11c3Rcblx0ICAgIFx0Ly9jaGVjayBpZiBpdCBpcyBhbGxvd2VkIHRvIGJlIGNsaWNrZWRcblx0ICAgIFx0Ly9mbGlwIHRoZSBzZWxlY3RlZCBzdGF0ZVxuXHQgICAgXHR2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZCA9ICF2bS5mbGF2b3JzW2luZGV4XS5zZWxlY3RlZDtcblxuXHQgICAgXHQvL3NldCB0aGUgY2xhc3Ncblx0ICAgIFx0aWYodm0uZmxhdm9yc1tpbmRleF0uc2VsZWN0ZWQpIHtcblx0ICAgIFx0XHQvL3VwZGF0ZSB0aGUgYnRuIHN0YXRlXG5cdCAgICBcdFx0c2VsZWN0QUJ0bihpbmRleCk7XG5cdCAgICBcdFx0Ly9hZGRpdGlvbiBvciBzdWJ0cmFjdGlvbiBcblx0ICAgIFx0XHRhZGRpbmcgPSB0cnVlO1xuXHQgICAgXHR9XG5cdCAgICBcdGVsc2Uge1xuXHQgICAgXHRcdC8vdXBkYXRlIHRoZSBidG4gc3RhdGVcblx0ICAgIFx0XHR1bnNlbGVjdEFCdG4oaW5kZXgpO1xuXHQgICAgXHR9XG5cblx0ICAgIFx0Ly9wYXNzIHRoZSBmbGF2b3IgdXAgdG8gdGhlIHBhcmVudFxuXHQgICAgXHR2bS5waWNrQUZsYXZvcigpKGluZGV4LCBhZGRpbmcpO1xuXHQgICAgfVxuXG5cdCAgIFxuXG5cdCAgICB2bS50ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICBcdCRsb2cuaW5mbygnY2xpY2sgVGVzdCcpO1xuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc0Nocm9ub1ZpZXcnLCBsb2NhdGlvbnNDaHJvbm9WaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNDaHJvbm9WaWV3KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc0Nocm9ub1ZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zQ2hyb25vVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNDaHJvbm9WaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc0Nocm9ub1ZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc01hcFZpZXcnLCBsb2NhdGlvbnNNYXBWaWV3KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNNYXBWaWV3KCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc01hcFZpZXcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zTWFwVmlld0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNNYXBWaWV3Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGxvY2F0aW9uc01hcFZpZXdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLypmdW5jdGlvbiBpbml0TWFwKCkge1xuXHQgICAgICAgIHZhciB1bHVydSA9IHtsYXQ6IC0yNS4zNjMsIGxuZzogMTMxLjA0NH07XG5cdCAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7XG5cdCAgICAgICAgICB6b29tOiA0LFxuXHQgICAgICAgICAgY2VudGVyOiB1bHVydVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0ICAgICAgICAgIHBvc2l0aW9uOiB1bHVydSxcblx0ICAgICAgICAgIG1hcDogbWFwXG5cdCAgICAgICAgfSk7XG5cdCAgICB9Ki9cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ2xvY2F0aW9uc1RoaXNXZWVrJywgbG9jYXRpb25zVGhpc1dlZWspO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvY2F0aW9uc1RoaXNXZWVrKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvY2F0aW9uc1RoaXNXZWVrLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGxvY2F0aW9uczogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsb2NhdGlvbnNUaGlzV2Vla0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnbG9jYXRpb25zRmlsdGVyJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVGhpc1dlZWtDb250cm9sbGVyKCRzY29wZSwgJGxvZywgbG9jYXRpb25zRmlsdGVyKSB7XG5cbiAgICBcdHZhciB2bSA9IHRoaXM7XG4gICAgXHRcbiAgICBcdC8vdmlldyBtb2RlbCB2YWx1ZXNcbiAgICBcdHZtLmxvY2F0aW9uc1RoaXNXZWVrID0gbG9jYXRpb25zRmlsdGVyLndlZWtseSh2bS5sb2NhdGlvbnMsIGdldFdlZWsoKSk7XG5cblx0ICAgIGZ1bmN0aW9uIGdldFdlZWsoKSB7XG5cdCAgICBcdHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG5cdCAgICBcdHZhciBvbmVqYW4gPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgXHRyZXR1cm4gTWF0aC5jZWlsKCgoKHRvZGF5IC0gb25lamFuKSAvIDg2NDAwMDAwKSArIG9uZWphbi5nZXREYXkoKSArIDEpIC8gNyk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUaW1lRmlsdGVyJywgbG9jYXRpb25zVGltZUZpbHRlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9jYXRpb25zVGltZUZpbHRlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUaW1lRmlsdGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvY2F0aW9uc1RpbWVGaWx0ZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVGltZUZpbHRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsb2NhdGlvbnNUaW1lRmlsdGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdsb2NhdGlvbnNUb2RheScsIGxvY2F0aW9uc1RvZGF5KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNUb2RheSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2NhdGlvbnNUb2RheS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzZWxlY3RlZExvY2F0aW9uOiBcIj1cIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbG9jYXRpb25zVG9kYXlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbG9jYXRpb25zVG9kYXlDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgXG5cdCAgICAvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS5ldmVudHNUb2RheSA9IGZhbHNlO1xuXG5cdCAgICAvL2RlZmluZSBsb2NhbCBtZXRob2RzXG5cdCAgICBmdW5jdGlvbiBnZXRUb2RheXNMb2NhdGlvbnNMaXN0KGFsbEV2ZW50cykge1xuXG5cdCAgICBcdHZhciBsaXN0T2ZFdmVudHMgPSBbXTtcblxuXHQgICAgXHQvL3VucGFjayBmcmVxdWVuY3lcblx0ICAgIFx0T2JqZWN0LmtleXMoYWxsRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGZyZXF1ZW5jeUtleSkge1xuXG5cdCAgICBcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVcblx0ICAgIFx0XHR2YXIgZnJlcXVlbmN5ID0gYWxsRXZlbnRzW2ZyZXF1ZW5jeUtleV07XG5cblx0ICAgIFx0XHQvL3VucGFjayBldmVudHNcblx0ICAgIFx0XHRPYmplY3Qua2V5cyhmcmVxdWVuY3kpLmZvckVhY2goZnVuY3Rpb24oZXZlbnRLZXkpIHtcblxuXHQgICAgXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdCAgICBcdFx0XHR2YXIgYW5FdmVudCA9IGZyZXF1ZW5jeVtldmVudEtleV07XG5cdCAgICBcdFx0XHR2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXHQgICAgXHRcdFx0dmFyIHdlZWtkYXkgPSB0b2RheS5nZXREYXkoKTtcblxuXHQgICAgXHRcdFx0JGxvZy5pbmZvKCd3ZWVrZWRheScsIHdlZWtkYXkpO1xuXG5cdCAgICBcdFx0XHRpZihhbkV2ZW50LndlZWtkYXkgPT0gd2Vla2RheSkge1xuXHRcdCAgICBcdFx0XHRcblx0ICAgIFx0XHRcdFx0dm0uZXZlbnRzVG9kYXkgPSB0cnVlO1xuXG5cdFx0ICAgIFx0XHRcdHZhciBldmVudE9iamVjdCA9IHtcblx0XHQgICAgXHRcdFx0XHQnc3RhcnQnOiAnNjQ4MDAwMDAnLFxuXHRcdCAgICBcdFx0XHRcdCdlbmQnOiAnNjQ4MDAwMDAnLFxuXHRcdCAgICBcdFx0XHRcdCduYW1lJzogYW5FdmVudC5uYW1lLFxuXHRcdCAgICBcdFx0XHRcdCdhZGRyZXNzJzogJzE0NyBXLiBDZW50ZXIgU3RyZWV0LCBBbmFoZWltJ1xuXHRcdCAgICBcdFx0XHR9O1xuXG5cdFx0ICAgIFx0XHRcdGxpc3RPZkV2ZW50cy5wdXNoKGV2ZW50T2JqZWN0KTtcblx0ICAgIFx0XHRcdH1cblxuXHQgICAgXHRcdH0pO1xuXG5cdCAgICBcdH0pO1xuXG5cdCAgICBcdHJldHVybiBsaXN0T2ZFdmVudHM7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGluaXQoKSB7XG5cblx0ICAgIFx0Ly9idWlsZCB0aGUgbGlzdCBvZiBldmVudHNcblx0ICAgIFx0dm0uZXZlbnRzTGlzdCA9IGdldFRvZGF5c0xvY2F0aW9uc0xpc3Qodm0uc2VsZWN0ZWRMb2NhdGlvbik7XG5cblx0ICAgIFx0dm0udG9kYXlzRGF0ZSA9IG5ldyBEYXRlKCk7XG5cblx0ICAgIFx0JGxvZy5pbmZvKHZtLnRvZGF5c0RhdGUpO1xuXHQgICAgfVxuXG5cdCAgICAvL2xvZyB0aGUgaW5pdGlhbCB2YWx1ZXMgdG8gdGhlIHVzZXJcblx0ICAgICRsb2cuaW5mbygndm0uc2VsZWN0ZWRMb2NhdGlvbicsIHZtLnNlbGVjdGVkTG9jYXRpb24pO1xuXG5cdCAgICAvL2luaXQgdGhpcyBkaXJlY3RpdmVcblx0ICAgIGluaXQoKTtcblx0ICAgIFxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3BhY2thZ2luZ0ZpbGxlcicsIHBhY2thZ2luZ0ZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGFja2FnaW5nRmlsbGVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3BhY2thZ2luZ0ZpbGxlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjYXJ0OiBcIj1cIixcblx0XHRcdHByaWNpbmc6IFwiPVwiLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJicsXG5cdFx0XHRzdGF0ZTogXCI9XCIsXG5cdFx0XHRhZGRGaWxsZWRQYWNrYWdlOiBcIiZcIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGFja2FnaW5nRmlsbGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHBhY2thZ2luZ0ZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwYWNrYWdpbmdGaWxsZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIHZhcmlhYmxlc1xuXHQgICAgdm0ucXR5ID0gMTtcblxuXHQgICAgZnVuY3Rpb24gdXBkYXRlUGFja2FnaW5nU3RhdGUoKSB7XG5cdCAgICBcdC8vdXBkYXRlIHRoZSBvdmVyYWxsIHBhY2thZ2luZ1xuXHQgICAgXHR2bS5zdGF0ZS5wYWNrYWdpbmcuc2VsZWN0ZWQgPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNpemUgPSB1bmRlZmluZWQ7XG5cdCAgICBcdHZtLnN0YXRlLnBhY2thZ2luZy5mbGF2b3JzID0gMDtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLm1peCA9IHt9O1xuXHQgICAgXHQvL3VwZGF0ZSB0aGUgZmxhdm9yIGJ1dHRvbnNcblx0ICAgIFx0T2JqZWN0LmtleXModm0uc3RhdGUuYnV0dG9ucy5mbGF2b3JMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHQgICAgXHRcdHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdFtmbGF2b3JdLnNlbGVjdGVkID0gZmFsc2Vcblx0ICAgIFx0XHR2bS5zdGF0ZS5idXR0b25zLmZsYXZvckxpc3RbZmxhdm9yXS5jbGFzc2VzLmF2YWlsUHJvZHVjdEZsYXZvciA9IHRydWU7XG5cdCAgICBcdFx0dm0uc3RhdGUuYnV0dG9ucy5mbGF2b3JMaXN0W2ZsYXZvcl0uY2xhc3Nlcy51bkF2YWlsUHJvZHVjdEZsYXZvciA9IGZhbHNlO1xuXHQgICAgXHRcdHZtLnN0YXRlLmJ1dHRvbnMuZmxhdm9yTGlzdFtmbGF2b3JdLmNsYXNzZXMuc2VsZWN0ZWRQcm9kdWN0Rmxhdm9yID0gZmFsc2U7XG5cdCAgICBcdH0pXG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRDYWxjdWxhdGVzIGFuIGVxdWFsIHNwbGl0IGJldHdlZW4gZmxhdm9yc1xuXHQgICAgKi9cblx0ICAgIGZ1bmN0aW9uIGVxdWFsU3BsaXQoZGl2aXNpb25zKSB7XG5cdCAgICBcdHJldHVybiAxIC8gZGl2aXNpb25zO1xuXHQgICAgfVxuXG5cdCAgICAvKlxuXHQgICAgKlx0SWYgYSBmbGF2b3IgaXMgYmVpbmcgYWRkZWQsIGluY3JlYXNlIHRoZSBudW1iZXIgb2YgZmxhdm9ycywgdmljZS12ZXJzYS5cblx0ICAgICovXG5cdCAgICBmdW5jdGlvbiB1cGRhdGVGbGF2b3JDb3VudChhZGRpbmcpIHtcblx0ICAgIFx0Ly91cGRhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBmbGF2b3JzXG5cdCAgICBcdGlmKGFkZGluZykgdm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMrKztcblx0ICAgIFx0ZWxzZSB2bS5zdGF0ZS5wYWNrYWdpbmcuZmxhdm9ycy0tO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRVcGRhdGUgdGhlIG1peCBvZiBmbGF2b3JzIGJhc2VkIG9uIHRoZSBhZGRpdGlvbiBvciBzdWJ0cmFjdGlvbiBvZiBhIGZsYXZvclxuXHQgICAgKi9cblx0ICAgIGZ1bmN0aW9uIHVwZGF0ZUZsYXZvck1peChmbGF2b3IsIGFkZGluZykge1xuXHQgICAgXHRcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ2dvdCB0aGlzIGZsYXZvcicsIGZsYXZvcik7XG5cdCAgICBcdFxuXHQgICAgXHR2YXIgZmxhdm9yVHh0ID0gZmxhdm9yLnRvU3RyaW5nKCk7XG5cblx0ICAgIFx0Ly9pcyB0aGlzIGFkZHRpb24gb3Igc3VidHJhY3Rpb24/XG5cdCAgICBcdGlmKGFkZGluZykge1xuXHQgICAgXHRcdC8vaWYgYWRkaW5nLi5cblx0ICAgIFx0XHQvL3VwZGF0ZSB0aGUgc3BsaXQgb24gYWxsIHRoZSBjdXJyZW50IGZsYXZvcnNcblx0ICAgIFx0XHRPYmplY3Qua2V5cyh2bS5zdGF0ZS5wYWNrYWdpbmcubWl4KS5mb3JFYWNoKGZ1bmN0aW9uKGZsYXZvcikge1xuXHQgICAgXHRcdFx0dm0uc3RhdGUucGFja2FnaW5nLm1peFtmbGF2b3JdID0gZXF1YWxTcGxpdCh2bS5zdGF0ZS5wYWNrYWdpbmcuZmxhdm9ycyk7XG5cdCAgICBcdFx0fSk7XG5cblx0ICAgIFx0XHQvL3RoZW4gYWRkIHRoZSBzcGxpdCB0byB0aGUgbmV3IGZsYXZvclxuXHQgICAgXHRcdHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yVHh0XSA9IGVxdWFsU3BsaXQodm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMpO1xuXHQgICAgXHRcdFxuXHQgICAgXHR9IGVsc2Uge1xuXHQgICAgXHRcdC8vaWYgc3VidHJhY3RpbmcuLlxuXHQgICAgXHRcdC8vdXBkYXRlIGFsbCB0aGUgc3BsaXRzIG9uIHRoZSBvdGhlciBmbGF2b3JzXG5cdCAgICBcdFx0T2JqZWN0LmtleXModm0uc3RhdGUucGFja2FnaW5nLm1peCkuZm9yRWFjaChmdW5jdGlvbihmbGF2b3IpIHtcblx0ICAgIFx0XHRcdHZtLnN0YXRlLnBhY2thZ2luZy5taXhbZmxhdm9yXSA9IGVxdWFsU3BsaXQodm0uc3RhdGUucGFja2FnaW5nLmZsYXZvcnMpO1xuXHQgICAgXHRcdH0pO1xuXG5cdCAgICBcdFx0Ly90aGVuIGRlbGV0ZSB0aGUgZGVzaXJlZCBmbGF2b3Jcblx0ICAgIFx0XHRkZWxldGUgdm0uc3RhdGUucGFja2FnaW5nLm1peFtmbGF2b3JUeHRdO1xuXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICAgICpcdFx0XHRcdFx0VklFV01PREVMIE1FVEhPRFNcdFx0XHRcdFx0XHRcdCpcblx0ICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cdCAgICAvKlxuXHQgICAgKlx0QWRkIG9yIHJlbW92ZSB0aGF0IGZsYXZvciBmcm9tIHRoZSBtaXgsIHRoaXMgaW52b2x2ZXNcblx0ICAgICpcdFx0LSBVcGRhdGluZyB0aGUgdG90YWwgbnVtYmVyIG9mIGZsYXZvcnNcblx0ICAgICpcdFx0LSBBZGRpbmcgb3IgcmVtb3ZlaW5nIGEgdmFsdWUgZnJvbS90byB0aGUgbWl4IG9iamVjdFxuXHQgICAgKlx0XHRcdCogSWYgQWRkaW5nIHRoZW4gdGhlIHNwbGl0IG11c3QgYmUgY2FsY3VsYXRlZFxuXHQgICAgKi9cblx0ICAgIHZtLnBpY2tBRmxhdm9yID0gZnVuY3Rpb24oZmxhdm9yLCBhZGRpbmcpIHtcblx0ICAgIFx0XG5cdCAgICBcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcyBmbGF2b3InLCBmbGF2b3IpO1xuXG5cdCAgICBcdC8vdXBkYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZmxhdm9yc1xuXHQgICAgXHR1cGRhdGVGbGF2b3JDb3VudChhZGRpbmcpO1xuXG5cdCAgICBcdC8vdXBkYXRlIHRoZSBtaXhcblx0ICAgIFx0dXBkYXRlRmxhdm9yTWl4KGZsYXZvciwgYWRkaW5nKTtcblx0ICAgIH1cblxuXHQgICAgLypcblx0ICAgICpcdFdoZW4gXCJBZGQgVG8gQ2FydFwiIGJ1dHRvbiBpcyBjbGlja2VkLCBhIG5ldyBpdGVtIGlzIGJ1aWx0LCBhbmQgYWRkZWQgdG8gdGhlXG5cdCAgICAqXHRjYXJ0IG9iamVjdC5cblx0ICAgICovXG5cdCAgICB2bS5hZGRUb0NhcnQgPSBmdW5jdGlvbihjaGVja091dCkge1x0XHQvL2FkZCB0aGUgY3VycmVudCBpdGVtIHRvIHRoZSBjYXJ0XG5cblx0ICAgIFx0Ly9kZWZpbmUgdGhlIGxvY2FsIHZhcmlhYmxlc1xuXHQgICAgXHR2YXIgdGhpc1BhY2thZ2luZyA9IHZtLnN0YXRlLnBhY2thZ2luZy5zaXplO1xuXHQgICAgXHR2YXIgdGhpc01peHR1cmUgPSB2bS5zdGF0ZS5wYWNrYWdpbmcubWl4O1xuXHQgICAgXHR2YXIgdGhpc1F1YW50aXR5ID0gdm0ucXR5O1xuXHQgICAgXHR2YXIgdGhpc0Nvc3QgPSB2bS5wcmljaW5nLmNhbGN1bGF0ZVB1cmNoYXNlUHJpY2Uodm0uc3RhdGUucGFja2FnaW5nLCB2bS5wcmljaW5nKTtcblx0ICAgIFx0dmFyIHRoaXNEZXNjcmlwdGlvbiA9IHZtLnByaWNpbmcuYnVpbGREZXNjcmlwdGlvbih2bS5zdGF0ZS5wYWNrYWdpbmcsIHZtLnByaWNpbmcpO1xuXG5cdCAgICBcdC8vYnVpbGQgdGhlIGl0ZW1cblx0ICAgIFx0dmFyIGl0ZW1Gb3JQdXJjaGFzZSA9IHtcblx0ICAgIFx0XHRkZXNjcmlwdGlvbjogdGhpc0Rlc2NyaXB0aW9uLFxuXHRcdFx0XHRwYWNrYWdpbmc6IHRoaXNQYWNrYWdpbmcsXG5cdFx0XHRcdGZsYXZvcnM6IHRoaXNNaXh0dXJlLFxuXHRcdFx0XHRxdHk6IHRoaXNRdWFudGl0eSxcblx0XHRcdFx0Y29zdDogdGhpc0Nvc3Rcblx0ICAgIFx0fVxuXG5cdCAgICBcdC8vcGFzcyBpdCB0byB0aGUgY2FydFxuXHQgICAgXHR2bS5jYXJ0Lml0ZW1zLnB1c2godm0uYWRkRmlsbGVkUGFja2FnZSgpKGl0ZW1Gb3JQdXJjaGFzZSkpO1xuXG5cdCAgICBcdC8vdXBkYXRlIHRoZSBzdGF0ZVxuXHQgICAgXHR1cGRhdGVQYWNrYWdpbmdTdGF0ZSgpO1xuXG5cdCAgICBcdC8vdGhlbiBtb3ZlIHRvIHRoZSBuZXh0IHRhYlxuXHQgICAgXHRpZihjaGVja091dCkgdm0uY2hhbmdlVGFiKCkoMik7XG5cdCAgICBcdGVsc2Ugdm0uY2hhbmdlVGFiKCkoMCk7XG5cdCAgICB9XG5cblx0ICAgIC8qXG5cdCAgICAqXHRXaGVuIHRoaXMgYnV0dG9uIGlzIGNsaWNrZWQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwYWNrYWdpbmcgaXMgZGlzY2FyZGVkXG5cdCAgICAqL1xuXHQgICAgdm0uZGlzY2FyZEJ1dHRvbkNsaWNrZWQgPSBmdW5jdGlvbigpIHtcdFxuXHQgICAgXHRcblx0ICAgIFx0Ly9jdXJyZW50bHkgZmlsbGluZyBwYWNrYWdlIHNldCB0byB1bmRlZmluZWRcblx0ICAgIFx0dXBkYXRlUGFja2FnaW5nU3RhdGUoKTtcblxuXHQgICAgXHQvL2FjdGl2ZSB0YWIgc3dpdGNoZWQgYmFjayB0byAwXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDApO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgncGF5bWVudE1hbmFnZXInLCBwYXltZW50TWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGF5bWVudE1hbmFnZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcGF5bWVudE1hbmFnZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcGF5bWVudE1hbmFnZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGF5bWVudE1hbmFnZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2JhY2tlbmRDb21GYWN0b3J5J107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcGF5bWVudE1hbmFnZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZywgYmFja2VuZENvbUZhY3RvcnkpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdwbGF0dGVyRmlsbGVyJywgcGxhdHRlckZpbGxlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcGxhdHRlckZpbGxlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wbGF0dGVyRmlsbGVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHBsYXR0ZXJGaWxsZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcGxhdHRlckZpbGxlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwbGF0dGVyRmlsbGVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdxdHlNYW5hZ2VyJywgcXR5TWFuYWdlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcXR5TWFuYWdlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9xdHlNYW5hZ2VyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHF0eTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBxdHlNYW5hZ2VyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHF0eU1hbmFnZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcXR5TWFuYWdlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIHZtLnN1YnRyYWN0ID0gZnVuY3Rpb24oKSB7IGlmKHZtLnF0eSA+IDEpIHZtLnF0eS0tOyB9XG5cdCAgICB2bS5hZGQgPSBmdW5jdGlvbigpIHsgdm0ucXR5Kys7IH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdyZWdpb25GaW5kZXInLCByZWdpb25GaW5kZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHJlZ2lvbkZpbmRlcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9yZWdpb25GaW5kZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bG9jYXRpb25SZWRpcmVjdDogJyYnLFxuXHRcdFx0c3RhdGVzOiBcIj1cIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcmVnaW9uRmluZGVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHJlZ2lvbkZpbmRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiByZWdpb25GaW5kZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblx0ICAgIHZhciBzdGF0ZXNBcnJheSA9IFtdXG5cdCAgICBcdFxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnNlbGVjdFN0YXRlID0gZnVuY3Rpb24oaWQpIHtcblxuXHQgICAgXHQvL21ha2UgYW4gYXJyYXkgb2YgdGhlIHN0YXRlcyBrZXlzXG5cdCAgICBcdE9iamVjdC5rZXlzKHZtLnN0YXRlcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0ICAgIFx0XHRzdGF0ZXNBcnJheS5wdXNoKGtleSk7XG5cdCAgICBcdH0pO1xuXG5cdCAgICBcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdCAgICBcdHZhciBzZWxlY3RlZFN0YXRlID0gc3RhdGVzQXJyYXlbaWRdO1xuXG5cdCAgICBcdCRsb2cuaW5mbygnc2VsZWN0ZWRTdGF0ZTonLCBzZWxlY3RlZFN0YXRlKTtcblxuXHQgICAgXHQvL3Bhc3MgdGhlIGlkIGJhY2sgdXAgdG8gdGhlIGxvY2F0aW9ucyBjb250cm9sbGVyXG5cdCAgICBcdHZtLmxvY2F0aW9uUmVkaXJlY3QoKShzZWxlY3RlZFN0YXRlKTtcblx0ICAgIH1cblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUVtcHRpZXMnLCBzZWVFbXB0aWVzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZWVFbXB0aWVzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUVtcHRpZXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2VlRW1wdGllc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzZWVFbXB0aWVzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUVtcHRpZXNDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG5cdC5kaXJlY3RpdmUoJ3NlZUZ1bGxzJywgc2VlRnVsbHMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlZUZ1bGxzKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NlZUZ1bGxzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNlZUZ1bGxzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlZUZ1bGxzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlZUZ1bGxzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RGbGF2b3JzJywgc2VsZWN0Rmxhdm9ycyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2VsZWN0Rmxhdm9ycygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RGbGF2b3JzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHBhY2thZ2luZ1NlbGVjdGVkOiAnPScsXG5cdFx0XHRyZW1vdmVBU2l6ZTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RGbGF2b3JzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNlbGVjdEZsYXZvcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2VsZWN0Rmxhdm9yc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cblx0ICAgIC8vYXNzaWduIGEgYmFnIHRvIGJlIGZpbGxlZFxuXHQgICAgdm0uZmlsbEFQYWNrYWdlID0gZnVuY3Rpb24ocGFja2FnaW5nKSB7XG5cdCAgICBcdHZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gcGFja2FnaW5nO1xuXHQgICAgfVxuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHBhY2thZ2luZykge1xuXHQgICAgXHQkbG9nLmluZm8oJ2NsaWtjZWQnLCBwYWNrYWdpbmcsIHZtLnBhY2thZ2luZ1NlbGVjdGVkW3BhY2thZ2luZ10pO1xuXHQgICAgXHQvL2RlY3JlbWVudCB0aGUgY291bnQgb2YgdGhpcyBwYWNrYWdlIHRoYXQgd2FzIGNsaWNrZWRcblx0ICAgIFx0dm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSA9IHZtLnJlbW92ZUFTaXplKCkodm0ucGFja2FnaW5nU2VsZWN0ZWRbcGFja2FnaW5nXSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzZWxlY3RQYWNrYWdpbmcnLCBzZWxlY3RQYWNrYWdpbmcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zZWxlY3RQYWNrYWdpbmcuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RhdGU6ICc9Jyxcblx0XHRcdHByaWNpbmc6ICc9Jyxcblx0XHRcdGNoYW5nZVRhYjogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzZWxlY3RQYWNrYWdpbmdDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2VsZWN0UGFja2FnaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFBhY2thZ2luZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICB2bS5zaXplQnRuQ2xpY2tlZCA9IGZ1bmN0aW9uKHNpemUpIHtcblxuXHQgICAgXHQvL3ZtLmN1cnJlbnRseUZpbGxpbmcucGFja2FnaW5nID0gc2l6ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUucGFja2FnaW5nLnNpemUgPSBzaXplO1xuXG5cdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgc2l6ZSwgJywgdm0ucHJpY2luZy5wYWNrYWdpbmdbc2l6ZV0udGl0bGUpO1xuXG5cdCAgICBcdC8vY2hhbmdlIHRoZSBhY3RpdmUgdGFiXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKDEpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdPcHRpb25zJywgc2hpcHBpbmdPcHRpb25zKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ09wdGlvbnMoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdPcHRpb25zLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nT3B0aW9uc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ09wdGlvbnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hpcHBpbmdPcHRpb25zQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIFxuICAgIFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCdzaG9wcGluZ1Byb2dyZXNzQmFyJywgc2hvcHBpbmdQcm9ncmVzc0Jhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hvcHBpbmdQcm9ncmVzc0JhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaG9wcGluZ1Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFjdGl2ZVRhYjogJz0nLFxuXHRcdFx0Y2hhbmdlVGFiOiAnJidcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cdFx0Ly9uZWVkcyB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgaW4gYWN0aXZlIHRhYiwgYXMgb3RoZXIgZGlyZWN0aXZlc1xuXHRcdC8vY2FuIHByb21wdCB0aGVzZSBjaGFuZ2VzXG5cdFx0c2NvcGUuJHdhdGNoKCd2bS5hY3RpdmVUYWInLCBmdW5jdGlvbihuZXh0LCBjdXJyZW50KSB7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCd0aGUgdGFiIGNoYW5nZWQnLCBjdXJyZW50LCBuZXh0KTtcblx0XHRcdC8vdXBkYXRlIHN0eWxlc1xuXHQgICAgXHRzY29wZS52bS5jaGFuZ2VUYWJDbGFzcyhuZXh0LCBjdXJyZW50KTtcblxuXHRcdH0pO1xuICAgIH1cblxuICAgIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRmFjdG9yeSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNob3BwaW5nUHJvZ3Jlc3NCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc3RhdGVGYWN0b3J5KSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS50YWJzID0gc3RhdGVGYWN0b3J5LmRlZmF1bHRTdGF0ZSgnc2hvcHBpbmdQcm9ncmVzc0JhcicpO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdCAgICB2bS5jaGFuZ2VUYWJDbGFzcyA9IGZ1bmN0aW9uKG5leHQsIGN1cnJlbnQpIHtcblx0ICAgIFx0Ly91cGRhdGUgc3R5bGVzXG5cdCAgICBcdHZtLnRhYnNbY3VycmVudF0uY2xhc3Nlcy5zcGJ0YWJTZWxlY3RlZCA9IGZhbHNlO1xuXHQgICAgXHR2bS50YWJzW25leHRdLmNsYXNzZXMuc3BidGFiU2VsZWN0ZWQgPSB0cnVlO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnRhYkNsaWNrID0gZnVuY3Rpb24odGFiKSB7XG5cblx0ICAgIFx0Ly91cGRhdGUgdGhlIHN0eWxlc1xuXHQgICAgXHR2bS5jaGFuZ2VUYWJDbGFzcyh0YWIsIHZtLmFjdGl2ZVRhYik7XG5cblx0ICAgIFx0Ly91cGRhdGUgcGFyZW50IG1vZGVsXG5cdCAgICBcdHZtLmNoYW5nZVRhYigpKHRhYik7XG5cdCAgICB9XG5cdH1cdFxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuXHQuZGlyZWN0aXZlKCd0b29sQmFyJywgdG9vbEJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdG9vbEJhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnYmFja2VuZCcsIGJhY2tlbmQpO1xuXG5iYWNrZW5kLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnLCAnZmlyZWJhc2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiYWNrZW5kKCRsb2csIGZpcmViYXNlKSB7XG5cblx0dmFyIGJhY2tlbmRDb21FbGVtZW50cyA9IHtcblx0XHRnZXQ6IGdldCxcblx0XHRnZXRMb2NhdGlvbnM6IGdldExvY2F0aW9uc1xuXHR9O1xuXG5cdGZ1bmN0aW9uIF9nZXQodXJsKSB7XG5cdFx0cmV0dXJuIGZldGNoKHVybCk7XG5cdH1cblxuXHRmdW5jdGlvbiBfZ2V0SlNPTih1cmwpIHtcblx0XHRyZXR1cm4gX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXQoKSB7XG5cdFx0XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XG5cblxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0TG9jYXRpb25zKCkge1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvLyRsb2cuaW5mbygnZ29pbmcgb3V0IHRvIHNlcnZlcicpO1xuXG5cdFx0XHQvL2ZpcmViYXNlLnRlc3QoKTtcblx0XHRcdFxuXHRcdFx0X2dldEpTT04oJy9hcGkvZ2V0L2xpc3QvcmVnaW9ucycpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdC8vbm90aWZ5IHRoZSB1c2VyXG5cdFx0XHRcdC8vJGxvZy5pbmZvKCdzdWNjZXNzOicsIHJlc3BvbnNlKTtcblxuXHRcdFx0XHQvL3Bhc3MgdGhlIHJlc3BvbnNlIGJhY2tcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcblxuXHRcdFx0XHQkbG9nLmluZm8oJ2Vycm9yOicsIGUpO1xuXG5cdFx0XHRcdHJlamVjdChlKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0cmV0dXJuIGJhY2tlbmRDb21FbGVtZW50cztcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdhaE51dHNXZWJBcHAnKVxuICAgIC5mYWN0b3J5KCdkYXRhU2VydmljZXMnLCBkYXRhU2VydmljZXMpO1xuXG5kYXRhU2VydmljZXMuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGRhdGFTZXJ2aWNlcygkbG9nKSB7XG5cblx0dmFyIGRhdGFTZXJ2aWNlc09iamVjdCA9IHtcblxuXHR9O1xuXG5cdHJldHVybiBkYXRhU2VydmljZXNPYmplY3Q7XG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLmZhY3RvcnkoJ2ZpbGxpbmdzRmFjdG9yeScsIGZpbGxpbmdzRmFjdG9yeSk7XG5cbmZpbGxpbmdzRmFjdG9yeS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZmlsbGluZ3NGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbEZpbGxpbmdzID0ge1xuICAgIFx0cGFja2FnaW5nOiB1bmRlZmluZWQsXG4gICAgXHRmbGF2b3JzOiB7XG4gICAgXHRcdDA6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcbiAgICBcdFx0MTogXCJEcnVua2VuIFBlY2Fuc1wiLFxuICAgIFx0XHQyOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuICAgIFx0XHQzOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuICAgIFx0XHQ0OiBcIkNpbm5hbW9uIEFsbW9uZHNcIixcbiAgICBcdFx0NTogXCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcbiAgICBcdFx0NjogXCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIlxuICAgIFx0fSxcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIDA6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAxOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMjogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDM6IFwiQWxtb25kc1wiLFxuICAgICAgICAgICAgNDogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA1OiBcIkNhc2hld3NcIixcbiAgICAgICAgICAgIDY6IFwiUGVhbnV0c1wiXG4gICAgICAgIH0sXG4gICAgICAgIHJlY2lwaWVzOiB7XG4gICAgICAgICAgICAwOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDE6IFwiRHJ1bmtlblwiLFxuICAgICAgICAgICAgMjogXCJDaW5uYW1vblwiLFxuICAgICAgICAgICAgMzogXCJTZWNyZXQgUmVjaXBlXCIsXG4gICAgICAgICAgICA0OiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICA1OiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDY6IFwiU2VjcmV0IFJlY2lwZVwiICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIFx0LypmbGF2b3JzOiB7XG4gICAgXHRcdG5vT2ZGbGF2b3JzOiAwLFxuICAgIFx0XHRzZWxlY3RlZDoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiBmYWxzZSxcblx0ICAgIFx0XHREUlBlY2FuczogZmFsc2UsXG5cdCAgICBcdFx0Q05QZWNhbnM6IGZhbHNlLFxuXHQgICAgXHRcdFNSQWxtb25kOiBmYWxzZSxcblx0ICAgIFx0XHRDTkFsbW9uZDogZmFsc2UsXG5cdCAgICBcdFx0U1JDYXNoZXc6IGZhbHNlLFxuXHQgICAgXHRcdFNSUGVhbnV0OiBmYWxzZVxuICAgIFx0XHR9LFxuICAgIFx0XHRwcm9wb3J0aW9uczoge1xuXHQgICAgXHRcdFNSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdERSUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdENOUGVjYW5zOiAwLjAwLFxuXHQgICAgXHRcdFNSQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdENOQWxtb25kOiAwLjAwLFxuXHQgICAgXHRcdFNSQ2FzaGV3OiAwLjAwLFxuXHQgICAgXHRcdFNSUGVhbnV0OiAwLjAwXG4gICAgXHRcdH1cbiAgICBcdH0sKi9cblxuICAgIH07XG5cdFxuXHRyZXR1cm4gYWxsRmlsbGluZ3M7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnbG9jYXRpb25zRmlsdGVyJywgbG9jYXRpb25zRmlsdGVyKTtcblxubG9jYXRpb25zRmlsdGVyLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNGaWx0ZXIoJGxvZykge1xuXG5cdHZhciBsb2NhdGlvbnNGaWx0ZXJPYmplY3QgPSB7XG5cdFx0d2Vla2x5OndlZWtseVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHdlZWtseShsb2NhdGlvbnMsIHdlZWspIHtcblx0XHRyZXR1cm4gWyd0ZXN0JywgJ3Rlc3RpbmcnLCAnYXdlc29tZSddO1xuXHR9XG5cblx0cmV0dXJuIGxvY2F0aW9uc0ZpbHRlck9iamVjdDtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnbG9jYXRpb25zU3RhdGUnLCBsb2NhdGlvbnNTdGF0ZSk7XG5cbmxvY2F0aW9uc1N0YXRlLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbnNTdGF0ZSgkbG9nKSB7XG5cblx0dmFyIGxvY2F0aW9uc1N0YXRlT2JqZWN0ID0ge1xuXHRcdHJlZ2lvbkZpbmRlcjoge1xuXHRcdFx0dmlzYWJsZTogdHJ1ZVxuXHRcdH0sXHRcdFxuXHRcdGxvY2F0aW9uTGFiZWw6IHtcblx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0fSxcblx0XHRldmVyeURheUxvY2F0aW9uczoge1xuXHRcdFx0dmlzYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdGV2ZW50c0FuZE1hcmtldHM6IHtcblx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0fSxcdFx0XG5cdFx0bG9jYXRpb25zVG9kYXk6IHtcblx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0fSxcblx0XHRsb2NhdGlvbnNUaGlzV2Vlazoge1xuXHRcdFx0dmlzYWJsZTogZmFsc2Vcblx0XHR9LFxuXHRcdGxvY2F0aW9uc0Nocm9ub1ZpZXc6IHtcblx0XHRcdHZpc2FibGU6IGZhbHNlXG5cdFx0fSxcblx0XHRzdGF0ZTogc3RhdGVcblx0fTtcblxuXHRmdW5jdGlvbiBzdGF0ZShpZCwgbG9jYXRpb25zKSB7XG5cblx0XHQvLyRsb2cuaW5mbygnaWQnLCBpZCk7XG5cdFx0Ly8kbG9nLmluZm8oJ2xvY2F0aW9ucycsIGxvY2F0aW9ucyk7XG5cblx0XHRpZihpZCAhPSB1bmRlZmluZWQpIHtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LnJlZ2lvbkZpbmRlci52aXNhYmxlID0gZmFsc2U7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5sb2NhdGlvbkxhYmVsLnZpc2FibGUgPSB0cnVlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QuZXZlcnlEYXlMb2NhdGlvbnMudmlzYWJsZSA9IGZhbHNlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QuZXZlbnRzQW5kTWFya2V0cy52aXNhYmxlID0gdHJ1ZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmxvY2F0aW9uc1RvZGF5LnZpc2FibGUgPSB0cnVlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QubG9jYXRpb25zVGhpc1dlZWsudmlzYWJsZSA9IHRydWU7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5sb2NhdGlvbnNDaHJvbm9WaWV3LnZpc2FibGUgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QucmVnaW9uRmluZGVyLnZpc2FibGUgPSB0cnVlO1xuXHRcdFx0bG9jYXRpb25zU3RhdGVPYmplY3QubG9jYXRpb25MYWJlbC52aXNhYmxlID0gZmFsc2U7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5ldmVyeURheUxvY2F0aW9ucy52aXNhYmxlID0gZmFsc2U7XG5cdFx0XHRsb2NhdGlvbnNTdGF0ZU9iamVjdC5ldmVudHNBbmRNYXJrZXRzLnZpc2FibGUgPSBmYWxzZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmxvY2F0aW9uc1RvZGF5LnZpc2FibGUgPSBmYWxzZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmxvY2F0aW9uc1RoaXNXZWVrLnZpc2FibGUgPSBmYWxzZTtcblx0XHRcdGxvY2F0aW9uc1N0YXRlT2JqZWN0LmxvY2F0aW9uc0Nocm9ub1ZpZXcudmlzYWJsZSA9IGZhbHNlO1x0XHRcdFxuXHRcdH1cblxuXHRcdC8vJGxvZy5pbmZvKCdsb2NhdGlvbnNTdGF0ZU9iamVjdCcsIGxvY2F0aW9uc1N0YXRlT2JqZWN0KTtcblxuXHRcdHJldHVybiBsb2NhdGlvbnNTdGF0ZU9iamVjdDtcblx0fVxuXG5cdHJldHVybiBsb2NhdGlvbnNTdGF0ZU9iamVjdDtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgncHJpY2VMaXN0RmFjdG9yeScsIHByaWNlTGlzdEZhY3RvcnkpO1xuXG5wcmljZUxpc3RGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcmljZUxpc3RGYWN0b3J5KCRsb2cpIHtcblxuXHQvL1RFTVBPUkFSWSBPQkpFQ1Rcblx0dmFyIGFsbFByaWNlcyA9IHtcblx0XHRwYWNrYWdpbmc6IHtcblx0XHRcdDA6IHtcblx0ICAgIFx0XHRcInRpdGxlXCI6IFwiU21hbGxcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiA0LFxuXHQgICAgXHRcdFwiY29tcGFydG1lbnRzXCI6IDEsXG5cdCAgICBcdFx0XCJtYXhGbGF2b3JzXCI6IDEwMFxuXHQgICAgXHR9LFxuXHQgICAgXHQxOiB7XG5cdCAgICBcdFx0XCJ0aXRsZVwiOiBcIkF2ZXJhZ2VcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiA4LFxuXHQgICAgXHRcdFwiY29tcGFydG1lbnRzXCI6IDEsXG5cdCAgICBcdFx0XCJtYXhGbGF2b3JzXCI6IDEwMFxuXHQgICAgXHR9LFxuXHQgICAgXHQyOiB7XG5cdCAgICBcdFx0XCJ0aXRsZVwiOiBcIkltcHJlc3NpdmVcIixcblx0ICAgIFx0XHRcInZvbHVtZVwiOiAxNixcblx0ICAgIFx0XHRcImNvbXBhcnRtZW50c1wiOiAxLFxuXHQgICAgXHRcdFwibWF4Rmxhdm9yc1wiOiAxMDBcblx0ICAgIFx0fSxcblx0ICAgIFx0Mzoge1xuXHQgICAgXHRcdFwidGl0bGVcIjogXCJQbGF0dGVyXCIsXG5cdCAgICBcdFx0XCJ2b2x1bWVcIjogMjAsXG5cdCAgICBcdFx0XCJjb21wYXJ0bWVudHNcIjogNCxcblx0ICAgIFx0XHRcIm1heEZsYXZvcnNcIjogNFxuXHQgICAgXHR9XG5cdFx0fSxcblx0XHRmbGF2b3JzOiB7XG4gICAgXHRcdDA6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcbiAgICBcdFx0MTogXCJEcnVua2VuIFBlY2Fuc1wiLFxuICAgIFx0XHQyOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuICAgIFx0XHQzOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuICAgIFx0XHQ0OiBcIkNpbm5hbW9uIEFsbW9uZHNcIixcbiAgICBcdFx0NTogXCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcbiAgICBcdFx0NjogXCJTZWNyZXQgUmVjaXBlIFBlYW51dHNcIlxuICAgIFx0fSxcbiAgICAgICAgdHlwZXM6IHtcbiAgICAgICAgICAgIDA6IFwiUGVjYW5zXCIsXG4gICAgICAgICAgICAxOiBcIlBlY2Fuc1wiLFxuICAgICAgICAgICAgMjogXCJQZWNhbnNcIixcbiAgICAgICAgICAgIDM6IFwiQWxtb25kc1wiLFxuICAgICAgICAgICAgNDogXCJBbG1vbmRzXCIsXG4gICAgICAgICAgICA1OiBcIkNhc2hld3NcIixcbiAgICAgICAgICAgIDY6IFwiUGVhbnV0c1wiXG4gICAgICAgIH0sXG4gICAgICAgIHJlY2lwaWVzOiB7XG4gICAgICAgICAgICAwOiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDE6IFwiRHJ1bmtlblwiLFxuICAgICAgICAgICAgMjogXCJDaW5uYW1vblwiLFxuICAgICAgICAgICAgMzogXCJTZWNyZXQgUmVjaXBlXCIsXG4gICAgICAgICAgICA0OiBcIkNpbm5hbW9uXCIsXG4gICAgICAgICAgICA1OiBcIlNlY3JldCBSZWNpcGVcIixcbiAgICAgICAgICAgIDY6IFwiU2VjcmV0IFJlY2lwZVwiICAgICAgICAgICBcbiAgICAgICAgfSxcblx0XHR3aXRoUGVhbnV0czoge1xuXHRcdFx0MDogNTAwLFxuXHRcdFx0MTogODAwLFxuXHRcdFx0MjogMTEwMCxcblx0XHRcdDM6IHtcblx0XHRcdFx0MTogMjAwMCxcblx0XHRcdFx0MjogMTgwMCxcblx0XHRcdFx0MzogMTYwMCxcblx0XHRcdFx0NDogMTQwMFxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0d2l0aG91dFBlYW51dHM6IHtcblx0XHRcdDA6IDcwMCxcblx0XHRcdDE6IDEzMDAsXG5cdFx0XHQyOiAxODAwLFxuXHRcdFx0Mzoge1xuXHRcdFx0XHQwOiAyMjAwXG5cdFx0XHR9XHRcdFx0XG5cdFx0fSxcblx0XHRfZGlzdGlsbFR5cGU6X2Rpc3RpbGxUeXBlLFxuXHRcdF9kaXN0aWxsRmxhdm9yczpfZGlzdGlsbEZsYXZvcnMsXG5cdFx0Y2FsY3VsYXRlUHVyY2hhc2VQcmljZTogY2FsY3VsYXRlUHVyY2hhc2VQcmljZSxcblx0XHRidWlsZERlc2NyaXB0aW9uOiBidWlsZERlc2NyaXB0aW9uXG5cdH07XG5cblx0ZnVuY3Rpb24gX2Rpc3RpbGxUeXBlKHJlZiwgbWl4KSB7XG5cblx0XHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHR5cGVPYmplY3QgPSB7fTtcblx0XHR2YXIgbm9PZlR5cGVzID0gMDtcblx0XHR2YXIgcmV0dXJuU3RyaW5nO1xuXG5cdFx0JGxvZy5pbmZvKCdtaXgnLCBtaXgpO1xuXG5cdFx0Ly9jb2xsZWN0IGFsbCB0aGUga2V5cyBmcm9tIHRoZSBtaXhcblx0XHRPYmplY3Qua2V5cyhtaXgpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdC8vdXNlIHRoZSBrZXlzIHRvIGFkZCBudXQgdHlwZXMgdG8gYSB0eXBlT2JqZWN0XG5cdFx0XHR0eXBlT2JqZWN0W3JlZltrZXldXSA9IHRydWU7XG5cdFx0fSk7XG5cblx0XHQvL2NvdW50IHRoZSB0eXBlcyBpbiB0aGUgdHlwZSBvYmplY3Qgbm93XG5cdFx0T2JqZWN0LmtleXModHlwZU9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFxuXHRcdFx0Ly9pbmNyaW1lbnQgdGhlIG51bWJlciBvZiB0eXBlc1xuXHRcdFx0bm9PZlR5cGVzKys7XG5cblx0XHRcdC8vc2F2ZSB0aGUgdHlwZSBmb3IgbGF0ZXIgaWYgbmVlZCBiZVxuXHRcdFx0cmV0dXJuU3RyaW5nID0ga2V5O1xuXHRcdH0pO1xuXG5cdFx0Ly9pZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSB0eXBlLi4uXG5cdFx0aWYobm9PZlR5cGVzID4gMSkge1xuXHRcdFx0Ly9pdCdzIGEgbWl4XG5cdFx0XHRpZih0eXBlb2YgbWl4WzZdICE9ICd1bmRlZmluZWQnICYmIG1peFs2XSA+PSAwLjUpIHJldHVyblN0cmluZyA9ICdQZWFudXQgTWl4Jztcblx0XHRcdGVsc2UgcmV0dXJuU3RyaW5nID0gJ01peCdcblxuXHRcdH0gXG5cblx0XHQvLyRsb2cuaW5mbyh0eXBlT2JqZWN0KTtcblxuXHRcdHJldHVybiByZXR1cm5TdHJpbmc7XG5cdH1cblxuXHRmdW5jdGlvbiBfZGlzdGlsbEZsYXZvcnMocmVmLCBtaXgpIHtcblx0XHRcblx0XHQvL2RlZmluZSB0aGUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGZsYXZvck9iamVjdCA9IHt9O1xuXHRcdHZhciBmbGF2b3JzQXJyYXkgPSBbXTtcblx0XHR2YXIgcmV0dXJuU3RyaW5nO1xuXG5cdFx0Ly9jb2xsZWN0IGFsbCB0aGUga2V5cyBmcm9tIHRoZSBtaXhcblx0XHRPYmplY3Qua2V5cyhtaXgpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cblx0XHRcdC8vdXNlIHRoZSBrZXlzIHRvIGFkZCBudXQgdHlwZXMgdG8gYSBmbGF2b3JPYmplY3Rcblx0XHRcdGZsYXZvck9iamVjdFtyZWZba2V5XV0gPSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Ly9idWlsZCBhbiBhcnJheSBvZiB0eXBlc1xuXHRcdE9iamVjdC5rZXlzKGZsYXZvck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblxuXHRcdFx0Zmxhdm9yc0FycmF5LnB1c2goa2V5KTtcblx0XHR9KTtcdFx0XG5cblx0XHRzd2l0Y2goZmxhdm9yc0FycmF5Lmxlbmd0aCkge1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRyZXR1cm5TdHJpbmcgPSBmbGF2b3JzQXJyYXlbMF07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRyZXR1cm5TdHJpbmcgPSBmbGF2b3JzQXJyYXlbMF0gKyAnICYgJyArIGZsYXZvcnNBcnJheVsxXTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDM6XG5cdFx0XHRcdHJldHVyblN0cmluZyA9IGZsYXZvcnNBcnJheVswXSArICcsICcgKyBmbGF2b3JzQXJyYXlbMV0gKyAnICYgJyArIGZsYXZvcnNBcnJheVsyXTtcblx0XHRcdFx0YnJlYWtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5TdHJpbmc7XG5cdH1cblxuXHRmdW5jdGlvbiBjYWxjdWxhdGVQdXJjaGFzZVByaWNlKHRoaXNQYWNrYWdpbmcsIHRoaXNQcmljaW5nKSB7XG5cdFx0XG5cdFx0Ly8kbG9nLmluZm8oJ1BhY2thZ2luZzonLCB0aGlzUGFja2FnaW5nKTtcblx0XHQvLyRsb2cuaW5mbygnUHJpY2luZzonLCB0aGlzUHJpY2luZyk7XG5cdFx0XG5cdFx0Ly9sb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgY29zdCA9IDA7XG5cblx0XHQvL2ZpcnN0IGNoZWNrIGZvciBwZWFudXRzXG5cdFx0aWYodHlwZW9mIHRoaXNQYWNrYWdpbmcubWl4Wyc2J10gPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdC8vcGVhbnV0cyBhcmUgTk9UIHByZXNlbnRcblx0XHRcdC8vJGxvZy5pbmZvKCdubyBwZWFudXRzJyk7XG5cdFx0XHQvL3RoZW4gY2hlY2sgZm9yIHNpemVcblx0XHRcdGlmKHRoaXNQYWNrYWdpbmcuc2l6ZSA+IDIpIHtcblx0XHRcdFx0Ly90aGlzIGlzIGEgcGxhdHRlclxuXHRcdFx0XHRjb3N0ID0gdGhpc1ByaWNpbmcud2l0aG91dFBlYW51dHNbdGhpc1BhY2thZ2luZy5zaXplLnRvU3RyaW5nKCldWycwJ107XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL3RoaXMgaXMgYSBjb25lXG5cdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV07XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly9wZWFudXRzIGFyZSBwcmVzZW50XG5cdFx0XHQvLyRsb2cuaW5mbygndGhlcmUgYXJlIHBlYW51dHMnKVxuXHRcdFx0Ly90aGVuIGNoZWNrIGZvciBzaXplXG5cdFx0XHRpZih0aGlzUGFja2FnaW5nLnNpemUgPiAyKSB7XG5cdFx0XHRcdC8vdGhpcyBpcyBhIHBsYXR0ZXJcblx0XHRcdFx0Ly9jb3VudCBzZWN0aW9ucyBvZiBwZWFudXRzXG5cdFx0XHRcdHZhciBwZWFudXRTZWN0aW9ucyA9IDQgKiB0aGlzUGFja2FnaW5nLm1peFsnNiddO1xuXG5cdFx0XHRcdC8vJGxvZy5pbmZvKHBlYW51dFNlY3Rpb25zLCAncGVhbnV0U2VjdGlvbnMnKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRoUGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV1bcGVhbnV0U2VjdGlvbnMudG9TdHJpbmcoKV07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vdGhpcyBpcyBhIGNvbmVcblx0XHRcdFx0Ly9pcyBpdCBtb3JlIG9yIGxlc3MgdGhhbiA1MCUgcGVhbnV0cz9cblx0XHRcdFx0Ly8kbG9nLmluZm8oXCIlIHBlYW51dHNcIiwgdGhpc1BhY2thZ2luZy5taXhbJzYnXSk7XG5cdFx0XHRcdGlmKHRoaXNQYWNrYWdpbmcubWl4Wyc2J10gPj0gMC41KSB7XG5cdFx0XHRcdFx0Ly8kbG9nLmluZm8oJ3BlYW51dHMgcHJpY2UnLCB0aGlzUHJpY2luZy53aXRoUGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV0pO1xuXHRcdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRoUGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8kbG9nLmluZm8oJ05vIFBlYW51dHMgcHJpY2UnLCB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV0pO1xuXHRcdFx0XHRcdGNvc3QgPSB0aGlzUHJpY2luZy53aXRob3V0UGVhbnV0c1t0aGlzUGFja2FnaW5nLnNpemUudG9TdHJpbmcoKV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY29zdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYnVpbGREZXNjcmlwdGlvbih0aGlzUGFja2FnaW5nLCB0aGlzUHJpY2luZykge1xuXHRcdC8vJGxvZy5pbmZvKCdidWlsZGluZyBhIGRlc2NyaXB0aW9uJyk7XG5cdFx0Ly8kbG9nLmluZm8oJ3R5cGUnLCB0aGlzUGFja2FnaW5nLm1peCk7XG5cdFx0Ly8kbG9nLmluZm8oJ2ZsYXZvcnMnLCB0aGlzUGFja2FnaW5nLm1peCk7XG5cdFx0Ly8kbG9nLmluZm8oJ3RoaXNQcmljaW5nJywgdGhpc1ByaWNpbmcpO1xuXG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gJyc7XG5cblx0XHQvL2RldGVybWluZSB0aGUgc2l6ZSAoc21hbGwsIGF2ZXJhZ2UsIGltcHJlc3NpdmUsIHBsYXR0ZXIpXG5cdFx0ZGVzY3JpcHRpb24gKz0gdGhpc1ByaWNpbmcucGFja2FnaW5nW3RoaXNQYWNrYWdpbmcuc2l6ZS50b1N0cmluZygpXS50aXRsZTtcblx0XHRkZXNjcmlwdGlvbiArPSBcIjogXCI7XG5cblx0XHQvL2RldGVybWluZSB0aGUgdHlwZSAoUGVjYW5zLCBBbG1vbmRzLCBDYXNoZXdzLCBQZWFudXRzLCBNaXgsIFBlYW51dCBNaXgpXG5cdFx0ZGVzY3JpcHRpb24gKz0gX2Rpc3RpbGxUeXBlKHRoaXNQcmljaW5nLnR5cGVzLCB0aGlzUGFja2FnaW5nLm1peCk7XG5cdFx0ZGVzY3JpcHRpb24gKz0gXCIgKFwiO1xuXG5cdFx0Ly9kZXRlcm1pbmUgcmVjaXBlICguLi4pXG5cdFx0ZGVzY3JpcHRpb24gKz0gX2Rpc3RpbGxGbGF2b3JzKHRoaXNQcmljaW5nLnJlY2lwaWVzLCB0aGlzUGFja2FnaW5nLm1peCk7O1xuXHRcdGRlc2NyaXB0aW9uICs9IFwiKVwiO1xuXG5cdFx0cmV0dXJuIGRlc2NyaXB0aW9uO1xuXHR9XG5cdHJldHVybiBhbGxQcmljZXM7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnc2hvcHBpbmdDYXJ0c0ZhY3RvcnknLCBzaG9wcGluZ0NhcnRzRmFjdG9yeSk7XG5cbnNob3BwaW5nQ2FydHNGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaG9wcGluZ0NhcnRzRmFjdG9yeSgkbG9nKSB7XG5cblx0Ly9URU1QT1JBUlkgT0JKRUNUXG5cdHZhciBhbGxDYXJ0RWxlbWVudHMgPSB7XG5cdFx0aXRlbXM6IFtcdC8vRVhBTVBMRSBPQkpFQ1Rcblx0XHRcdC8qeyBcblx0XHRcdFx0ZGVzY3JpcHRpb246XCJTbWFsbDogU1IgUGVjYW5zICYgU1IgQ2FzaGV3c1wiLFxuXHRcdFx0XHRwYWNrYWdpbmc6IDAsXG5cdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcIlNSUGVjYW5zXCI6MC41LFxuXHRcdFx0XHRcdFwiU1JDYXNoZXdzXCI6MC41XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHF0eTogNSxcblx0XHRcdFx0Y29zdDogNzAwXG5cdFx0XHR9Ki9cblx0XHRdLFxuXHRcdC8qc2VsZWN0ZWRQYWNrYWdpbmc6IHtcblx0XHRcdHNtYWxsczogMCxcblx0XHRcdG1lZGl1bXM6IDAsXG5cdFx0XHRsYXJnZXM6IDAsXG5cdFx0XHRwbGF0dGVyczogMFxuXHRcdH0sXG5cdFx0ZmlsbGVkUGFja2FnaW5nOiB7XG5cdFx0XHRzbWFsbHM6IHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bWVkaXVtczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9LFxuXHRcdFx0bGFyZ2VzOiAge1xuXHRcdFx0XHRxdHk6IDAsXG5cdFx0XHRcdG1peGVzOiBbXSxcblx0XHRcdFx0c3VidG90YWw6IDBcblx0XHRcdH0sXG5cdFx0XHRwbGF0dGVyczogIHtcblx0XHRcdFx0cXR5OiAwLFxuXHRcdFx0XHRtaXhlczogW10sXG5cdFx0XHRcdHN1YnRvdGFsOiAwXG5cdFx0XHR9XG5cdFx0fSwqL1xuXHRcdGNvc3Q6IHtcblx0XHRcdHN1YnRvdGFsOiAzNTAwLFxuXHRcdFx0dGF4ZXM6IDAsXG5cdFx0XHRkaXNjb3VudHM6IDAsXG5cdFx0XHRzaGlwcGluZzoge1xuXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhZGRBU2l6ZTogYWRkQVNpemUsXG5cdFx0cmVtb3ZlQVNpemU6IHJlbW92ZUFTaXplLFxuXHRcdGFkZEZpbGxlZFBhY2thZ2U6IGFkZEZpbGxlZFBhY2thZ2UsXG5cdFx0cmVtb3ZlQVBhY2thZ2U6IHJlbW92ZUFQYWNrYWdlLFxuXHRcdGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbDogY2FsY3VsYXRlSXRlbVN1YnRvdGFsLFxuXHRcdGNhbGN1bGF0ZVRvdGFsQ29zdDogY2FsY3VsYXRlVG90YWxDb3N0XG5cdH07XG5cblx0ZnVuY3Rpb24gYWRkQVNpemUoc3RhcnRpbmdWYWx1ZSkge1xuXHRcdC8vVE9ETzogUkVNT1ZFIFRISVMgTEFURVJcblx0XHQvL25vdGlmeSB0aGUgdXNlciB3aGF0IGlzIGNvbWluZyBpbiBhbmQgd2hhdCBpcyBnb2luZyBvdXRcblx0XHQvLyRsb2cuaW5mbygnZ290IHRoaXMnLCBzdGFydGluZ1ZhbHVlLCAnIHJldHVybmluZyB0aGlzICcsIHN0YXJ0aW5nVmFsdWUgKyAxKTtcblxuXHRcdC8vaW5jcmltZW50IHRoZSBzdGFydGluZyB2YWx1ZSBcblx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSArIDE7XG5cdH1cblx0ZnVuY3Rpb24gcmVtb3ZlQVNpemUoc3RhcnRpbmdWYWx1ZSkge1xuXHRcdFxuXHRcdGlmKHN0YXJ0aW5nVmFsdWUgPiAwKSB7XG5cdFx0XHQvL1RPRE86IFJFTU9WRSBUSElTIExBVEVSXG5cdFx0XHQvL25vdGlmeSB0aGUgdXNlciB3aGF0IGlzIGNvbWluZyBpbiBhbmQgd2hhdCBpcyBnb2luZyBvdXRcblx0XHRcdC8vJGxvZy5pbmZvKCdnb3QgdGhpcycsIHN0YXJ0aW5nVmFsdWUsICcgcmV0dXJuaW5nIHRoaXMgJywgc3RhcnRpbmdWYWx1ZSAtIDEpO1xuXG5cdFx0XHQvL2luY3JpbWVudCB0aGUgc3RhcnRpbmcgdmFsdWUgXG5cdFx0XHRyZXR1cm4gc3RhcnRpbmdWYWx1ZSAtIDE7XG5cdFx0fSBlbHNlIHJldHVybiAwO1x0XHRcblx0fVxuXHRmdW5jdGlvbiBhZGRGaWxsZWRQYWNrYWdlKG5ld1BhY2thZ2UpIHtcblx0XHQvL25vdGlmeSB1cyB0aGF0IHRoZSBwYWNrYWdlIHdhcyByZWNlaXZlZFxuXHRcdCRsb2cuaW5mbygnYWRkaW5nIGEgbmV3IHBhY2thZ2Ugbm93JywgbmV3UGFja2FnZSk7XG5cblx0XHQvL3JldHVybiB0aGUgcGFja2FnZVxuXHRcdHJldHVybiBuZXdQYWNrYWdlO1xuXHR9XG5cdGZ1bmN0aW9uIHJlbW92ZUFQYWNrYWdlKHNpemUsIGlkKSB7fVxuXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZUl0ZW1TdWJ0b3RhbChpdGVtKSB7XG5cdFx0XG5cdFx0Ly9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIHN1YnRvdGFsID0gKChpdGVtLmNvc3QgKiBpdGVtLnF0eSkgLyAxMDApLnRvRml4ZWQoMik7XG5cblx0XHRyZXR1cm4gc3VidG90YWw7XG5cdH1cblxuXHRmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbENvc3QoYWxsSXRlbXMpIHtcblxuXHRcdC8vZGVjYWxyZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciB0b3RhbCA9IDA7XG5cblx0XHRhbGxJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdHRvdGFsICs9ICgoaXRlbS5jb3N0ICogaXRlbS5xdHkpIC8gMTAwKTtcblx0XHR9KTtcdFxuXG5cdFx0cmV0dXJuIHRvdGFsLnRvRml4ZWQoMik7XG5cdH1cblx0XG5cdHJldHVybiBhbGxDYXJ0RWxlbWVudHM7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuZmFjdG9yeSgnc3RhdGVGYWN0b3J5Jywgc3RhdGVGYWN0b3J5KTtcblxuc3RhdGVGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZUZhY3RvcnkoJGxvZykge1xuXG5cdC8vVEVNUE9SQVJZIE9CSkVDVFxuXHR2YXIgc3RhdGVzRmFjdG9yeSA9IHtcblx0XHRkZWZhdWx0U3RhdGU6IGRlZmF1bHRTdGF0ZSxcblx0XHRidWlsZEJ1dHRvbkxpc3Q6IGJ1aWxkQnV0dG9uTGlzdFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFN0YXRlKHNlY3Rpb24pIHtcblx0XHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgcmV0dXJuT2JqZWN0O1xuXG5cdFx0aWYoc2VjdGlvbj09J3Nob3BwaW5nJykge1xuXHRcdFx0cmV0dXJuT2JqZWN0ID0ge1xuXHRcdFx0XHRhY3RpdmVUYWI6IDAsXG5cdFx0XHRcdGFsbFRhYnM6IHtcblx0XHRcdFx0XHQwOiAncGFja2FnZScsXG5cdFx0XHRcdFx0MTogJ2ZsYXZvcicsXG5cdFx0XHRcdFx0MjogJ2FjY2VzcycsXG5cdFx0XHRcdFx0MzogJ2NoZWNrb3V0J1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRwYWNrYWdpbmc6IHtcblx0XHRcdFx0XHRcInNlbGVjdGVkXCI6IGZhbHNlLFxuXHRcdFx0XHRcdFwic2l6ZVwiOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XCJmbGF2b3JzXCI6IDAsXG5cdFx0XHRcdFx0XCJtaXhcIjoge30sXG5cdFx0XHRcdFx0XCJjb3N0XCI6IDBcblx0XHRcdFx0fSxcblx0XHRcdFx0YnV0dG9uczoge1xuXHRcdFx0XHRcdHR5cGVMaXN0OiB7XG5cdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdQZWNhbnMnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVjaXBpZXM6IDMsXG5cdFx0XHRcdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdTUicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdDE6IHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlY2lwZTogJ0RydW5rJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0Mjoge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnQ2lubicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHQxOiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdBbG1vbmRzJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlY2lwaWVzOiAyLFxuXHRcdFx0XHRcdFx0XHRmbGF2b3JzOiB7XG5cdFx0XHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnU1InLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XHQxOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdDaW5uJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdDI6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ0Nhc2hld3MnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0cmVjaXBpZXM6IDEsXG5cdFx0XHRcdFx0XHRcdGZsYXZvcnM6IHtcblx0XHRcdFx0XHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZWNpcGU6ICdTUicsXG5cdFx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHQzOiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdQZWFudXRzJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJlY2lwaWVzOiAxLFxuXHRcdFx0XHRcdFx0XHRmbGF2b3JzOiB7XG5cdFx0XHRcdFx0XHRcdFx0MDoge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVjaXBlOiAnU1InLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Zmxhdm9yTGlzdDoge1x0XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XHRcdFx0XHRcdDA6IHtcblx0XHRcdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3JldCBSZWNpcGUgUGVjYW5zXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ1BlY2FucycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnU2VjcmV0IFJlY2lwZScsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0ICAgIFx0XHQxOiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOiBcIkRydW5rZW4gUGVjYW5zXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ1BlY2FucycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnRHJ1bmtlbicsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0ICAgIFx0XHQyOiB7XG5cdFx0XHQgICAgXHRcdFx0XCJ0aXRsZVwiOiBcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdQZWNhbnMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ0Npbm5hbW9uJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHQgICAgXHRcdDM6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBBbG1vbmRzXCIsXG5cdFx0XHRcdFx0XHRcdCd0eXBlJzogJ0FsbW9uZHMnLFxuXHRcdFx0XHRcdFx0XHQncmVjaXBlJzogJ1NlY3JldCBSZWNpcGUnLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdCAgICBcdFx0NDoge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjpcIkNpbm5hbW9uIEFsbW9uZHNcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnQWxtb25kcycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnQ2lubmFtb24nLFxuXHRcdFx0XHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgICAgXHRcdFx0XG5cdFx0XHQgICAgXHRcdDU6IHtcblx0XHRcdCAgICBcdFx0XHRcInRpdGxlXCI6XCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcblx0XHRcdFx0XHRcdFx0J3R5cGUnOiAnQ2FzaGV3cycsXG5cdFx0XHRcdFx0XHRcdCdyZWNpcGUnOiAnU2VjcmV0IFJlY2lwZScsXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCAgICBcdFx0XHRcblx0XHRcdCAgICBcdFx0Njoge1xuXHRcdFx0ICAgIFx0XHRcdFwidGl0bGVcIjpcIlNlY3JldCBSZWNpcGUgUGVhbnV0c1wiLFxuXHRcdFx0XHRcdFx0XHQndHlwZSc6ICdQZWFudXRzJyxcblx0XHRcdFx0XHRcdFx0J3JlY2lwZSc6ICdTZWNyZXQgUmVjaXBlJyxcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gICAgXHRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGFxdWlzaXRpb246IHtcblx0XHRcdFx0XHRcdGFkZHJlc3NlZDogZmFsc2UsXG5cdFx0XHRcdFx0XHRwaWNrdXA6IHtcblx0XHRcdFx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRcdFx0J2dseXBoaWNvbic6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0J2dseXBoaWNvbi1vayc6IGZhbHNlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzaGlwOiB7XG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0XHRcdCdnbHlwaGljb24nOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdCdnbHlwaGljb24tb2snOiBmYWxzZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmKHNlY3Rpb249PSdzaG9wcGluZ1Byb2dyZXNzQmFyJykge1xuXHRcdFx0cmV0dXJuT2JqZWN0ID0ge1xuXHRcdFx0XHQwOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IHRydWVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fSxcblx0XHRcdFx0MToge1xuXHRcdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRcdHNwYnRhYlNlbGVjdGVkOiBmYWxzZVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3R5bGVzOiB7fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQyOiB7XG5cdFx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdFx0c3BidGFiU2VsZWN0ZWQ6IGZhbHNlXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdHlsZXM6IHt9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdDM6IHtcblx0XHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0XHRzcGJ0YWJTZWxlY3RlZDogZmFsc2Vcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN0eWxlczoge31cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gXG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cblx0ZnVuY3Rpb24gYnVpbGRCdXR0b25MaXN0KC8qbGlzdCwgb3B0aW9ucywgc3RhdGVzKi8pIHtcblx0XHQvL2RlY2xhcmUgbG9jYWwgdmFyaWFibGVcblx0XHR2YXIgcmV0dXJuT2JqZWN0ID0ge1xuXHRcdFx0MDoge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwiU2VjcmV0IFJlY2lwZSBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDE6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6IFwiRHJ1bmtlbiBQZWNhbnNcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sXG4gICAgXHRcdDI6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6IFwiQ2lubmFtb24gUGVjYW5zXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuICAgIFx0XHQzOiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOiBcIlNlY3JldCBSZWNpcGUgQWxtb25kc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSxcbiAgICBcdFx0NDoge1xuICAgIFx0XHRcdFwidGl0bGVcIjpcIkNpbm5hbW9uIFBlY2Fuc1wiLFxuXHRcdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHRcdHByb3BvcnRpb246IDAuMDAsXG5cdFx0XHRcdGNsYXNzZXM6IHtcblx0XHRcdFx0XHRhdmFpbFByb2R1Y3RGbGF2b3I6IHRydWUsXG5cdFx0XHRcdFx0dW5BdmFpbFByb2R1Y3RGbGF2b3I6IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGVkUHJvZHVjdEZsYXZvcjogZmFsc2Vcblx0XHRcdFx0fVxuXHRcdFx0fSwgICAgXHRcdFx0XG4gICAgXHRcdDU6IHtcbiAgICBcdFx0XHRcInRpdGxlXCI6XCJTZWNyZXQgUmVjaXBlIENhc2hld3NcIixcblx0XHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRwcm9wb3J0aW9uOiAwLjAwLFxuXHRcdFx0XHRjbGFzc2VzOiB7XG5cdFx0XHRcdFx0YXZhaWxQcm9kdWN0Rmxhdm9yOiB0cnVlLFxuXHRcdFx0XHRcdHVuQXZhaWxQcm9kdWN0Rmxhdm9yOiBmYWxzZSxcblx0XHRcdFx0XHRzZWxlY3RlZFByb2R1Y3RGbGF2b3I6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH0sICAgIFx0XHRcdFxuICAgIFx0XHQ2OiB7XG4gICAgXHRcdFx0XCJ0aXRsZVwiOlwiU2VjcmV0IFJlY2lwZSBQZWFudXRzXCIsXG5cdFx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdFx0cHJvcG9ydGlvbjogMC4wMCxcblx0XHRcdFx0Y2xhc3Nlczoge1xuXHRcdFx0XHRcdGF2YWlsUHJvZHVjdEZsYXZvcjogdHJ1ZSxcblx0XHRcdFx0XHR1bkF2YWlsUHJvZHVjdEZsYXZvcjogZmFsc2UsXG5cdFx0XHRcdFx0c2VsZWN0ZWRQcm9kdWN0Rmxhdm9yOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9ICAgIFx0XHRcdFxuXHRcdH07XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cblx0cmV0dXJuIHN0YXRlc0ZhY3Rvcnk7XG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuY29uZmlnKGNvbmZpZyk7XG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikgeyAgIFxuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgLy9kZWZpbmUgdGhlIGxhbmRpbmcgcGFnZVxuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xhbmRpbmdQYWdlLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLy9kZWZpbmUgdGhlIHNob3BwaW5nIHJvdXRlc1xuICAgIC53aGVuKCcvc2hvcCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9zaG9wcGluZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnc2hvcHBpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3Nob3AvcmVjZWlwdCcsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9vcmRlclJlY2VpcHQuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ3Nob3BwaW5nUmVjZWlwdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC8vZGVmaW5lIHRoZSBsb2NhdGlvbnMgcm91dGVzXG4gICAgLndoZW4oJy9sb2NhdGlvbnMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgbG9jYXRpb25zTW9kZWw6IGxvYWRMb2NhdGlvbnNNb2RlbFxuICAgICAgICB9XG4gICAgfSkgICAgXG4gICAgLndoZW4oJy9sb2NhdGlvbnMvOnN0YXRlJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvY2F0aW9ucy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbG9jYXRpb25zQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZTogeyAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgICAgIGxvY2F0aW9uc01vZGVsOiBsb2FkTG9jYXRpb25zTW9kZWxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLndoZW4oJy9sb2NhdGlvbnMvOnN0YXRlLzpyZWdpb24nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbG9jYXRpb25zLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2NhdGlvbnNDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgbG9jYXRpb25zTW9kZWw6IGxvYWRMb2NhdGlvbnNNb2RlbFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvL2RlZmluZSB0aGUgY29udGFjdCByb3V0ZXNcbiAgICAud2hlbignL2NvbnRhY3QnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29udGFjdC5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdENvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvYWRtaW4vc2VydmVyL3Rlc3QnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvYWRtaW4uaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2FkbWluQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYXRpb25zTW9kZWwobG9jYXRpb25EYXRhKSB7XG4gICAgY29uc29sZS5sb2coJ3RyeWluZyB0byBsb2FkIGxvY2F0aW9uIG1vZGVsJyk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGxvY2F0aW9uRGF0YS5nZXRMaXN0KCdzdGF0ZXMnKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgcmVqZWN0KCdhbiBlcnJvciBvY2N1cmVkJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnYWhOdXRzV2ViQXBwJylcbiAgICAuc2VydmljZSgnZmlyZWJhc2UnLCBmaXJlYmFzZSk7XG5cbmZpcmViYXNlLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJlYmFzZSgkbG9nKSB7XG5cblx0dGhpcy50ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0JGxvZy5pbmZvKCdpbiBmaXJlYmFzZScpO1xuXHRcdCRsb2cuaW5mbyhBSF9OVVRTX0ZCX0FQSUtFWSk7XG5cdFx0JGxvZy5pbmZvKCdnb3QgaGVyZSBpbiBmaXJlYmFzZScpO1xuXHR9XG5cblx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNvbmZpZyA9IHtcblx0XHRcdGFwaUtleTogQUhfTlVUU19GQl9BUElLRVksXG5cdFx0XHRhdXRoRG9tYWluOiBBSF9OVVRTX0ZCX0FVVEhET01BSU4sXG5cdFx0XHRkYXRhYmFzZVVSTDogQUhfTlVUU19GQl9EQVRBQkFTRVVSTCxcblx0XHRcdHN0b3JhZ2VCdWNrZXQ6IEFIX05VVFNfRkJfU1RPUkFHRUJVQ0tFVFxuXHRcdH07XG5cdFx0ZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1x0XHRcblx0fVxuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FoTnV0c1dlYkFwcCcpXG4gICAgLnNlcnZpY2UoJ2xvY2F0aW9uRGF0YScsIGxvY2F0aW9uRGF0YSk7XG5cbmxvY2F0aW9uRGF0YS4kaW5qZWN0ID0gWyckbG9nJywgJ2JhY2tlbmQnLCAnZmlyZWJhc2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2NhdGlvbkRhdGEoJGxvZywgYmFja2VuZCwgZmlyZWJhc2UpIHtcblx0dmFyIGxpc3RzID0ge1xuXHRcdFwic3RhdGVzXCI6IDBcblx0fTtcblx0dmFyIF9yYXcgPSB7fTtcblx0dmFyIF9zdGF0ZXMgPSBbXTtcblxuXHR0aGlzLnNldCA9IGZ1bmN0aW9uKHZhcmlhYmxlLCB2YWx1ZSkge1xuXHRcdHRoaXNbdmFyaWFibGVdID0gdmFsdWVcblx0fVxuXG5cdHRoaXMuZG93bmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGQgPSB0aGlzO1xuXG5cdFx0Ly8kbG9nLmluZm8oJ2xvYWRpbmcgTG9jYWl0b24gRGF0YScpO1xuXG5cdFx0Ly9jYWxsIGRhdGFiYXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQvL2NhbGwgb3V0IHRoZSBzZXJ2ZXJcblx0XHRcdGJhY2tlbmQuZ2V0TG9jYXRpb25zKCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vc2F2ZSB0byBfcmF3XG5cdFx0XHRcdGxkLnNldCgnX3JhdycsIHJlc3BvbnNlKTtcblxuXHRcdFx0XHQvL2NvbnZlcnQgX3JhdyB0byBfc3RhdGVzXG5cblx0XHRcdFx0Ly9zYXZlIHRvIF9zdGF0ZXNcblx0XHRcdFx0bGQuc2V0KCdfc3RhdGVzJywgWydDYWxpZm9ybmlhJywgJ09yZWdvbiddKTtcblxuXHRcdFx0XHQvL3JldHVybiB0aGUgX3N0YXRlcyBsaXN0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1x0XHRcdFx0XG5cdFx0XHRcdC8vcmVzb2x2ZSh7J3Rlc3RpbmcnOidnb29kIHRlc3QnfSlcblx0XHRcdFx0XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHR0aGlzLmdldFN0YXRlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBfc3RhdGVzO1xuXHR9XG5cblx0dGhpcy5nZXRMaXN0ID0gZnVuY3Rpb24obGlzdCkge1xuXHRcdHZhciBsZCA9IHRoaXM7XG5cblx0XHQvL2ZpcmViYXNlLnRlc3QoKTtcblxuXHRcdHN3aXRjaChsaXN0c1tsaXN0XSkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHQvL2NoZWNrIHRoZSByYXcgb2JqZWN0XG5cdFx0XHRcdGlmKF9zdGF0ZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0Ly9pZiB0aGUgb2JqZWN0IGlzIGVtcHR5IGRvd25sb2FkIGZyb20gdGhlIHNlcnZlXG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZShsZC5kb3dubG9hZCgpKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvL2lmIGl0IGlzIG5vdCBlbXB0eSByZXR1cm4gdGhlIGxpc3QgdGhhdCBleGlzdHNcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGxkLmdldFN0YXRlcygpKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdCRsb2cuaW5mbygnZ290IHRoZSBkZWZhdWx0IGNhc2UnKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fTtcblxuXHR9XG5cbn0iLCIvLyBNT0RVTEVcbnZhciBhaE51dHNXZWJBcHAgPSBhbmd1bGFyLm1vZHVsZSgnYWhOdXRzV2ViQXBwJywgWyduZ1JvdXRlJ10pO1xuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
